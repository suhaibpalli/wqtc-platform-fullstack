================================================================================
CODEBASE EXPORT
================================================================================


============================================================
FILE: .\docker-compose.yml
============================================================
services:
  # 1. Database Service
  db:
    image: postgres:15-alpine
    container_name: wqtc_db
    restart: always
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
      - POSTGRES_DB=wqtc_db
    volumes:
      - postgres_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 5s
      timeout: 5s
      retries: 5
    networks:
      - wqtc_network

  # 2. Backend Service (FastAPI)
  backend:
    build: 
      context: ./backend
      dockerfile: Dockerfile
    container_name: wqtc_backend
    restart: always
    command: sh -c "alembic upgrade head && uvicorn app.main:app --host 0.0.0.0 --port 8000"
    volumes:
      # Persist uploaded files (PDFs, Covers)
      - static_volume:/app/static
    environment:
      # Connect to 'db' service defined above
      - DATABASE_URL=postgresql://postgres:password@db:5432/wqtc_db
      - JWT_SECRET=${JWT_SECRET}
      # Allow frontend container and browser access
      - CORS_ORIGINS=["http://localhost:3000","http://frontend:3000"]
    ports:
      - "8000:8000" # Expose for debugging if needed, or internal only
    depends_on:
      db:
        condition: service_healthy
    networks:
      - wqtc_network

  # 3. Frontend Service (Next.js)
  frontend:
    build: 
      context: ./wqtc
      dockerfile: Dockerfile
      args:
        - BACKEND_INTERNAL_URL=http://backend:8000
    container_name: wqtc_frontend
    restart: always
    environment:
      - NODE_ENV=production
      - JWT_SECRET=${JWT_SECRET}
      # Internal Docker URL for server-side rewrites
      - BACKEND_INTERNAL_URL=http://backend:8000
    ports:
      - "3000:3000"
    depends_on:
      - backend
    networks:
      - wqtc_network

volumes:
  postgres_data:
  static_volume:

networks:
  wqtc_network:
    driver: bridge


============================================================
FILE: .\backend\create_admin.py
============================================================
# create_admin.py
from app.database import SessionLocal
from app.models.user import User
from app.core.security import get_password_hash

def create_super_user():
    db = SessionLocal()
    email = "admin@wqtc.com"
    password = "admin"  # Change this!
    
    # Check if exists
    existing = db.query(User).filter(User.email == email).first()
    if existing:
        print(f"User {email} already exists.")
        return

    new_user = User(
        email=email,
        username="admin",
        password_hash=get_password_hash(password),
        role="admin"
    )
    
    db.add(new_user)
    db.commit()
    print(f"Superuser created! Email: {email}, Password: {password}")
    db.close()

if __name__ == "__main__":
    create_super_user()


============================================================
FILE: .\backend\Dockerfile
============================================================
FROM python:3.11-slim

WORKDIR /app

# Install system dependencies
RUN apt-get update && apt-get install -y \
    gcc \
    postgresql-client \
    && rm -rf /var/lib/apt/lists/*

# Copy requirements
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy application
COPY . .

# Create directories
RUN mkdir -p static/pdfs static/coverpages static/uploads

# Expose port
EXPOSE 8000

# Run migrations and start server
CMD ["sh", "-c", "alembic upgrade head && uvicorn app.main:app --host 0.0.0.0 --port 8000"]



============================================================
FILE: .\backend\alembic\env.py
============================================================
import os

from logging.config import fileConfig

from sqlalchemy import engine_from_config
from sqlalchemy import pool

from alembic import context

# 1. Import your app settings to read the .env file
from app.config import settings

# 2. Import your Base and Models so Alembic can "see" your tables
from app.database import Base
import app.models.user
import app.models.video
import app.models.ebook
import app.models.surah
import app.models.registration
# ... add any other model imports here

# this is the Alembic Config object, which provides
# access to the values within the .ini file in use.
config = context.config

# Interpret the config file for Python logging.
if config.config_file_name is not None:
    fileConfig(config.config_file_name)

# 3. OVERRIDE the sqlalchemy.url in alembic.ini with the one from app.config
#    This ensures it uses the URL from your .env file
config.set_main_option("sqlalchemy.url", settings.DATABASE_URL)

target_metadata = Base.metadata

def run_migrations_offline() -> None:
    """Run migrations in 'offline' mode."""
    url = config.get_main_option("sqlalchemy.url")
    context.configure(
        url=url,
        target_metadata=target_metadata,
        literal_binds=True,
        dialect_opts={"paramstyle": "named"},
    )

    with context.begin_transaction():
        context.run_migrations()

def run_migrations_online() -> None:
    """Run migrations in 'online' mode."""
    connectable = engine_from_config(
        config.get_section(config.config_ini_section, {}),
        prefix="sqlalchemy.",
        poolclass=pool.NullPool,
    )

    with connectable.connect() as connection:
        context.configure(
            connection=connection, target_metadata=target_metadata
        )

        with context.begin_transaction():
            context.run_migrations()

if context.is_offline_mode():
    run_migrations_offline()
else:
    run_migrations_online()



============================================================
FILE: .\backend\alembic\versions\f8ceabd66212_initial_migration.py
============================================================
"""Initial migration

Revision ID: f8ceabd66212
Revises: 
Create Date: 2025-11-20 00:47:30.716390

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = 'f8ceabd66212'
down_revision: Union[str, None] = None
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('class_registrations',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=False),
    sa.Column('email', sa.String(length=255), nullable=False),
    sa.Column('phone', sa.String(length=50), nullable=True),
    sa.Column('country', sa.String(length=100), nullable=True),
    sa.Column('preferred_language', sa.String(length=50), nullable=True),
    sa.Column('preferred_day', sa.String(length=50), nullable=True),
    sa.Column('preferred_time', sa.String(length=50), nullable=True),
    sa.Column('status', sa.String(length=50), nullable=True),
    sa.Column('notes', sa.Text(), nullable=True),
    sa.Column('registered_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_class_registrations_id'), 'class_registrations', ['id'], unique=False)
    op.create_table('ebooks',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('title', sa.String(length=255), nullable=False),
    sa.Column('filename', sa.String(length=500), nullable=False),
    sa.Column('cover_image', sa.String(length=500), nullable=True),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('pages', sa.Integer(), nullable=True),
    sa.Column('createdby', sa.String(length=100), nullable=True),
    sa.Column('createddate', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_ebooks_id'), 'ebooks', ['id'], unique=False)
    op.create_table('surahs',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=100), nullable=False),
    sa.Column('arabic_name', sa.String(length=100), nullable=True),
    sa.Column('english_name', sa.String(length=100), nullable=True),
    sa.Column('revelation_place', sa.String(length=50), nullable=True),
    sa.Column('total_verses', sa.Integer(), nullable=True),
    sa.Column('description', sa.Text(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_surahs_id'), 'surahs', ['id'], unique=False)
    op.create_table('users',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('email', sa.String(length=255), nullable=False),
    sa.Column('username', sa.String(length=100), nullable=False),
    sa.Column('password_hash', sa.String(length=255), nullable=False),
    sa.Column('role', sa.String(length=50), nullable=False),
    sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=True),
    sa.Column('updated_at', sa.DateTime(timezone=True), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_users_email'), 'users', ['email'], unique=True)
    op.create_index(op.f('ix_users_id'), 'users', ['id'], unique=False)
    op.create_index(op.f('ix_users_username'), 'users', ['username'], unique=True)
    op.create_table('videos',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('title', sa.String(length=255), nullable=False),
    sa.Column('video_url', sa.String(length=500), nullable=False),
    sa.Column('surah_no', sa.Integer(), nullable=False),
    sa.Column('surah_name', sa.String(length=100), nullable=True),
    sa.Column('starting_ayah', sa.Integer(), nullable=True),
    sa.Column('ending_ayah', sa.Integer(), nullable=True),
    sa.Column('keywords', sa.Text(), nullable=True),
    sa.Column('created_by', sa.String(length=100), nullable=True),
    sa.Column('created_date', sa.DateTime(timezone=True), server_default=sa.text('now()'), nullable=True),
    sa.ForeignKeyConstraint(['surah_no'], ['surahs.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_videos_id'), 'videos', ['id'], unique=False)
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f('ix_videos_id'), table_name='videos')
    op.drop_table('videos')
    op.drop_index(op.f('ix_users_username'), table_name='users')
    op.drop_index(op.f('ix_users_id'), table_name='users')
    op.drop_index(op.f('ix_users_email'), table_name='users')
    op.drop_table('users')
    op.drop_index(op.f('ix_surahs_id'), table_name='surahs')
    op.drop_table('surahs')
    op.drop_index(op.f('ix_ebooks_id'), table_name='ebooks')
    op.drop_table('ebooks')
    op.drop_index(op.f('ix_class_registrations_id'), table_name='class_registrations')
    op.drop_table('class_registrations')
    # ### end Alembic commands ###



============================================================
FILE: .\backend\app\config.py
============================================================
from pydantic_settings import BaseSettings
from typing import List
import json

class Settings(BaseSettings):
    DATABASE_URL: str
    JWT_SECRET: str
    JWT_ALGORITHM: str = "HS256"
    JWT_EXPIRATION_MINUTES: int = 10080  # 7 days
    CORS_ORIGINS: str = '["http://localhost:3000"]'
    UPLOAD_DIR: str = "./static"
    
    @property
    def cors_origins_list(self) -> List[str]:
        return json.loads(self.CORS_ORIGINS)
    
    class Config:
        env_file = ".env"
        case_sensitive = True

settings = Settings()



============================================================
FILE: .\backend\app\database.py
============================================================
from sqlalchemy import create_engine
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker
from app.config import settings

engine = create_engine(
    settings.DATABASE_URL,
    pool_pre_ping=True,
    pool_size=10,
    max_overflow=20,
    echo=False
)

SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)
Base = declarative_base()

def get_db():
    """Dependency for database sessions"""
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()



============================================================
FILE: .\backend\app\main.py
============================================================
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
from fastapi.staticfiles import StaticFiles
from app.config import settings

# Import Routers
from app.api.v1 import auth, ebooks, videos, surahs, registrations

import os

app = FastAPI(
    title="WQTC API",
    description="Word for Word Quran Translation Center API",
    version="1.0.0"
)

# CORS
app.add_middleware(
    CORSMiddleware,
    allow_origins=settings.cors_origins_list,
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# Static files
os.makedirs(settings.UPLOAD_DIR, exist_ok=True)
app.mount("/static", StaticFiles(directory=settings.UPLOAD_DIR), name="static")

# API routes
app.include_router(auth.router, prefix="/api/v1")
app.include_router(ebooks.router, prefix="/api/v1")
app.include_router(videos.router, prefix="/api/v1")
app.include_router(surahs.router, prefix="/api/v1")
app.include_router(registrations.router, prefix="/api/v1")

@app.get("/")
async def root():
    return {"message": "WQTC API v1.0", "status": "running"}

@app.get("/health")
async def health_check():
    return {"status": "healthy"}



============================================================
FILE: .\backend\app\api\deps.py
============================================================
from fastapi import Depends, HTTPException, status, Cookie
from fastapi.security import HTTPBearer
from sqlalchemy.orm import Session
from typing import Optional
from app.database import get_db
from app.core.security import decode_token
from app.models.user import User

security = HTTPBearer()

async def get_current_user(
    token: Optional[str] = Cookie(None),
    db: Session = Depends(get_db)
) -> User:
    """Dependency to get current authenticated user"""
    if not token:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="Not authenticated"
        )
    
    payload = decode_token(token)
    if not payload:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="Invalid token"
        )
    
    email: str = payload.get("sub")
    if email is None:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="Invalid token payload"
        )
    
    user = db.query(User).filter(User.email == email).first()
    if user is None:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="User not found"
        )
    
    return user

async def get_admin_user(current_user: User = Depends(get_current_user)) -> User:
    """Dependency for admin-only routes"""
    if current_user.role != "admin":
        raise HTTPException(
            status_code=status.HTTP_403_FORBIDDEN,
            detail="Admin access required"
        )
    return current_user



============================================================
FILE: .\backend\app\api\v1\auth.py
============================================================
from fastapi import APIRouter, Depends, HTTPException, status, Response
from sqlalchemy.orm import Session
from app.database import get_db
from app.models.user import User
from app.schemas.user import UserLogin, UserResponse, Token
from app.core.security import verify_password, create_access_token
from app.api.deps import get_current_user

router = APIRouter(prefix="/auth", tags=["Authentication"])

@router.post("/login", response_model=Token)
async def login(
    user_data: UserLogin,
    response: Response,
    db: Session = Depends(get_db)
):
    """Login endpoint"""
    user = db.query(User).filter(User.email == user_data.email).first()
    
    if not user or not verify_password(user_data.password, user.password_hash):
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="Incorrect email or password"
        )
    
    access_token = create_access_token(
        data={"sub": user.email, "role": user.role}
    )
    
    # UPDATED COOKIE SETTINGS FOR LOCALHOST DEVELOPMENT
    response.set_cookie(
        key="token",
        value=access_token,
        httponly=True,
        secure=False,      # Keep False for http://localhost
        samesite="lax",    # 'lax' is usually fine, but 'none' requires secure=True
        max_age=7*24*60*60,
        path="/"           # <--- CRITICAL: Ensure path is root so it's valid for all routes
    )
    
    return {"access_token": access_token, "token_type": "bearer"}

@router.post("/logout")
async def logout(response: Response):
    """Logout endpoint"""
    response.delete_cookie(key="token")
    return {"msg": "Logged out successfully"}

@router.get("/me", response_model=UserResponse)
async def get_me(current_user: User = Depends(get_current_user)):
    """Get current user info"""
    return current_user



============================================================
FILE: .\backend\app\api\v1\ebooks.py
============================================================
from fastapi import APIRouter, Depends, HTTPException, UploadFile, File
from sqlalchemy.orm import Session
from typing import List, Optional
from app.database import get_db
from app.models.ebook import EBook
from app.schemas.ebook import EBookCreate, EBookUpdate, EBookResponse
from app.api.deps import get_admin_user
from app.utils.file_upload import save_upload_file
import os
from app.config import settings

router = APIRouter(prefix="/ebooks", tags=["EBooks"])

# 307 FIX: Remove "/" from route decorators
@router.get("", response_model=List[EBookResponse])
async def get_ebooks(
    sort: str = "DESC",
    limit: Optional[int] = None,
    db: Session = Depends(get_db)
):
    """Get all ebooks"""
    query = db.query(EBook)

    if sort.upper() == "DESC":
        query = query.order_by(EBook.createddate.desc())
    else:
        query = query.order_by(EBook.createddate.asc())

    if limit:
        query = query.limit(limit)

    return query.all()

@router.post("", response_model=EBookResponse)
async def create_ebook(
    ebook: EBookCreate,
    db: Session = Depends(get_db),
    current_user = Depends(get_admin_user)
):
    """Create new ebook (Admin only)"""
    db_ebook = EBook(**ebook.dict())
    db.add(db_ebook)
    db.commit()
    db.refresh(db_ebook)
    return db_ebook

@router.put("/{ebook_id}", response_model=EBookResponse)
async def update_ebook(
    ebook_id: int,
    ebook_data: EBookUpdate,
    db: Session = Depends(get_db),
    current_user = Depends(get_admin_user)
):
    """Update ebook (Admin only)"""
    db_ebook = db.query(EBook).filter(EBook.id == ebook_id).first()
    if not db_ebook:
        raise HTTPException(status_code=404, detail="EBook not found")

    for key, value in ebook_data.dict(exclude_unset=True).items():
        setattr(db_ebook, key, value)

    db.commit()
    db.refresh(db_ebook)
    return db_ebook

@router.delete("/{ebook_id}")
async def delete_ebook(
    ebook_id: int,
    db: Session = Depends(get_db),
    current_user = Depends(get_admin_user)
):
    """Delete ebook (Admin only)"""
    db_ebook = db.query(EBook).filter(EBook.id == ebook_id).first()
    if not db_ebook:
        raise HTTPException(status_code=404, detail="EBook not found")

    db.delete(db_ebook)
    db.commit()
    return {"msg": "EBook deleted successfully"}

@router.post("/upload-pdf")
async def upload_pdf(
    file: UploadFile = File(...),
    current_user = Depends(get_admin_user)
):
    """Upload PDF file (Admin only)"""
    if not file.content_type == "application/pdf":
        raise HTTPException(status_code=400, detail="Only PDF files allowed")

    upload_dir = os.path.join(settings.UPLOAD_DIR, "pdfs")
    filename = await save_upload_file(file, upload_dir)

    return {"filename": filename}

@router.post("/upload-cover")
async def upload_cover(
    file: UploadFile = File(...),
    current_user = Depends(get_admin_user)
):
    """Upload cover image (Admin only)"""
    if not file.content_type.startswith("image/"):
        raise HTTPException(status_code=400, detail="Only image files allowed")

    upload_dir = os.path.join(settings.UPLOAD_DIR, "coverpages")
    filename = await save_upload_file(file, upload_dir)

    return {"filename": f"/coverpages/{filename}"}



============================================================
FILE: .\backend\app\api\v1\registrations.py
============================================================
from fastapi import APIRouter, Depends, HTTPException
from sqlalchemy.orm import Session
from typing import List, Optional
from app.database import get_db
from app.models.registration import ClassRegistration
from app.schemas.registration import RegistrationCreate, RegistrationResponse, RegistrationUpdate
from app.schemas.common import ResponseBase
from app.api.deps import get_admin_user

router = APIRouter(prefix="/class-registration", tags=["Registrations"])

@router.post("", response_model=ResponseBase[RegistrationResponse])  # Remove slash for 307 fix
async def create_registration(
    reg_data: RegistrationCreate,
    db: Session = Depends(get_db)
):
    # 1. Combine extra info into notes for DB storage
    combined_notes = (
        f"{reg_data.additionalNotes or ''} | "
        f"Class Type: {reg_data.classType} | "
        f"Contact: {reg_data.contactNumber}"
    )

    # 2. Create DB Object (Map Frontend -> DB)
    new_reg = ClassRegistration(
        name=reg_data.name,
        email=reg_data.email,
        phone=reg_data.phone,
        country=reg_data.country,
        preferred_language=reg_data.language,
        preferred_day=reg_data.days,
        preferred_time=reg_data.timing,
        status="pending",
        notes=combined_notes
    )

    db.add(new_reg)
    db.commit()
    db.refresh(new_reg)

    # 3. Construct Response (Map DB/Input -> Frontend Schema)
    # This fixes the ResponseValidationError
    response_data = {
        "id": new_reg.id,
        "name": new_reg.name,
        "email": new_reg.email,
        "phone": new_reg.phone,
        "whatsapp": reg_data.whatsapp,     # Pass through from input
        "country": new_reg.country,
        "language": new_reg.preferred_language, # Map back: preferred_language -> language
        "classType": reg_data.classType,   # Pass through from input
        "timing": new_reg.preferred_time,  # Map back: preferred_time -> timing
        "days": new_reg.preferred_day,     # Map back: preferred_day -> days
        "contactNumber": reg_data.contactNumber, # Pass through from input
        "additionalNotes": reg_data.additionalNotes,
        "status": new_reg.status,
        "registered_at": new_reg.registered_at
    }

    return {
        "code": 200, 
        "msg": "Registration successful! We will contact you on WhatsApp soon.", 
        "result": response_data
    }

@router.get("", response_model=ResponseBase[List[RegistrationResponse]])  # Remove slash for 307 fix
async def get_registrations(
    status: Optional[str] = None,
    language: Optional[str] = None,
    page: int = 1,
    perPage: int = 20,
    db: Session = Depends(get_db),
    current_user = Depends(get_admin_user)
):
    query = db.query(ClassRegistration)

    if status and status != 'all':
        query = query.filter(ClassRegistration.status == status)
    if language and language != 'all':
        query = query.filter(ClassRegistration.preferred_language == language)
        
    total = query.count()
    registrations_db = query.order_by(ClassRegistration.registered_at.desc())\
                            .offset((page - 1) * perPage)\
                            .limit(perPage)\
                            .all()

    # Manual Mapping: DB Object -> Response Schema
    mapped_registrations = []
    for reg in registrations_db:
        # In a production scenario, you'd want to parse these if possible out of reg.notes!
        mapped_registrations.append({
            "id": reg.id,
            "name": reg.name,
            "email": reg.email,
            "phone": reg.phone,
            "whatsapp": reg.phone,  # Fallback if not stored separately
            "country": reg.country,
            "language": reg.preferred_language,  # Map from DB
            "days": reg.preferred_day,           # Map from DB
            "timing": reg.preferred_time,        # Map from DB
            "classType": "General",              # Placeholder or parse from reg.notes
            "contactNumber": reg.phone,          # Fallback if not stored separately
            "additionalNotes": reg.notes,        # Stores note + extra info
            "status": reg.status,
            "registered_at": reg.registered_at
        })

    return {"code": 200, "msg": "Success", "result": mapped_registrations}

@router.put("/{reg_id}", response_model=ResponseBase[RegistrationResponse])
async def update_status(
    reg_id: int,
    update_data: RegistrationUpdate,
    db: Session = Depends(get_db),
    current_user = Depends(get_admin_user)
):
    reg = db.query(ClassRegistration).filter(ClassRegistration.id == reg_id).first()
    if not reg:
        raise HTTPException(status_code=404, detail="Registration not found")
    
    reg.status = update_data.status
    db.commit()
    db.refresh(reg)

    # Manual Mapping: DB Object -> Response Schema
    response_data = {
        "id": reg.id,
        "name": reg.name,
        "email": reg.email,
        "phone": reg.phone,
        "whatsapp": reg.phone,  # Fallback
        "country": reg.country,
        "language": reg.preferred_language,
        "days": reg.preferred_day,
        "timing": reg.preferred_time,
        "classType": "General",  # placeholder
        "contactNumber": reg.phone,
        "additionalNotes": reg.notes,
        "status": reg.status,
        "registered_at": reg.registered_at
    }

    return {"code": 200, "msg": "Status updated", "result": response_data}


============================================================
FILE: .\backend\app\api\v1\surahs.py
============================================================
from fastapi import APIRouter, Depends, HTTPException
from sqlalchemy.orm import Session
from typing import List
from app.database import get_db
from app.models.surah import Surah
from app.schemas.surah import SurahResponse, SurahCreate
from app.schemas.common import ResponseBase
from app.api.deps import get_admin_user  # Import admin security

router = APIRouter(prefix="/surah", tags=["Surah"])

@router.get("", response_model=ResponseBase[List[SurahResponse]])
async def get_all_surahs(db: Session = Depends(get_db)):
    surahs = db.query(Surah).order_by(Surah.id.asc()).all()
    return {"code": 200, "msg": "Success", "result": surahs}

# NEW: Create Surah Endpoint
@router.post("", response_model=ResponseBase[SurahResponse])
async def create_surah(
    surah: SurahCreate,
    db: Session = Depends(get_db),
    current_user = Depends(get_admin_user)
):
    if db.query(Surah).filter(Surah.id == surah.id).first():
        raise HTTPException(status_code=400, detail=f"Surah with ID {surah.id} already exists")
    db_surah = Surah(**surah.dict())
    db.add(db_surah)
    db.commit()
    db.refresh(db_surah)
    return {"code": 200, "msg": "Surah added successfully", "result": db_surah}

# NEW: Delete Surah Endpoint
@router.delete("/{surah_id}")
async def delete_surah(
    surah_id: int,
    db: Session = Depends(get_db),
    current_user = Depends(get_admin_user)
):
    surah = db.query(Surah).filter(Surah.id == surah_id).first()
    if not surah:
        raise HTTPException(status_code=404, detail="Surah not found")
    db.delete(surah)
    db.commit()
    return {"code": 200, "msg": "Surah deleted"}


============================================================
FILE: .\backend\app\api\v1\videos.py
============================================================
from fastapi import APIRouter, Depends, HTTPException
from sqlalchemy.orm import Session, joinedload
from sqlalchemy import or_, and_
from typing import Optional, List
from app.database import get_db
from app.models.video import Video
from app.models.surah import Surah
from app.schemas.video import VideoResponse, VideoCreate, VideoUpdate
from app.schemas.common import ResponseBase
from app.api.deps import get_admin_user

router = APIRouter(prefix="/library", tags=["Library"])

@router.post("", response_model=ResponseBase[List[VideoResponse]])  # <-- No trailing slash
async def get_library_videos(
    payload: dict, # Using dict to accept the flexible search filters from frontend
    db: Session = Depends(get_db)
):
    """
    Filters videos by surah, verse (ayah), search term, sort, etc.
    Replicates the logic from Next.js api/library/route.ts
    """
    surah = payload.get("surah")
    versus = payload.get("versus")
    search = payload.get("search")
    sort = payload.get("sort", "DESC")
    limit = payload.get("limit")

    query = db.query(Video)

    # 1. Surah Filter
    if surah:
        query = query.filter(Video.surah_no == int(surah))

    # 2. Verse Filter (Complex Logic)
    # Logic: Match videos where the requested verse falls within starting_ayah and ending_ayah
    if versus:
        try:
            if isinstance(versus, str) and '-' in versus:
                # Range filter if passed as string "1-5"
                start, end = map(int, versus.split('-'))
                query = query.filter(
                    and_(
                        Video.starting_ayah >= start,
                        Video.ending_ayah <= end
                    )
                )
            else:
                # Single verse point check
                ayah_num = int(versus)
                # Video starts before or at this ayah AND ends after or at this ayah
                query = query.filter(
                    and_(
                        Video.starting_ayah <= ayah_num,
                        or_(Video.ending_ayah >= ayah_num, Video.ending_ayah.is_(None))
                    )
                )
        except ValueError:
            pass # Ignore invalid versus inputs

    # 3. Search Filter
    if search:
        search_pattern = f"%{search}%"
        query = query.filter(
            or_(
                Video.title.ilike(search_pattern),
                Video.surah_name.ilike(search_pattern),
                Video.keywords.ilike(search_pattern)
            )
        )

    # 4. Sorting
    if sort.upper() == "ASC":
        query = query.order_by(Video.created_date.asc())
    else:
        query = query.order_by(Video.created_date.desc())

    # 5. Limiting
    if limit:
        query = query.limit(int(limit))

    videos = query.all()
    return {"code": 200, "msg": "Success", "result": videos}

# --- Admin Routes for Videos ---

@router.post("/create", response_model=ResponseBase[VideoResponse])
async def create_video(
    video: VideoCreate,
    db: Session = Depends(get_db),
    current_user = Depends(get_admin_user)
):
    db_video = Video(**video.dict())
    db.add(db_video)
    db.commit()
    db.refresh(db_video)
    return {"code": 200, "msg": "Success", "result": db_video}

@router.delete("/{video_id}")
async def delete_video(
    video_id: int,
    db: Session = Depends(get_db),
    current_user = Depends(get_admin_user)
):
    video = db.query(Video).filter(Video.id == video_id).first()
    if not video:
        raise HTTPException(status_code=404, detail="Video not found")
    
    db.delete(video)
    db.commit()
    return {"code": 200, "msg": "Success", "result": None}


============================================================
FILE: .\backend\app\core\security.py
============================================================
from datetime import datetime, timedelta
from typing import Optional
from jose import JWTError, jwt
from passlib.context import CryptContext
from app.config import settings

pwd_context = CryptContext(schemes=["bcrypt"], deprecated="auto")

def verify_password(plain_password: str, hashed_password: str) -> bool:
    return pwd_context.verify(plain_password, hashed_password)

def get_password_hash(password: str) -> str:
    # Bcrypt has a 72-byte limit, truncate if necessary
    if isinstance(password, str):
        password_bytes = password.encode('utf-8')
        if len(password_bytes) > 72:
            # Truncate to 72 bytes and decode back to string
            # Using 'ignore' to handle potential truncation in the middle of a multi-byte character
            password = password_bytes[:72].decode('utf-8', errors='ignore')
    return pwd_context.hash(password)

def create_access_token(data: dict, expires_delta: Optional[timedelta] = None):
    to_encode = data.copy()
    if expires_delta:
        expire = datetime.utcnow() + expires_delta
    else:
        expire = datetime.utcnow() + timedelta(minutes=settings.JWT_EXPIRATION_MINUTES)
    
    to_encode.update({"exp": expire})
    encoded_jwt = jwt.encode(to_encode, settings.JWT_SECRET, algorithm=settings.JWT_ALGORITHM)
    return encoded_jwt

def decode_token(token: str):
    try:
        payload = jwt.decode(token, settings.JWT_SECRET, algorithms=[settings.JWT_ALGORITHM])
        return payload
    except JWTError:
        return None



============================================================
FILE: .\backend\app\models\ebook.py
============================================================
from sqlalchemy import Column, Integer, String, DateTime, Text
from sqlalchemy.sql import func
from app.database import Base

class EBook(Base):
    __tablename__ = "ebooks"
    
    id = Column(Integer, primary_key=True, index=True)
    title = Column(String(255), nullable=False)
    filename = Column(String(500), nullable=False)
    cover_image = Column(String(500))
    description = Column(Text)
    pages = Column(Integer)
    createdby = Column(String(100), default="WQTCTeam")
    createddate = Column(DateTime(timezone=True), server_default=func.now())



============================================================
FILE: .\backend\app\models\registration.py
============================================================
from sqlalchemy import Column, Integer, String, DateTime, Text
from sqlalchemy.sql import func
from app.database import Base

class ClassRegistration(Base):
    __tablename__ = "class_registrations"
    
    id = Column(Integer, primary_key=True, index=True)
    name = Column(String(255), nullable=False)
    email = Column(String(255), nullable=False)
    phone = Column(String(50))
    country = Column(String(100))
    preferred_language = Column(String(50))
    preferred_day = Column(String(50))
    preferred_time = Column(String(50))
    status = Column(String(50), default="pending")
    notes = Column(Text)
    registered_at = Column(DateTime(timezone=True), server_default=func.now())



============================================================
FILE: .\backend\app\models\surah.py
============================================================
from sqlalchemy import Column, Integer, String, Text
from sqlalchemy.orm import relationship
from app.database import Base

class Surah(Base):
    __tablename__ = "surahs"
    
    id = Column(Integer, primary_key=True, index=True)
    name = Column(String(100), nullable=False)
    arabic_name = Column(String(100))
    english_name = Column(String(100))
    revelation_place = Column(String(50))
    total_verses = Column(Integer)
    description = Column(Text)
    
    # Relationship
    videos = relationship("Video", back_populates="surah")



============================================================
FILE: .\backend\app\models\user.py
============================================================
from sqlalchemy import Column, Integer, String, DateTime
from sqlalchemy.sql import func
from app.database import Base

class User(Base):
    __tablename__ = "users"
    
    id = Column(Integer, primary_key=True, index=True)
    email = Column(String(255), unique=True, index=True, nullable=False)
    username = Column(String(100), unique=True, index=True, nullable=False)
    password_hash = Column(String(255), nullable=False)
    role = Column(String(50), default="user", nullable=False)
    created_at = Column(DateTime(timezone=True), server_default=func.now())
    updated_at = Column(DateTime(timezone=True), onupdate=func.now())



============================================================
FILE: .\backend\app\models\video.py
============================================================
from sqlalchemy import Column, Integer, String, DateTime, ForeignKey, Text
from sqlalchemy.orm import relationship
from sqlalchemy.sql import func
from app.database import Base

class Video(Base):
    __tablename__ = "videos"
    
    id = Column(Integer, primary_key=True, index=True)
    title = Column(String(255), nullable=False)
    video_url = Column(String(500), nullable=False)
    surah_no = Column(Integer, ForeignKey("surahs.id"), nullable=False)
    surah_name = Column(String(100))
    starting_ayah = Column(Integer)
    ending_ayah = Column(Integer)
    keywords = Column(Text)
    created_by = Column(String(100), default="WQTCTeam")
    created_date = Column(DateTime(timezone=True), server_default=func.now())
    
    # Relationship
    surah = relationship("Surah", back_populates="videos")



============================================================
FILE: .\backend\app\schemas\common.py
============================================================
from pydantic import BaseModel
from typing import TypeVar, Generic, List

T = TypeVar('T')

class ResponseBase(BaseModel, Generic[T]):
    code: int = 200
    msg: str = "Success"
    result: T


============================================================
FILE: .\backend\app\schemas\ebook.py
============================================================
from pydantic import BaseModel, Field
from datetime import datetime
from typing import Optional

class EBookBase(BaseModel):
    title: str
    filename: str
    cover_image: Optional[str] = Field(None, serialization_alias="coverImage")
    description: Optional[str] = None
    pages: Optional[int] = None

class EBookCreate(EBookBase):
    pass

class EBookUpdate(BaseModel):
    title: Optional[str] = None
    cover_image: Optional[str] = Field(None, serialization_alias="coverImage")
    description: Optional[str] = None
    pages: Optional[int] = None

class EBookResponse(EBookBase):
    id: int
    createdby: str
    createddate: datetime

    class Config:
        from_attributes = True
        populate_by_name = True



============================================================
FILE: .\backend\app\schemas\registration.py
============================================================
from pydantic import BaseModel, EmailStr
from typing import Optional
from datetime import datetime

class RegistrationCreate(BaseModel):
    name: str
    email: EmailStr
    phone: str
    whatsapp: Optional[str] = None
    country: str = "India"
    language: str
    classType: str
    timing: str
    days: str
    contactNumber: str
    additionalNotes: Optional[str] = None

class RegistrationUpdate(BaseModel):
    status: str

class RegistrationResponse(RegistrationCreate):
    id: int
    status: str
    registered_at: datetime

    class Config:
        from_attributes = True
        populate_by_name = True  # Enable aliasing if you later use serialization_alias


============================================================
FILE: .\backend\app\schemas\surah.py
============================================================
from pydantic import BaseModel
from typing import Optional

class SurahBase(BaseModel):
    name: str
    arabic_name: Optional[str] = None
    english_name: Optional[str] = None
    total_verses: Optional[int] = None
    revelation_place: Optional[str] = None  # Added for management

class SurahCreate(SurahBase):
    id: int  # Explicitly require ID to match Surah Number (1-114)

class SurahResponse(SurahBase):
    id: int

    class Config:
        from_attributes = True


============================================================
FILE: .\backend\app\schemas\user.py
============================================================
from pydantic import BaseModel, EmailStr
from datetime import datetime
from typing import Optional

class UserBase(BaseModel):
    email: EmailStr
    username: str

class UserCreate(UserBase):
    password: str

class UserLogin(BaseModel):
    email: EmailStr
    password: str

class UserResponse(UserBase):
    id: int
    role: str
    created_at: datetime
    
    class Config:
        from_attributes = True

class Token(BaseModel):
    access_token: str
    token_type: str = "bearer"

class TokenData(BaseModel):
    email: Optional[str] = None
    role: Optional[str] = None



============================================================
FILE: .\backend\app\schemas\video.py
============================================================
from pydantic import BaseModel, Field
from datetime import datetime
from typing import Optional

class VideoBase(BaseModel):
    title: str
    video_url: str = Field(..., serialization_alias="youTube_link")
    surah_no: int
    surah_name: Optional[str] = None
    starting_ayah: Optional[int] = None
    ending_ayah: Optional[int] = None
    keywords: Optional[str] = None

class VideoCreate(VideoBase):
    pass

class VideoUpdate(VideoBase):
    pass

class VideoResponse(VideoBase):
    id: int
    created_by: str
    created_date: datetime

    class Config:
        from_attributes = True
        populate_by_name = True



============================================================
FILE: .\backend\app\utils\file_upload.py
============================================================
import os
import aiofiles
from fastapi import UploadFile
from datetime import datetime

async def save_upload_file(upload_file: UploadFile, destination: str) -> str:
    """Save uploaded file to destination directory"""
    os.makedirs(destination, exist_ok=True)
    
    # Generate unique filename
    timestamp = int(datetime.now().timestamp())
    filename = f"{timestamp}_{upload_file.filename}"
    file_path = os.path.join(destination, filename)
    
    # Save file
    async with aiofiles.open(file_path, 'wb') as out_file:
        content = await upload_file.read()
        await out_file.write(content)
    
    return filename



============================================================
FILE: .\wqtc\Dockerfile
============================================================
FROM node:20.10-alpine AS base

# Install dependencies only when needed
FROM base AS deps
# Check https://github.com/nodejs/docker-node/tree/b4117f9333da4138b03a546ec926ef50a31506c3#nodealpine to understand why libc6-compat might be needed.
RUN apk add --no-cache libc6-compat
WORKDIR /app

# Install dependencies based on the preferred package manager
COPY package.json package-lock.json* ./
RUN npm ci

FROM base AS dev

WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .

# Enables Hot Reloading Check https://github.com/vercel/next.js/issues/36774 for more information
ENV CHOKIDAR_USEPOLLING=true
ENV WATCHPACK_POLLING=true

# Rebuild the source code only when needed
FROM base AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY --from=deps /root/.npm /root/.npm
COPY . .

ENV NEXT_TELEMETRY_DISABLED 1

# Accept build arg for backend URL (defaults to localhost for local dev)
ARG BACKEND_INTERNAL_URL=http://localhost:8000
ENV BACKEND_INTERNAL_URL=${BACKEND_INTERNAL_URL}

RUN npm run build

# Production image, copy all the files and run next
FROM base AS runner
WORKDIR /app

ENV NEXT_TELEMETRY_DISABLED 1

RUN addgroup --system --gid 1001 nodejs
RUN adduser --system --uid 1001 nextjs

COPY --from=builder /app/public ./public

# Set the correct permission for prerender cache
RUN mkdir .next
RUN chown nextjs:nodejs .next

# Automatically leverage output traces to reduce image size
# https://nextjs.org/docs/advanced-features/output-file-tracing
COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static

# --- PRISMA/DB/LEGACY CLEANUP ---
# Removed all Prisma & DB related steps and files, as frontend is now decoupled from the database.
# (No prisma CLI calls, no prisma files copied.)

USER nextjs

EXPOSE 3000

ENV PORT 3000
ENV HOSTNAME "0.0.0.0"

# Start the Next.js production server (standalone build)
CMD ["node", "server.js"]


============================================================
FILE: .\wqtc\middleware.ts
============================================================
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';
import { jwtVerify } from 'jose';

const SECRET = new TextEncoder().encode(process.env.JWT_SECRET || 'change-me');

export async function middleware(req: NextRequest) {
  const { pathname } = req.nextUrl;

  if (pathname.startsWith('/admin')) {
    const token = req.cookies.get('token')?.value;

    if (!token) {
      // Console log to debug in Vercel/Node.js terminal
      console.log(`[Middleware] No token found for ${pathname}. Redirecting to login.`);
      const loginUrl = new URL('/login', req.url);
      loginUrl.searchParams.set('from', pathname);
      return NextResponse.redirect(loginUrl);
    }

    try {
      const { payload } = await jwtVerify(token, SECRET);
      if (payload.role !== 'admin') {
         console.log(`[Middleware] User is not admin. Redirecting.`);
         return NextResponse.redirect(new URL('/login', req.url));
      }
    } catch (error) {
      console.error(`[Middleware] Token verification failed:`, error);
      return NextResponse.redirect(new URL('/login', req.url));
    }
  }

  return NextResponse.next();
}

export const config = { matcher: ['/admin/:path*'] };



============================================================
FILE: .\wqtc\next-env.d.ts
============================================================
/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/dev/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.



============================================================
FILE: .\wqtc\next.config.ts
============================================================
import type { NextConfig } from "next";

// In Docker, the backend is available at 'http://backend:8000' (service name).
// Locally, it is 'http://localhost:8000'.
const BACKEND_URL = process.env.BACKEND_INTERNAL_URL || 'http://localhost:8000';

const nextConfig: NextConfig = {
  output: 'standalone',
  images: {
    remotePatterns: [
      {
        protocol: "https",
        hostname: "images.unsplash.com",
      },
      {
        protocol: "https",
        hostname: "wordforwordquran.com",
      },
      {
        protocol: "https",
        hostname: "img.youtube.com",
      },
      {
        protocol: "https",
        hostname: "media.istockphoto.com",
      },
      // Allow images from the backend
      {
        protocol: "http",
        hostname: "localhost",
        port: "8000",
        pathname: "/**",
      },
      {
        protocol: "http",
        hostname: "backend",
        port: "8000",
        pathname: "/**",
      }
    ],
  },
  async rewrites() {
    return [
      {
        // API Calls
        source: '/api/:path*',
        destination: `${BACKEND_URL}/api/v1/:path*`, 
      },
      {
        // Static Files (General)
        source: '/static/:path*',
        destination: `${BACKEND_URL}/static/:path*`,
      },
      {
        // Cover Images
        source: '/coverpages/:path*',
        destination: `${BACKEND_URL}/static/coverpages/:path*`,
      },
      {
        // PDFs
        source: '/pdfs/:path*',
        destination: `${BACKEND_URL}/static/pdfs/:path*`,
      },
    ];
  },
  experimental: {
    serverActions: {
      bodySizeLimit: "100mb",
    },
  },
};

export default nextConfig;



============================================================
FILE: .\wqtc\package.json
============================================================
{
  "name": "quran-learning-platform",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "@radix-ui/react-avatar": "^1.1.11",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-scroll-area": "^1.2.10",
    "@radix-ui/react-separator": "^1.1.8",
    "@radix-ui/react-slot": "^1.2.4",
    "@ungap/with-resolvers": "^0.1.0",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "dotenv": "^17.2.3",
    "embla-carousel-autoplay": "^8.6.0",
    "embla-carousel-react": "^8.6.0",
    "formidable": "^3.5.4",
    "framer-motion": "^12.23.24",
    "jose": "^6.1.1",
    "jsonwebtoken": "^9.0.2",
    "lottie-react": "^2.4.1",
    "lucide-react": "^0.553.0",
    "next": "16.0.1",
    "next-seo": "^7.0.1",
    "next-themes": "^0.4.6",
    "pdfjs-dist": "^5.4.394",
    "react": "19.2.0",
    "react-dom": "19.2.0",
    "react-icons": "^5.5.0",
    "react-pageflip": "^2.0.3",
    "react-player": "^3.3.3",
    "react-youtube": "^10.1.0",
    "tailwind-merge": "^3.4.0"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4",
    "@types/formidable": "^3.4.6",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "eslint": "^9",
    "eslint-config-next": "16.0.1",
    "tailwindcss": "^4",
    "tsx": "^4.20.6",
    "tw-animate-css": "^1.4.0",
    "typescript": "^5"
  }
}



============================================================
FILE: .\wqtc\tsconfig.json
============================================================
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
  ],
  "exclude": ["node_modules"]
}



============================================================
FILE: .\wqtc\app\globals.css
============================================================
@import "tailwindcss";

@layer base {
  :root {
    /* Background Colors - Using #faf9f7 (cream/off-white) */
    --color-background: 35 25 18; /* Converted #faf9f7 to HSL */
    --color-foreground: 312 23 26; /* Deep plum for text */

    /* Card Colors */
    --color-card: 35 25 18;
    --color-card-foreground: 312 23 26;

    /* Popover Colors */
    --color-popover: 35 25 18;
    --color-popover-foreground: 312 23 26;

    /* Primary Color - Using #453142 (deep plum) */
    --color-primary: 312 23 26; /* #453142 in HSL */
    --color-primary-foreground: 35 25 18;

    /* Secondary Colors */
    --color-secondary: 312 15 35;
    --color-secondary-foreground: 35 25 18;

    /* Muted Colors */
    --color-muted: 30 20 92;
    --color-muted-foreground: 312 12 45;

    /* Accent Colors */
    --color-accent: 312 18 32;
    --color-accent-foreground: 35 25 18;

    /* Destructive (Error) Colors */
    --color-destructive: 0 84.2 60.2;
    --color-destructive-foreground: 35 25 18;

    /* Border & Input */
    --color-border: 312 10 85;
    --color-input: 312 10 85;
    --color-ring: 312 23 26;

    --radius: 0.5rem;

    --font-family-inter: var(--font-inter);
    --font-family-amiri: var(--font-amiri);
  }

  .dark {
    /* Dark mode: Inverted colors */
    --color-background: 312 23 16;
    --color-foreground: 35 25 98;

    --color-card: 312 23 16;
    --color-card-foreground: 35 25 98;

    --color-popover: 312 23 16;
    --color-popover-foreground: 35 25 98;

    --color-primary: 312 23 40;
    --color-primary-foreground: 35 25 98;

    --color-secondary: 312 20 25;
    --color-secondary-foreground: 35 25 98;

    --color-muted: 312 20 25;
    --color-muted-foreground: 312 15 70;

    --color-accent: 312 20 25;
    --color-accent-foreground: 35 25 98;

    --color-destructive: 0 62.8 30.6;
    --color-destructive-foreground: 35 25 98;

    --color-border: 312 20 25;
    --color-input: 312 20 25;
    --color-ring: 312 23 40;
  }
}

/* Flipbook Styles */
.flipbook-container {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 2rem;
}

.page {
  background-color: white;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
}

.page-content {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
}

.stf__wrapper {
  transform-origin: center center !important;
}



============================================================
FILE: .\wqtc\app\layout.tsx
============================================================
import type { Metadata } from "next";
import { Inter, Amiri } from "next/font/google";
import "./globals.css";
import { ThemeProvider } from "@/components/theme-provider";
import Navbar from "@/components/layout/Navbar";
import Footer from "@/components/layout/Footer";
import AnnouncementBar from "@/components/layout/AnnouncementBar";
import { SlideOverProvider } from "@/components/context/SlideOverContext";
import SlideOver from "@/components/ui/SlideOver";

const inter = Inter({ 
  subsets: ["latin"], 
  variable: "--font-inter",
  display: "swap",
});

const amiri = Amiri({ 
  weight: ['400', '700'],
  subsets: ["arabic"], 
  variable: "--font-amiri",
  display: "swap",
});

export const metadata: Metadata = {
  title: "Word for Word Quran Translation | Learn Quran with Ustaad Imran Sait",
  description: "Learn the Qur'an translation using the Word for Word concept by Ustaad Imran Sait. Free online Quran classes in English, Urdu, and Tamil.",
  keywords: [
    "Quran translation",
    "word for word Quran",
    "learn Quran",
    "Imran Sait",
    "Quran classes",
    "Islamic education",
    "FAQ Quran classes", //  Add FAQ keyword
    "free Quran learning"
  ],
  authors: [{ name: "WQTC" }],
  openGraph: {
    title: "Word for Word Quran Translation Classes",
    description: "Free Quran translation classes using innovative word-for-word learning method",
    url: "https://wordforwordquran.com",
    siteName: "WQTC",
    locale: "en_US",
    type: "website",
  },
  robots: {
    index: true,
    follow: true,
  },
};

function FAQSchema() {
  // Static FAQ question/answer pairs matching FAQSection.tsx
  const faqStructuredData = {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "Where Can I Find Information?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "You can find comprehensive information about our Quran translation classes in our Resource Library, which includes video lectures, audio recordings, and eBooks. You can also visit our About Us section to learn more about our methodology and our mentor, Ustaad Imran Sait."
        }
      },
      {
        "@type": "Question",
        "name": "What Are Your Terms And Conditions?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Our classes are completely free of charge. We only ask that students attend regularly and complete their assignments. By enrolling, you agree to respect the sanctity of the Quran and maintain a conducive learning environment for all participants."
        }
      },
      {
        "@type": "Question",
        "name": "Can I Buy Directly From The Factory?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "All our educational materials, including eBooks and translations, are available for free download from our website. We don't sell any physical products. Our mission is to make Quranic knowledge accessible to everyone without any financial barriers."
        }
      },
      {
        "@type": "Question",
        "name": "What Kinds of Payment Do You Accept?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "We don't accept any payments as all our courses and resources are completely free. However, if you wish to support our mission, you can reach out to us through our Contact page for donation information."
        }
      },
      {
        "@type": "Question",
        "name": "When do I receive my order?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "There are no physical orders. All our resources, including video classes, audio lectures, and eBooks, are available instantly for streaming or download through our Resource Library. You can access them anytime, anywhere."
        }
      }
      // ... add more questions if desired
    ]
  };

  return (
    <script
      type="application/ld+json"
      suppressHydrationWarning
      // eslint-disable-next-line react/no-danger
      dangerouslySetInnerHTML={{ __html: JSON.stringify(faqStructuredData) }}
    />
  );
}

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en" suppressHydrationWarning className={`${inter.variable} ${amiri.variable}`}>
      <head>
        <FAQSchema />
      </head>
      <body className="antialiased">
        <ThemeProvider
          attribute="class"
          defaultTheme="light"
          enableSystem
          disableTransitionOnChange
        >
          <SlideOverProvider>
            {/* <AnnouncementBar /> */}
            <Navbar />
            {/* mount once, globally */}
            <SlideOver />
            <main className="min-h-screen">{children}</main>
            <Footer />
          </SlideOverProvider>
        </ThemeProvider>
      </body>
    </html>
  );
}



============================================================
FILE: .\wqtc\app\page.tsx
============================================================
import HeroSection from "@/components/sections/HeroSection";
import WelcomeSection from "@/components/sections/WelcomeSection";
import FeaturesSection from "@/components/sections/FeaturesSection";
import StatsSection from "@/components/sections/StatsSection";
import CaseStudiesSection from "@/components/sections/CaseStudiesSection";
import VideoGallery from "@/components/sections/VideoGallery";
import PricingSection from "@/components/sections/PricingSection";
import TestimonialsSection from "@/components/sections/TestimonialsSection";
import NoticesSection from "@/components/sections/NoticesSection";
import ImageGallerySection from "@/components/sections/ImageGallerySection";
import BlogSection from "@/components/sections/BlogSection";
import FAQSection from "@/components/sections/FAQSection"; //  Add this import

export default function Home() {
  return (
    <>
      <HeroSection />
      <WelcomeSection />
      <FeaturesSection />
      <VideoGallery />
      {/* <StatsSection /> */}
      <CaseStudiesSection />
      {/* <PricingSection /> */}
      <TestimonialsSection />
      <FAQSection /> {/*  Add FAQ section here - positioned after testimonials and before gallery */}
      <ImageGallerySection />
      {/* <BlogSection /> */}
      <NoticesSection />
    </>
  );
}



============================================================
FILE: .\wqtc\app\about\our-mentor\page.tsx
============================================================
"use client";

import { motion } from 'framer-motion';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { 
  GraduationCap,
  Users, 
  Globe, 
  Heart,
  Quote,
  Play
} from 'lucide-react';
// DO NOT import or use next/image for external unconfigured sources
// import Image from 'next/image';

// No statistics/achievements now

const timeline = [
  {
    year: '2008',
    title: 'The Beginning',
    description: 'Started teaching Quran translation in Chennai with a small group of dedicated students.',
  },
  {
    year: '2012',
    title: 'Word-for-Word Method',
    description: 'Developed the revolutionary word-for-word concept that makes Quranic Arabic accessible to everyone.',
  },
  {
    year: '2018',
    title: 'Global Expansion',
    description: 'Expanded classes to USA, UK, and Middle East through online and in-person sessions.',
  },
  {
    year: '2024',
    title: 'WQTC Platform',
    description: 'Launched comprehensive digital platform making free Quran education accessible globally.',
  },
];

const qualities = [
  {
    title: 'Passionate Educator',
    description: 'Dedicated to making Quranic knowledge accessible to every Muslim, regardless of background.',
    icon: Heart,
  },
  {
    title: 'Innovative Methodology',
    description: 'Pioneer of the word-for-word translation approach that simplifies Arabic learning.',
    icon: GraduationCap,
  },
  {
    title: 'Global Impact',
    description: 'Teaching students across continents through online and offline classes.',
    icon: Globe,
  },
  {
    title: 'Community Builder',
    description: 'Creating lasting connections between students and the Quran through systematic learning.',
    icon: Users,
  },
];

export default function OurMentorPage() {
  return (
    <div className="min-h-screen bg-gradient-to-b from-[#faf9f7] to-[#faf9f7]">
      {/* Hero Section */}
      <section className="relative py-20 md:py-32 overflow-hidden">
        {/* Background Decorations */}
        <div className="absolute inset-0 -z-10">
          <div className="absolute top-20 right-0 w-96 h-96 bg-[#453142]/10 rounded-full blur-3xl" />
          <div className="absolute bottom-0 left-0 w-96 h-96 bg-[#453142]/10 rounded-full blur-3xl" />
        </div>

        <div className="container mx-auto px-4">
          <div className="grid lg:grid-cols-2 gap-12 items-center">
            {/* Left - Text Content */}
            <motion.div
              initial={{ opacity: 0, x: -30 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.6 }}
              className="space-y-6"
            >
              <Badge className="bg-[#453142] text-[#faf9f7] px-4 py-2">
                Our Beloved Mentor
              </Badge>
              
              <h1 className="text-4xl md:text-6xl font-bold text-[#453142] leading-tight">
                Ustaad <span className="text-[#453142] bg-clip-text">Imran</span> <span className="text-[#453142] bg-clip-text">Sait</span>
              </h1>
              
              <p className="text-xl text-[#453142]/80 leading-relaxed">
                The visionary founder of WQTC, revolutionizing Quran education through his innovative word-for-word translation methodology. With over 15 years of dedication, Ustaad Imran has transformed how millions understand the divine message.
              </p>

              <div className="flex flex-wrap gap-4">
                <Button 
                  size="lg" 
                  className="bg-[#453142] hover:bg-[#2d1c26] text-[#faf9f7] shadow-lg"
                >
                  <Play className="mr-2 h-5 w-5" />
                  Watch Introduction
                </Button>
                <Button 
                  size="lg" 
                  variant="outline"
                  className="border-[#453142] text-[#453142] hover:bg-[#453142]/10"
                >
                  Join His Classes
                </Button>
              </div>

              {/* No Quick Stats */}
            </motion.div>

            {/* Right - Actual Ustaad Image */}
            <motion.div
              initial={{ opacity: 0, x: 30 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.6, delay: 0.2 }}
              className="relative"
            >
              {/* Replace next/image usage with native <img> for unconfigured external src */}
              <div className="relative aspect-[3/4] rounded-2xl overflow-hidden shadow-2xl bg-[#faf9f7]">
                <img
                  src="https://wordforwordquran.amlc.in/wp-content/uploads/2025/09/Kd2k4nPY_NA-HD.jpg"
                  alt="Ustaad Imran Sait"
                  className="object-cover w-full h-full absolute inset-0"
                  style={{ objectFit: 'cover', width: '100%', height: '100%' }}
                  loading="eager"
                  fetchPriority="high"
                />
                {/* Overlay Quote Card */}
                <div className="absolute bottom-8 left-8 right-8 bg-[#faf9f7]/95 backdrop-blur-md rounded-xl p-6 shadow-xl border border-[#453142]/10">
                  <Quote className="h-8 w-8 text-[#453142] mb-2" />
                  <p className="text-[#453142] italic font-medium">
                    "Understanding the Quran is not just about translation - it's about transforming lives."
                  </p>
                  <p className="text-[#453142]/60 text-sm mt-2">- Ustaad Imran Sait</p>
                </div>
              </div>

              {/* Floating Badge */}
              <div className="absolute -top-4 -right-4 bg-gradient-to-br from-[#453142] to-[#6e4d66] text-[#faf9f7] px-6 py-3 rounded-full shadow-lg font-bold">
                15+ Years Experience
              </div>
            </motion.div>
          </div>
        </div>
      </section>

      {/* Biography Section */}
      <section className="py-16 md:py-24 bg-[#faf9f7]">
        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="max-w-4xl mx-auto"
          >
            <div className="text-center mb-12">
              <Badge className="mb-4 bg-[#453142]/10 text-[#453142]">Biography</Badge>
              <h2 className="text-3xl md:text-5xl font-bold text-[#453142] mb-4">
                The Journey of a Visionary
              </h2>
            </div>

            <div className="prose prose-lg max-w-none text-[#453142]/80 space-y-6">
              <p className="text-xl leading-relaxed">
                Ustaad Imran Sait's journey with the Quran began in his youth, where he developed a profound connection with the divine words. Born and raised in Chennai, India, his passion for Islamic education led him to pursue in-depth studies in Quranic Arabic, Tafsir, and pedagogy.
              </p>

              <p className="leading-relaxed">
                Recognizing the challenges faced by non-Arabic speakers in understanding the Quran, Ustaad Imran dedicated himself to finding a solution. After years of research and experimentation, he developed the revolutionary <strong>Word-for-Word Translation Concept</strong> - a methodology that breaks down Quranic verses into individual words, making Arabic vocabulary and sentence structure easily comprehensible.
              </p>

              <p className="leading-relaxed">
                What started as informal sessions in a small mosque in Chennai has now grown into a global movement. Ustaad Imran's classes have reached students across India, USA, UK, Middle East, and Southeast Asia. His approach combines traditional Islamic scholarship with modern educational techniques, making the Quran accessible to people of all ages and backgrounds.
              </p>

              <Card className="bg-gradient-to-r from-[#faf9f7] to-[#faf9f7] border-l-4 border-[#453142] my-8">
                <CardContent className="p-6">
                  <p className="text-[#453142] leading-relaxed italic">
                    "My mission is simple: to help every Muslim develop a personal, meaningful relationship with the Quran by understanding its message in their own language. When you understand what Allah is saying to you, your life transforms."
                  </p>
                  <p className="text-[#453142]/60 text-sm mt-3">- Ustaad Imran Sait</p>
                </CardContent>
              </Card>

              <p className="leading-relaxed">
                Beyond teaching, Ustaad Imran is a prolific author, having written several books and study materials on Quranic translation. He regularly delivers lectures at Islamic conferences, community centers, and online platforms, inspiring thousands to embark on their own journey of understanding the Quran.
              </p>
            </div>
          </motion.div>
        </div>
      </section>

      {/* Timeline Section */}
      <section className="py-16 md:py-24 bg-gradient-to-b from-[#faf9f7] to-[#faf9f7]">
        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center mb-16"
          >
            <Badge className="mb-4 bg-[#453142] text-[#faf9f7]">Journey</Badge>
            <h2 className="text-3xl md:text-5xl font-bold text-[#453142] mb-4">
              Milestones & Achievements
            </h2>
            <p className="text-[#453142]/70 text-lg max-w-2xl mx-auto">
              A timeline of dedication, innovation, and global impact
            </p>
          </motion.div>

          <div className="max-w-4xl mx-auto">
            {timeline.map((item, index) => (
              <motion.div
                key={index}
                initial={{ opacity: 0, x: index % 2 === 0 ? -30 : 30 }}
                whileInView={{ opacity: 1, x: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1 }}
                className="relative pl-8 pb-12 border-l-4 border-[#453142]/20 last:pb-0"
              >
                {/* Timeline Dot */}
                <div className="absolute left-0 top-0 -translate-x-1/2 w-8 h-8 rounded-full bg-gradient-to-br from-[#453142] to-[#6e4d66] flex items-center justify-center shadow-lg">
                  <div className="w-3 h-3 bg-[#faf9f7] rounded-full" />
                </div>

                <div className="ml-8">
                  <Badge className="mb-2 bg-[#453142]/10 text-[#453142]">{item.year}</Badge>
                  <h3 className="text-2xl font-bold text-[#453142] mb-2">{item.title}</h3>
                  <p className="text-[#453142]/70 leading-relaxed">{item.description}</p>
                </div>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* Qualities Section */}
      <section className="py-16 md:py-24 bg-[#faf9f7]">
        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center mb-12"
          >
            <Badge className="mb-4 bg-[#453142]/10 text-[#453142]">Qualities</Badge>
            <h2 className="text-3xl md:text-5xl font-bold text-[#453142] mb-4">
              What Makes Him Special
            </h2>
          </motion.div>

          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto">
            {qualities.map((quality, index) => (
              <motion.div
                key={index}
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1 }}
                whileHover={{ y: -8 }}
              >
                <Card className="h-full border-0 shadow-md hover:shadow-xl transition-all duration-300 bg-[#faf9f7]">
                  <CardContent className="p-6 text-center space-y-4">
                    <div className="w-16 h-16 mx-auto bg-gradient-to-br from-[#453142] to-[#6e4d66] rounded-2xl flex items-center justify-center">
                      <quality.icon className="h-8 w-8 text-[#faf9f7]" />
                    </div>
                    <h3 className="text-xl font-bold text-[#453142]">{quality.title}</h3>
                    <p className="text-[#453142]/70">{quality.description}</p>
                  </CardContent>
                </Card>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* CTA Section */}
      <section className="py-16 md:py-24 bg-gradient-to-br from-[#453142] to-[#6e4d66] text-[#faf9f7]">
        <div className="container mx-auto px-4 text-center">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="max-w-3xl mx-auto space-y-6"
          >
            <h2 className="text-3xl md:text-5xl font-bold">
              Join Thousands of Students Worldwide
            </h2>
            <p className="text-xl text-[#faf9f7]/80">
              Begin your transformative journey of understanding the Quran with Ustaad Imran Sait
            </p>
            <div className="flex flex-wrap gap-4 justify-center">
              <Button size="lg" className="bg-[#faf9f7] text-[#453142] hover:bg-[#f3eae8]">
                Enroll Now - Free
              </Button>
              <Button size="lg" variant="outline" className="border-[#faf9f7] text-[#faf9f7] hover:bg-[#faf9f7]/10">
                View Class Schedule
              </Button>
            </div>
          </motion.div>
        </div>
      </section>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\about\vision-mission\page.tsx
============================================================
'use client';

import { motion } from 'framer-motion';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { 
  Target,
  Eye,
  Heart,
  Globe,
  Users,
  BookOpen,
  Lightbulb,
  TrendingUp,
  Award,
  Sparkles,
  ArrowRight,
  CheckCircle2
} from 'lucide-react';

const visionPoints = [
  {
    icon: Globe,
    title: 'Global Accessibility',
    description: 'Make Quranic understanding accessible to every Muslim, regardless of location, language, or background.',
  },
  {
    icon: Users,
    title: 'Community Building',
    description: 'Create a worldwide community of Quran learners united by understanding and reflection.',
  },
  {
    icon: Lightbulb,
    title: 'Innovation in Education',
    description: 'Lead the transformation of Islamic education through innovative, student-centric methodologies.',
  },
  {
    icon: Heart,
    title: 'Spiritual Connection',
    description: 'Foster deep, personal relationships between believers and the divine message of Allah.',
  },
];

const missions = [
  {
    icon: BookOpen,
    title: 'Simplify Learning',
    description: 'Break down complex Arabic grammar into simple, digestible word-for-word translations that anyone can master.',
    color: 'from-[#453142] to-[#6e4d66]',
  },
  {
    icon: Users,
    title: 'Free Education',
    description: 'Provide completely free, high-quality Quran education to remove financial barriers to knowledge.',
    color: 'from-[#6e4d66] to-[#8b6f85]',
  },
  {
    icon: Target,
    title: 'Comprehensive Curriculum',
    description: 'Develop systematic courses covering complete Juz-by-Juz translation with structured learning paths.',
    color: 'from-[#453142] to-[#5a3f54]',
  },
  {
    icon: Globe,
    title: 'Digital Platform',
    description: 'Leverage technology to reach millions through online classes, videos, and interactive learning tools.',
    color: 'from-[#5a3f54] to-[#6e4d66]',
  },
  {
    icon: TrendingUp,
    title: 'Continuous Improvement',
    description: 'Constantly evolve our teaching methods based on student feedback and educational research.',
    color: 'from-[#6e4d66] to-[#453142]',
  },
  {
    icon: Award,
    title: 'Quality Assurance',
    description: 'Maintain highest standards of authenticity, accuracy, and scholarly integrity in all materials.',
    color: 'from-[#8b6f85] to-[#453142]',
  },
];

const values = [
  'Sincerity (Ikhlas) - Teaching purely for Allah\'s pleasure',
  'Excellence (Ihsan) - Delivering the best quality education',
  'Accessibility - Making knowledge free and available to all',
  'Authenticity - Staying true to classical Islamic scholarship',
  'Innovation - Embracing modern tools while honoring tradition',
  'Community - Building supportive learning networks',
  'Patience - Understanding that learning is a journey',
  'Gratitude - Appreciating the blessing of Quranic knowledge',
];

const milestones = [
  { year: '2025', goal: 'Reach 100,000 active students globally' },
  { year: '2026', goal: 'Complete translation courses for all 30 Juz' },
  { year: '2027', goal: 'Launch mobile app with offline learning' },
  { year: '2028', goal: 'Establish physical learning centers in 10 countries' },
  { year: '2030', goal: 'Impact 1 million lives with Quranic understanding' },
];

export default function VisionMissionPage() {
  return (
    <div className="min-h-screen bg-gradient-to-b from-[#faf9f7] to-white">
      {/* Hero Section */}
      <section className="relative py-20 md:py-32 overflow-hidden">
        <div className="absolute inset-0 -z-10">
          <div className="absolute top-20 right-0 w-96 h-96 bg-[#453142]/10 rounded-full blur-3xl" />
          <div className="absolute bottom-0 left-0 w-96 h-96 bg-[#6e4d66]/10 rounded-full blur-3xl" />
        </div>

        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            className="text-center max-w-4xl mx-auto space-y-6"
          >
            <Badge className="mb-4 bg-[#453142] text-[#faf9f7] px-4 py-2">
              Our Direction
            </Badge>
            
            <h1 className="text-4xl md:text-6xl font-bold text-[#453142] leading-tight">
              <span className="text-transparent bg-clip-text bg-gradient-to-r from-[#453142] to-[#6e4d66]">Vision</span> & <span className="text-transparent bg-clip-text bg-gradient-to-r from-[#6e4d66] to-[#8b6f85]">Mission</span>
            </h1>
            
            <p className="text-xl text-[#453142]/80 leading-relaxed">
              Empowering millions to understand and live by the Quran through innovative education and unwavering commitment to accessibility
            </p>
          </motion.div>
        </div>
      </section>

      {/* Vision Section */}
      <section className="py-16 md:py-24 bg-white">
        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center mb-12"
          >
            <Eye className="w-16 h-16 mx-auto mb-4 text-[#453142]" />
            <Badge className="mb-4 bg-[#453142]/10 text-[#453142]">Our Vision</Badge>
            <h2 className="text-3xl md:text-5xl font-bold text-[#453142] mb-4">
              A World Where Every Muslim Understands the Quran
            </h2>
            <p className="text-xl text-[#453142]/70 max-w-3xl mx-auto">
              We envision a global community where understanding the Quran is not a privilege but a reality for every Muslim, transforming lives through divine wisdom
            </p>
          </motion.div>

          <div className="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto mt-12">
            {visionPoints.map((point, index) => (
              <motion.div
                key={index}
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1 }}
                whileHover={{ y: -8 }}
              >
                <Card className="h-full border-0 shadow-md hover:shadow-xl transition-all duration-300 bg-white">
                  <CardContent className="p-6">
                    <div className="flex items-start gap-4">
                      <div className="w-12 h-12 bg-gradient-to-br from-[#453142] to-[#6e4d66] rounded-xl flex items-center justify-center flex-shrink-0">
                        <point.icon className="h-6 w-6 text-[#faf9f7]" />
                      </div>
                      <div>
                        <h3 className="text-xl font-bold text-[#453142] mb-2">{point.title}</h3>
                        <p className="text-[#453142]/70">{point.description}</p>
                      </div>
                    </div>
                  </CardContent>
                </Card>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* Mission Section */}
      <section className="py-16 md:py-24 bg-gradient-to-b from-[#faf9f7] to-white">
        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center mb-12"
          >
            <Target className="w-16 h-16 mx-auto mb-4 text-[#6e4d66]" />
            <Badge className="mb-4 bg-[#6e4d66]/10 text-[#6e4d66]">Our Mission</Badge>
            <h2 className="text-3xl md:text-5xl font-bold text-[#453142] mb-4">
              How We're Making It Happen
            </h2>
            <p className="text-xl text-[#453142]/70 max-w-3xl mx-auto">
              Strategic initiatives driving our vision into reality, one student at a time
            </p>
          </motion.div>

          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
            {missions.map((mission, index) => (
              <motion.div
                key={index}
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1 }}
                whileHover={{ y: -8 }}
              >
                <Card className="h-full border-0 shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden bg-white">
                  <div className={`h-2 bg-gradient-to-r ${mission.color}`} />
                  <CardContent className="p-6">
                    <div className={`w-14 h-14 bg-gradient-to-br ${mission.color} rounded-xl flex items-center justify-center mb-4`}>
                      <mission.icon className="h-7 w-7 text-[#faf9f7]" />
                    </div>
                    <h3 className="text-xl font-bold text-[#453142] mb-2">{mission.title}</h3>
                    <p className="text-[#453142]/70 leading-relaxed">{mission.description}</p>
                  </CardContent>
                </Card>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* Core Values */}
      <section className="py-16 md:py-24 bg-white">
        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center mb-12"
          >
            <Sparkles className="w-16 h-16 mx-auto mb-4 text-[#6e4d66]" />
            <Badge className="mb-4 bg-[#6e4d66]/10 text-[#6e4d66]">Core Values</Badge>
            <h2 className="text-3xl md:text-5xl font-bold text-[#453142] mb-4">
              Principles That Guide Us
            </h2>
          </motion.div>

          <div className="max-w-4xl mx-auto">
            <div className="grid md:grid-cols-2 gap-4">
              {values.map((value, index) => (
                <motion.div
                  key={index}
                  initial={{ opacity: 0, x: index % 2 === 0 ? -20 : 20 }}
                  whileInView={{ opacity: 1, x: 0 }}
                  viewport={{ once: true }}
                  transition={{ delay: index * 0.05 }}
                  className="flex items-center gap-3 bg-gradient-to-r from-[#faf9f7] to-white p-4 rounded-lg border border-[#453142]/10 hover:border-[#453142]/30 transition-colors"
                >
                  <CheckCircle2 className="h-6 w-6 text-[#6e4d66] flex-shrink-0" />
                  <span className="text-[#453142] font-medium">{value}</span>
                </motion.div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* Roadmap Section */}
      <section className="py-16 md:py-24 bg-gradient-to-b from-[#faf9f7] to-white">
        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center mb-12"
          >
            <TrendingUp className="w-16 h-16 mx-auto mb-4 text-[#6e4d66]" />
            <Badge className="mb-4 bg-[#6e4d66]/10 text-[#6e4d66]">Roadmap</Badge>
            <h2 className="text-3xl md:text-5xl font-bold text-[#453142] mb-4">
              Our Journey Ahead
            </h2>
            <p className="text-xl text-[#453142]/70 max-w-3xl mx-auto">
              Ambitious goals driving us toward a future where Quranic understanding is universal
            </p>
          </motion.div>

          <div className="max-w-4xl mx-auto">
            {milestones.map((milestone, index) => (
              <motion.div
                key={index}
                initial={{ opacity: 0, x: -30 }}
                whileInView={{ opacity: 1, x: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1 }}
                className="relative pl-8 pb-10 border-l-4 border-[#453142]/20 last:pb-0"
              >
                <div className="absolute left-0 top-0 -translate-x-1/2 w-8 h-8 rounded-full bg-gradient-to-br from-[#453142] to-[#6e4d66] flex items-center justify-center shadow-lg">
                  <div className="w-3 h-3 bg-[#faf9f7] rounded-full" />
                </div>

                <Card className="ml-8 border-0 shadow-md hover:shadow-lg transition-shadow bg-white">
                  <CardContent className="p-6">
                    <div className="flex items-center justify-between flex-wrap gap-4">
                      <div>
                        <Badge className="mb-2 bg-[#453142]/10 text-[#453142]">{milestone.year}</Badge>
                        <p className="text-lg font-semibold text-[#453142]">{milestone.goal}</p>
                      </div>
                      <ArrowRight className="h-6 w-6 text-[#453142]/40" />
                    </div>
                  </CardContent>
                </Card>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* CTA Section */}
      <section className="py-16 md:py-24 bg-gradient-to-br from-[#453142] to-[#6e4d66] text-[#faf9f7]">
        <div className="container mx-auto px-4 text-center">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="max-w-3xl mx-auto space-y-6"
          >
            <Heart className="w-16 h-16 mx-auto text-[#faf9f7]/80" />
            <h2 className="text-3xl md:text-5xl font-bold">
              Be Part of This Global Movement
            </h2>
            <p className="text-xl text-[#faf9f7]/80">
              Join thousands of students worldwide in making Quranic understanding a reality for all
            </p>
            <div className="flex flex-wrap gap-4 justify-center">
              <Button size="lg" className="bg-[#faf9f7] text-[#453142] hover:bg-white">
                Start Learning Now
              </Button>
              <Button size="lg" variant="outline" className="border-[#faf9f7] text-[#faf9f7] hover:bg-[#faf9f7]/10">
                Support Our Mission
              </Button>
            </div>
          </motion.div>
        </div>
      </section>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\about\why-understand-quran\page.tsx
============================================================
'use client';

import { motion } from 'framer-motion';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { 
  Heart,
  Brain,
  Shield,
  Star,
  Lightbulb,
  Target,
  Users,
  BookOpen,
  CheckCircle2,
  ArrowRight
} from 'lucide-react';

// Updated gradients and palette per brand theme
const reasons = [
  {
    icon: Heart,
    title: 'Strengthen Your Faith',
    description: 'Understanding the Quran deepens your connection with Allah and reinforces your belief through His divine wisdom.',
    gradient: 'from-[#453142] to-[#6e4d66]',
  },
  {
    icon: Brain,
    title: 'Gain True Knowledge',
    description: 'Move beyond mere recitation to comprehend the profound meanings and guidance within every verse.',
    gradient: 'from-[#6e4d66] to-[#faf9f7]',
  },
  {
    icon: Shield,
    title: 'Find Life Guidance',
    description: 'Discover practical solutions to modern challenges through timeless Quranic wisdom and principles.',
    gradient: 'from-[#453142] to-[#faf9f7]',
  },
  {
    icon: Star,
    title: 'Fulfill Your Purpose',
    description: 'The Quran was revealed for understanding and reflection, not just melodious recitation.',
    gradient: 'from-[#6e4d66] to-[#453142]',
  },
  {
    icon: Lightbulb,
    title: 'Develop Critical Thinking',
    description: 'The Quran encourages reflection, contemplation, and intellectual growth in every verse.',
    gradient: 'from-[#fae7ef] to-[#6e4d66]',
  },
  {
    icon: Target,
    title: 'Achieve Inner Peace',
    description: 'Understanding Allah\'s words brings tranquility, clarity, and purpose to your daily life.',
    gradient: 'from-[#453142] to-[#faf9f7]',
  },
];

const verses = [
  {
    arabic: '  ',
    translation: 'Do they not then reflect on the Quran?',
    reference: 'Surah An-Nisa (4:82)',
  },
  {
    arabic: '     ',
    translation: 'A blessed Book which We have revealed to you, that they might reflect upon its verses',
    reference: 'Surah Sad (38:29)',
  },
  {
    arabic: '       ',
    translation: 'Indeed in that is a reminder for whoever has a heart',
    reference: 'Surah Qaf (50:37)',
  },
];

const benefits = [
  'Make informed decisions based on divine guidance',
  'Strengthen family bonds through shared understanding',
  'Raise children with Quranic values and wisdom',
  'Navigate life challenges with confidence',
  'Deepen your prayers and worship',
  'Answer questions about your faith authentically',
  'Build a meaningful relationship with Allah',
  'Inspire others through your transformed character',
];

const myths = [
  {
    myth: 'Reading without understanding is enough',
    reality: 'Allah explicitly commands us to reflect and ponder over the Quran\'s meanings',
  },
  {
    myth: 'Arabic is too difficult to learn',
    reality: 'With the word-for-word method, anyone can understand Quranic Arabic systematically',
  },
  {
    myth: 'Only scholars can understand the Quran',
    reality: 'The Quran was revealed for all of humanity, and Allah made it easy to understand',
  },
  {
    myth: 'I need years of study to start',
    reality: 'You can begin understanding immediately with the right methodology and guidance',
  },
];

export default function WhyUnderstandQuranPage() {
  return (
    <div className="min-h-screen bg-gradient-to-b from-[#faf9f7] to-white">
      {/* Hero Section */}
      <section className="relative py-20 md:py-32 overflow-hidden">
        <div className="absolute inset-0 -z-10">
          {/* Updated gradient overlays to theme palette */}
          <div className="absolute top-20 right-0 w-96 h-96 bg-[#6e4d66]/10 rounded-full blur-3xl" />
          <div className="absolute bottom-0 left-0 w-96 h-96 bg-[#453142]/10 rounded-full blur-3xl" />
        </div>

        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            className="text-center max-w-4xl mx-auto space-y-6"
          >
            <Badge className="mb-4 bg-[#453142]/90 text-[#faf9f7] px-4 py-2">
              Our Purpose
            </Badge>
            
            <h1 className="text-4xl md:text-6xl font-bold text-[#453142] leading-tight">
              Why <span className="text-transparent bg-clip-text bg-gradient-to-r from-[#6e4d66] to-[#453142]">Understanding</span> the Quran Matters
            </h1>
            
            <p className="text-xl text-[#453142]/80 leading-relaxed">
              The Quran is not just a book to be recited - it's Allah's direct message to guide, transform, and elevate your life. Discover why understanding its meanings is essential for every Muslim.
            </p>

            <Button size="lg" className="bg-[#453142] hover:bg-[#6e4d66] text-white shadow-lg mt-4 transition-colors">
              Start Your Journey
              <ArrowRight className="ml-2 h-5 w-5" />
            </Button>
          </motion.div>
        </div>
      </section>

      {/* Quranic Verses Section */}
      <section className="py-16 md:py-24 bg-gradient-to-br from-[#453142] to-[#6e4d66] text-[#faf9f7]">
        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center mb-12"
          >
            <h2 className="text-3xl md:text-5xl font-bold mb-4">
              Allah Commands Us to Reflect
            </h2>
            <p className="text-[#faf9f7]/80 text-lg max-w-2xl mx-auto">
              The Quran itself emphasizes the importance of understanding and contemplation
            </p>
          </motion.div>

          <div className="grid md:grid-cols-3 gap-6 max-w-6xl mx-auto">
            {verses.map((verse, index) => (
              <motion.div
                key={index}
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1 }}
              >
                <Card className="h-full bg-[#faf9f7]/10 backdrop-blur-md border-white/10">
                  <CardContent className="p-6 space-y-4">
                    <p className="text-2xl font-arabic text-right leading-relaxed">{verse.arabic}</p>
                    <p className="text-[#faf9f7]/90 italic text-lg">&ldquo;{verse.translation}&rdquo;</p>
                    <p className="text-sm text-[#faf9f7]/60">{verse.reference}</p>
                  </CardContent>
                </Card>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* Main Reasons Section */}
      <section className="py-16 md:py-24 bg-white">
        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center mb-12"
          >
            <Badge className="mb-4 bg-[#453142]/10 text-[#453142]">Key Reasons</Badge>
            <h2 className="text-3xl md:text-5xl font-bold text-[#453142] mb-4">
              Transform Your Life Through Understanding
            </h2>
          </motion.div>

          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
            {reasons.map((reason, index) => (
              <motion.div
                key={index}
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1 }}
                whileHover={{ y: -8 }}
              >
                <Card className="h-full border-0 shadow-md hover:shadow-xl transition-all duration-300">
                  <CardContent className="p-6 space-y-4">
                    <div className={`w-16 h-16 bg-gradient-to-br ${reason.gradient} rounded-2xl flex items-center justify-center`}>
                      <reason.icon className="h-8 w-8 text-white" />
                    </div>
                    <h3 className="text-xl font-bold text-[#453142]">{reason.title}</h3>
                    <p className="text-[#453142]/70 leading-relaxed">{reason.description}</p>
                  </CardContent>
                </Card>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* Benefits Section */}
      <section className="py-16 md:py-24 bg-[#faf9f7]">
        <div className="container mx-auto px-4">
          <div className="grid lg:grid-cols-2 gap-12 items-center max-w-6xl mx-auto">
            <motion.div
              initial={{ opacity: 0, x: -30 }}
              whileInView={{ opacity: 1, x: 0 }}
              viewport={{ once: true }}
              className="space-y-6"
            >
              <Badge className="bg-[#6e4d66]/10 text-[#453142]">Life Benefits</Badge>
              <h2 className="text-3xl md:text-5xl font-bold text-[#453142]">
                Practical Benefits in Your Daily Life
              </h2>
              <p className="text-xl text-[#453142]/70">
                Understanding the Quran is not just spiritual - it transforms every aspect of your existence
              </p>
            </motion.div>

            <motion.div
              initial={{ opacity: 0, x: 30 }}
              whileInView={{ opacity: 1, x: 0 }}
              viewport={{ once: true }}
              className="space-y-4"
            >
              {benefits.map((benefit, index) => (
                <motion.div
                  key={index}
                  initial={{ opacity: 0, x: 20 }}
                  whileInView={{ opacity: 1, x: 0 }}
                  viewport={{ once: true }}
                  transition={{ delay: index * 0.05 }}
                  className="flex items-start gap-3 bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow"
                >
                  <CheckCircle2 className="h-6 w-6 text-[#6e4d66] flex-shrink-0 mt-0.5" />
                  <span className="text-[#453142] font-medium">{benefit}</span>
                </motion.div>
              ))}
            </motion.div>
          </div>
        </div>
      </section>

      {/* Myths vs Reality Section */}
      <section className="py-16 md:py-24 bg-white">
        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center mb-12"
          >
            <Badge className="mb-4 bg-[#453142]/10 text-[#453142]">Common Misconceptions</Badge>
            <h2 className="text-3xl md:text-5xl font-bold text-[#453142] mb-4">
              Breaking Down Barriers
            </h2>
            <p className="text-[#453142]/70 text-lg max-w-2xl mx-auto">
              Let's address common myths that prevent people from understanding the Quran
            </p>
          </motion.div>

          <div className="grid md:grid-cols-2 gap-6 max-w-5xl mx-auto">
            {myths.map((item, index) => (
              <motion.div
                key={index}
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1 }}
              >
                <Card className="h-full border-0 shadow-md">
                  <CardContent className="p-6">
                    <div className="flex items-start gap-4 mb-4">
                      <div className="w-2 h-2 mt-2 rounded-full bg-[#6e4d66]" />
                      <div>
                        <h3 className="text-lg font-semibold text-[#6e4d66] mb-2">
                          Myth: {item.myth}
                        </h3>
                      </div>
                    </div>
                    <div className="flex items-start gap-4">
                      <div className="w-2 h-2 mt-2 rounded-full bg-[#453142]" />
                      <div>
                        <h3 className="text-lg font-semibold text-[#453142] mb-2">
                          Reality: {item.reality}
                        </h3>
                      </div>
                    </div>
                  </CardContent>
                </Card>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* CTA Section */}
      <section className="py-16 md:py-24 bg-gradient-to-br from-[#453142] to-[#6e4d66] text-[#faf9f7]">
        <div className="container mx-auto px-4 text-center">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="max-w-3xl mx-auto space-y-6"
          >
            <BookOpen className="w-16 h-16 mx-auto text-[#faf9f7]/80" />
            <h2 className="text-3xl md:text-5xl font-bold">
              Begin Your Transformation Today
            </h2>
            <p className="text-xl text-[#faf9f7]/80">
              Join thousands who have discovered the life-changing power of understanding Allah's words
            </p>
            <div className="flex flex-wrap gap-4 justify-center">
              <Button size="lg" className="bg-white text-[#453142] hover:bg-[#faf9f7] transition-colors">
                Enroll for Free
              </Button>
              <Button size="lg" variant="outline" className="border-[#453142] text-[#453142] hover:bg-[#453142]/10 transition-colors">
                Learn Our Method
              </Button>
            </div>
          </motion.div>
        </div>
      </section>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\admin\page.tsx
============================================================
"use client";

import { useEffect, useState } from 'react';
import Link from 'next/link';
import { Users, Video, BookOpen, ScrollText } from 'lucide-react'; // Add ScrollText icon

type AdminMenuItem = {
  title: string;
  description: string;
  href: string;
  icon: React.ElementType;
  count?: number;
};

// Dummy fetchRegistrationsCount. Replace with real API call in production.
async function fetchRegistrationsCount(): Promise<number> {
  // Example: const res = await fetch('/api/admin/registrations/count');
  // return (await res.json()).count;
  return 24; // placeholder
}

export default function AdminIndex() {
  const [registrationsCount, setRegistrationsCount] = useState<number | undefined>(undefined);

  useEffect(() => {
    fetchRegistrationsCount().then(setRegistrationsCount);
  }, []);

  const adminMenuItems: AdminMenuItem[] = [
    {
      title: 'Class Registrations',
      description: 'View and manage ladies class registrations',
      href: '/admin/registrations',
      icon: Users,
      count: registrationsCount,
    },
    {
      title: 'Videos',
      description: 'Manage uploaded videos',
      href: '/admin/videos',
      icon: Video,
    },
    {
      title: 'Ebooks',
      description: 'Manage available eBooks',
      href: '/admin/ebooks',
      icon: BookOpen,
    },
    {
      title: 'Surahs',
      description: 'Manage Quran Surah list',
      href: '/admin/surahs',
      icon: ScrollText,
    },
  ];

  return (
    <main
      className="p-8 min-h-screen"
      style={{ backgroundColor: '#faf9f7', color: '#453142' }}
    >
      <h1 className="text-2xl font-bold mb-6">Admin Dashboard</h1>
      <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
        {adminMenuItems.map((item) => (
          <Link
            key={item.title}
            href={item.href}
            style={{
              backgroundColor: '#453142',
              color: '#faf9f7',
              textDecoration: 'none',
            }}
            className="block rounded-xl p-6 shadow-md transition hover:scale-105"
          >
            <div className="flex items-center">
              <item.icon className="w-8 h-8 mr-4" />
              <div>
                <div className="flex items-center gap-2">
                  <h2 className="text-xl font-semibold">{item.title}</h2>
                  {typeof item.count === 'number' && (
                    <span
                      style={{
                        backgroundColor: '#faf9f7',
                        color: '#453142',
                        fontWeight: 700,
                        borderRadius: 9999,
                        padding: "0.2rem 0.6rem",
                        fontSize: "0.8rem",
                        marginLeft: "0.5rem",
                        display: "inline-flex",
                        alignItems: "center"
                      }}
                    >
                      {item.count}
                    </span>
                  )}
                </div>
                <p className="text-sm opacity-80" style={{ color: '#faf9f7', opacity: 0.85 }}>
                  {item.description}
                </p>
              </div>
            </div>
          </Link>
        ))}
      </div>
    </main>
  );
}



============================================================
FILE: .\wqtc\app\admin\ebooks\page.tsx
============================================================
'use client';

import { useState, useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Trash2, Edit, Plus, Search } from 'lucide-react';
import type { EBook } from '@/types/ebook';
import { api } from '@/lib/api';

export default function AdminEBooksPage() {
  const router = useRouter();
  const [ebooks, setEbooks] = useState<EBook[]>([]);
  const [searchTerm, setSearchTerm] = useState('');
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    fetchEBooks();
  }, []);

  const fetchEBooks = async () => {
    setLoading(true);
    try {
      // FastAPI uses GET query params, our api.getEbooks handles this conversion
      const data = await api.getEbooks({ sort: 'DESC' });
      // FastAPI returns list directly in some endpoints, or wrapped in 'result'. 
      // Check your FastAPI response schema. Based on your export:
      // get_ebooks returns List[EBookResponse] directly.
      setEbooks(data || []); 
    } catch (error) {
      console.error('Error fetching ebooks:', error);
    } finally {
      setLoading(false);
    }
  };

  const handleDelete = async (id: number) => {
    if (!confirm('Are you sure you want to delete this ebook?')) return;
    
    try {
      await api.deleteEbook(id);
      alert('EBook deleted successfully');
      fetchEBooks();
    } catch (error) {
      console.error('Delete error:', error);
      alert('Failed to delete ebook');
    }
  };

  const filteredEBooks = ebooks.filter((ebook) =>
    ebook.title.toLowerCase().includes(searchTerm.toLowerCase())
  );

  return (
    <div className="container mx-auto px-4 py-8">
      <Card className="border-0 shadow-lg bg-white">
        <CardHeader>
          <div className="flex justify-between items-center">
            <CardTitle className="text-3xl font-bold text-[#453142]">
              Manage EBooks
            </CardTitle>
            <Button
              onClick={() => router.push('/admin/ebooks/new')}
              className="bg-[#453142] hover:bg-[#5a3f54] text-[#faf9f7]"
            >
              <Plus className="h-4 w-4 mr-2" />
              Add New EBook
            </Button>
          </div>
        </CardHeader>
        <CardContent>
          {/* Search */}
          <div className="mb-6 relative">
            <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#453142]/50" />
            <input
              type="text"
              placeholder="Search ebooks by title..."
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              className="w-full pl-10 pr-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
            />
          </div>

          {/* EBooks Table */}
          {loading ? (
            <div className="text-center py-8">Loading...</div>
          ) : (
            <div className="bg-white rounded shadow overflow-x-auto">
              <table className="w-full">
                <thead className="bg-[#453142] text-[#faf9f7]">
                  <tr>
                    <th className="px-4 py-3 text-left">Title</th>
                    <th className="px-4 py-3 text-left">Filename</th>
                    <th className="px-4 py-3 text-left">Pages</th>
                    <th className="px-4 py-3 text-left">Date</th>
                    <th className="px-4 py-3 text-center">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  {filteredEBooks.length === 0 ? (
                    <tr>
                      <td colSpan={5} className="text-center py-8 text-[#453142]/70">
                        No ebooks found. Click "Add New EBook" to get started.
                      </td>
                    </tr>
                  ) : (
                    filteredEBooks.map((ebook) => (
                      <tr key={ebook.id} className="border-b hover:bg-[#453142]/5">
                        <td className="px-4 py-3">{ebook.title}</td>
                        <td className="px-4 py-3">{ebook.filename}</td>
                        <td className="px-4 py-3">{ebook.pages || 'N/A'}</td>
                        <td className="px-4 py-3">
                          {new Date(ebook.createddate).toLocaleDateString()}
                        </td>
                        <td className="px-4 py-3 text-center">
                          <div className="flex justify-center gap-2">
                            <Button
                              onClick={() => router.push(`/admin/ebooks/edit/${ebook.id}`)}
                              variant="outline"
                              size="sm"
                              className="border-[#453142] text-[#453142] hover:bg-[#453142]/10"
                            >
                              <Edit className="h-4 w-4" />
                            </Button>
                            <Button
                              onClick={() => handleDelete(ebook.id)}
                              variant="destructive"
                              size="sm"
                            >
                              <Trash2 className="h-4 w-4" />
                            </Button>
                          </div>
                        </td>
                      </tr>
                    ))
                  )}
                </tbody>
              </table>
            </div>
          )}
        </CardContent>
      </Card>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\admin\ebooks\edit\[id]\page.tsx
============================================================
'use client';

import { useState, useEffect, use } from 'react';
import { useRouter } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { ArrowLeft, Upload, Loader2, Image as ImageIcon } from 'lucide-react';
import Image from 'next/image';
import { api } from '@/lib/api';

export default function EditEBookPage({ params }: { params: Promise<{ id: string }> }) {
  const router = useRouter();

  // Unwrap params Promise using React.use()
  const { id } = use(params);

  const [formData, setFormData] = useState({
    title: '',
    filename: '',
    coverImage: '',
    description: '',
    pages: '',
  });
  const [coverFile, setCoverFile] = useState<File | null>(null);
  const [coverPreview, setCoverPreview] = useState<string>('');
  const [uploadingCover, setUploadingCover] = useState(false);
  const [submitting, setSubmitting] = useState(false);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchEBook();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);

  const fetchEBook = async () => {
    try {
      const data = await api.getEbooks({});
      const ebook = (data || []).find((e: any) => e.id === parseInt(id));

      if (ebook) {
        setFormData({
          title: ebook.title,
          filename: ebook.filename,
          coverImage: ebook.coverImage || '',
          description: ebook.description || '',
          pages: ebook.pages ? ebook.pages.toString() : '',
        });
        if (ebook.coverImage) {
          setCoverPreview(ebook.coverImage);
        }
      }
    } catch (error) {
      console.error('Error fetching ebook:', error);
    } finally {
      setLoading(false);
    }
  };

  const handleCoverChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0];
    if (file) {
      if (!file.type.startsWith('image/')) {
        alert('Please select an image file');
        return;
      }
      if (file.size > 5 * 1024 * 1024) {
        alert('Image size must be less than 5MB');
        return;
      }
      setCoverFile(file);

      const reader = new FileReader();
      reader.onloadend = () => {
        setCoverPreview(reader.result as string);
      };
      reader.readAsDataURL(file);
    }
  };

  const handleUploadCover = async () => {
    if (!coverFile) {
      alert('Please select a cover image first');
      return;
    }

    setUploadingCover(true);
    try {
      const uploadFormData = new FormData();
      uploadFormData.append('file', coverFile);

      // Use new API method
      const data = await api.uploadCover(uploadFormData);

      if (data.filename) {
        setFormData({ ...formData, coverImage: data.filename });
        alert('Cover image uploaded successfully!');
      } else {
        alert('Upload failed: Invalid response');
      }
    } catch (error) {
      console.error('Cover upload error:', error);
      alert('Error uploading cover image');
    } finally {
      setUploadingCover(false);
    }
  };

  // FIX: Sanitize data for update to match backend schema (snake_case) and correct types.
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setSubmitting(true);

    try {
      const payload = {
        title: formData.title,
        description: formData.description,
        cover_image: formData.coverImage,
        pages: formData.pages ? parseInt(formData.pages.toString()) : null
        // Do not send filename in UPDATE
      };

      await api.updateEbook(parseInt(id), payload);
      alert('EBook updated successfully!');
      router.push('/admin/ebooks');
    } catch (error) {
      console.error('Submit error:', error);
      alert('Error updating ebook');
    } finally {
      setSubmitting(false);
    }
  };

  if (loading) {
    return (
      <div className="container mx-auto px-4 py-8 text-center">
        <div className="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#453142] border-r-transparent"></div>
        <p className="mt-4 text-[#453142]">Loading ebook...</p>
      </div>
    );
  }

  return (
    <div className="container mx-auto px-4 py-8 max-w-4xl">
      <Button
        onClick={() => router.back()}
        variant="outline"
        className="mb-4 border-[#453142] text-[#453142]"
      >
        <ArrowLeft className="h-4 w-4 mr-2" />
        Back
      </Button>

      <Card className="border-0 shadow-lg bg-white">
        <CardHeader>
          <CardTitle className="text-3xl font-bold text-[#453142]">
            Edit EBook
          </CardTitle>
        </CardHeader>
        <CardContent>
          <form onSubmit={handleSubmit} className="space-y-6">
            {/* Cover Image Update */}
            <div className="border-2 border-dashed border-[#453142]/30 rounded-lg p-6 bg-[#453142]/5">
              <label className="block font-medium mb-3 text-[#453142] text-lg">
                Update Cover Image (Optional)
              </label>

              <div className="space-y-3">
                {coverPreview && (
                  <div className="relative w-full h-64 mb-3">
                    <Image
                      src={coverPreview}
                      alt="Cover preview"
                      fill
                      className="object-contain rounded-md"
                    />
                  </div>
                )}

                <input
                  type="file"
                  accept="image/*"
                  onChange={handleCoverChange}
                  className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-[#453142] file:text-white file:cursor-pointer hover:file:bg-[#5a3f54]"
                />

                <Button
                  type="button"
                  onClick={handleUploadCover}
                  disabled={!coverFile || uploadingCover}
                  className="w-full bg-[#453142] hover:bg-[#5a3f54] text-white"
                >
                  {uploadingCover ? (
                    <>
                      <Loader2 className="h-4 w-4 mr-2 animate-spin" />
                      Uploading...
                    </>
                  ) : (
                    <>
                      <ImageIcon className="h-4 w-4 mr-2" />
                      Upload New Cover
                    </>
                  )}
                </Button>
              </div>
            </div>

            {/* Title */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                EBook Title *
              </label>
              <input
                type="text"
                value={formData.title}
                onChange={(e) => setFormData({ ...formData, title: e.target.value })}
                required
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="Enter ebook title"
              />
            </div>

            {/* Description */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                Description
              </label>
              <textarea
                value={formData.description}
                onChange={(e) => setFormData({ ...formData, description: e.target.value })}
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="Enter ebook description"
                rows={3}
              />
            </div>

            {/* Pages */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                Number of Pages
              </label>
              <input
                type="number"
                value={formData.pages}
                onChange={(e) => setFormData({ ...formData, pages: e.target.value })}
                min="1"
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="30"
              />
            </div>

            {/* PDF Info (read-only) */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                PDF File (cannot be changed)
              </label>
              <input
                type="text"
                value={formData.filename}
                disabled
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md bg-gray-100 cursor-not-allowed"
              />
            </div>

            {/* Buttons */}
            <div className="flex gap-4 pt-4">
              <Button
                type="submit"
                disabled={submitting}
                className="flex-1 bg-[#453142] hover:bg-[#5a3f54] text-[#faf9f7]"
              >
                {submitting ? 'Saving...' : 'Update EBook'}
              </Button>
              <Button
                type="button"
                onClick={() => router.back()}
                variant="outline"
                className="flex-1 border-[#453142] text-[#453142]"
              >
                Cancel
              </Button>
            </div>
          </form>
        </CardContent>
      </Card>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\admin\ebooks\new\page.tsx
============================================================
'use client';

import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { ArrowLeft, Upload, FileText, Loader2, Image as ImageIcon } from 'lucide-react';
import Image from 'next/image';
import { api } from '@/lib/api';

export default function NewEBookPage() {
  const router = useRouter();
  const [formData, setFormData] = useState({
    title: '',
    filename: '',
    coverImage: '',
    description: '',
    pages: '',
  });

  const [pdfFile, setPdfFile] = useState<File | null>(null);
  const [coverFile, setCoverFile] = useState<File | null>(null);
  const [coverPreview, setCoverPreview] = useState<string>('');
  const [uploading, setUploading] = useState(false);
  const [uploadingCover, setUploadingCover] = useState(false);
  const [submitting, setSubmitting] = useState(false);

  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0];
    if (file) {
      if (file.type !== 'application/pdf') {
        alert('Please select a PDF file');
        return;
      }
      if (file.size > 100 * 1024 * 1024) {
        alert('File size must be less than 100MB');
        return;
      }
      setPdfFile(file);
      if (!formData.title) {
        setFormData({ ...formData, title: file.name.replace(/\.pdf$/i, '') });
      }
    }
  };

  const handleCoverChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0];
    if (file) {
      if (!file.type.startsWith('image/')) {
        alert('Please select an image file');
        return;
      }
      if (file.size > 5 * 1024 * 1024) {
        alert('Image size must be less than 5MB');
        return;
      }
      setCoverFile(file);

      // Create preview
      const reader = new FileReader();
      reader.onloadend = () => {
        setCoverPreview(reader.result as string);
      };
      reader.readAsDataURL(file);
    }
  };

  const handleUploadPDF = async () => {
    if (!pdfFile) {
      alert('Please select a PDF file first');
      return;
    }

    setUploading(true);
    try {
      const uploadFormData = new FormData();
      uploadFormData.append('file', pdfFile);

      // Use new API method
      const data = await api.uploadPdf(uploadFormData);

      if (data.filename) {
        setFormData({ ...formData, filename: data.filename });
        alert('PDF uploaded successfully!');
      } else {
        alert('Upload failed: Invalid response');
      }
    } catch (error) {
      console.error('Upload error:', error);
      alert('Error uploading PDF');
    } finally {
      setUploading(false);
    }
  };

  const handleUploadCover = async () => {
    if (!coverFile) {
      alert('Please select a cover image first');
      return;
    }

    setUploadingCover(true);
    try {
      const uploadFormData = new FormData();
      uploadFormData.append('file', coverFile);

      // Use new API method
      const data = await api.uploadCover(uploadFormData);

      if (data.filename) {
        setFormData({ ...formData, coverImage: data.filename });
        alert('Cover image uploaded successfully!');
      } else {
        alert('Upload failed: Invalid response');
      }
    } catch (error) {
      console.error('Cover upload error:', error);
      alert('Error uploading cover image');
    } finally {
      setUploadingCover(false);
    }
  };

  // FIX: Sanitize data to match Backend Schema (Pydantic)
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();

    if (!formData.filename) {
      alert('Please upload a PDF file first');
      return;
    }

    setSubmitting(true);

    try {
      // ---------------------------------------------------------
      // FIX: Sanitize data to match Backend Schema (Pydantic)
      // ---------------------------------------------------------
      const payload = {
        title: formData.title,
        filename: formData.filename,
        description: formData.description,
        // 1. Map camelCase (Frontend) -> snake_case (Backend)
        cover_image: formData.coverImage,
        // 2. Convert 'pages' string to Integer. If empty string, send null.
        pages: formData.pages ? parseInt(formData.pages.toString()) : null,
      };

      // Send the sanitized payload instead of raw formData
      await api.createEbook(payload);

      alert('EBook added successfully!');
      router.push('/admin/ebooks');
    } catch (error) {
      console.error('Submit error:', error);
      alert('Error adding ebook');
    } finally {
      setSubmitting(false);
    }
  };

  return (
    <div className="container mx-auto px-4 py-8 max-w-4xl">
      <Button
        onClick={() => router.back()}
        variant="outline"
        className="mb-4 border-[#453142] text-[#453142]"
      >
        <ArrowLeft className="h-4 w-4 mr-2" />
        Back
      </Button>

      <Card className="border-0 shadow-lg bg-white">
        <CardHeader>
          <CardTitle className="text-3xl font-bold text-[#453142]">
            Add New EBook
          </CardTitle>
        </CardHeader>
        <CardContent>
          <form onSubmit={handleSubmit} className="space-y-6">

            <div className="grid md:grid-cols-2 gap-6">
              {/* PDF Upload */}
              <div className="border-2 border-dashed border-[#453142]/30 rounded-lg p-6 bg-[#453142]/5">
                <label className="block font-medium mb-3 text-[#453142] text-lg">
                  Upload PDF File *
                </label>

                <div className="space-y-3">
                  <input
                    type="file"
                    accept=".pdf"
                    onChange={handleFileChange}
                    className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-[#453142] file:text-white file:cursor-pointer hover:file:bg-[#5a3f54]"
                  />
                  {pdfFile && (
                    <div className="flex items-center gap-2 text-sm text-[#453142]">
                      <FileText className="h-4 w-4" />
                      <span className="font-medium">{pdfFile.name}</span>
                      <span className="text-[#453142]/70">
                        ({(pdfFile.size / 1024 / 1024).toFixed(2)} MB)
                      </span>
                    </div>
                  )}

                  <Button
                    type="button"
                    onClick={handleUploadPDF}
                    disabled={!pdfFile || uploading}
                    className="w-full bg-[#453142] hover:bg-[#5a3f54] text-white"
                  >
                    {uploading ? (
                      <>
                        <Loader2 className="h-4 w-4 mr-2 animate-spin" />
                        Uploading...
                      </>
                    ) : (
                      <>
                        <Upload className="h-4 w-4 mr-2" />
                        Upload PDF
                      </>
                    )}
                  </Button>

                  {formData.filename && (
                    <div className="text-sm text-green-600 font-medium">
                       PDF uploaded: {formData.filename}
                    </div>
                  )}
                </div>
              </div>

              {/* Cover Image Upload */}
              <div className="border-2 border-dashed border-[#453142]/30 rounded-lg p-6 bg-[#453142]/5">
                <label className="block font-medium mb-3 text-[#453142] text-lg">
                  Upload Cover Image (Optional)
                </label>

                <div className="space-y-3">
                  {coverPreview && (
                    <div className="relative w-full h-48 mb-3">
                      <Image
                        src={coverPreview}
                        alt="Cover preview"
                        fill
                        className="object-contain rounded-md"
                      />
                    </div>
                  )}
                  <input
                    type="file"
                    accept="image/*"
                    onChange={handleCoverChange}
                    className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-[#453142] file:text-white file:cursor-pointer hover:file:bg-[#5a3f54]"
                  />
                  <Button
                    type="button"
                    onClick={handleUploadCover}
                    disabled={!coverFile || uploadingCover}
                    className="w-full bg-[#453142] hover:bg-[#5a3f54] text-white"
                  >
                    {uploadingCover ? (
                      <>
                        <Loader2 className="h-4 w-4 mr-2 animate-spin" />
                        Uploading...
                      </>
                    ) : (
                      <>
                        <ImageIcon className="h-4 w-4 mr-2" />
                        Upload Cover
                      </>
                    )}
                  </Button>
                  {formData.coverImage && (
                    <div className="text-sm text-green-600 font-medium">
                       Cover uploaded: {formData.coverImage}
                    </div>
                  )}
                </div>
              </div>
            </div>

            {/* Title */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                EBook Title *
              </label>
              <input
                type="text"
                value={formData.title}
                onChange={(e) => setFormData({ ...formData, title: e.target.value })}
                required
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="Enter ebook title"
              />
            </div>

            {/* Description */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                Description
              </label>
              <textarea
                value={formData.description}
                onChange={(e) => setFormData({ ...formData, description: e.target.value })}
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="Enter ebook description"
                rows={3}
              />
            </div>

            {/* Pages */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                Number of Pages (optional)
              </label>
              <input
                type="number"
                value={formData.pages}
                onChange={(e) => setFormData({ ...formData, pages: e.target.value })}
                min="1"
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="30"
              />
            </div>

            {/* Buttons */}
            <div className="flex gap-4 pt-4">
              <Button
                type="submit"
                disabled={submitting || !formData.filename}
                className="flex-1 bg-[#453142] hover:bg-[#5a3f54] text-[#faf9f7]"
              >
                {submitting ? 'Saving...' : 'Save EBook'}
              </Button>
              <Button
                type="button"
                onClick={() => router.back()}
                variant="outline"
                className="flex-1 border-[#453142] text-[#453142]"
              >
                Cancel
              </Button>
            </div>
          </form>
        </CardContent>
      </Card>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\admin\registrations\page.tsx
============================================================
'use client';

import { useState, useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import {
  Search,
  Download,
  CheckCircle,
  XCircle,
  Clock,
  Phone,
  Mail,
  Calendar,
  User,
  Globe,
  MessageCircle,
} from 'lucide-react';
import { api } from '@/lib/api';

interface Registration {
  id: number;
  name: string;
  email: string;
  phone: string;
  whatsapp?: string;
  country: string;
  language: string;
  classType: string;
  timing: string;
  days: string;
  contactNumber: string;
  additionalNotes?: string;
  status: 'pending' | 'confirmed' | 'cancelled';
  createdAt: string;
}

export default function AdminRegistrationsPage() {
  const router = useRouter();
  const [registrations, setRegistrations] = useState<Registration[]>([]);
  const [filteredRegistrations, setFilteredRegistrations] = useState<Registration[]>([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [statusFilter, setStatusFilter] = useState<string>('all');
  const [languageFilter, setLanguageFilter] = useState<string>('all');

  useEffect(() => {
    fetchRegistrations();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);

  useEffect(() => {
    filterRegistrations();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [searchTerm, statusFilter, languageFilter, registrations]);

  const fetchRegistrations = async () => {
    setLoading(true);
    try {
      // Use the central api client
      const data = await api.getRegistrations({});
      // Some backends return {result: [...]}, some just [...], so support both
      const result = data.result || data || [];
      setRegistrations(result);
      setFilteredRegistrations(result);
    } catch (error) {
      console.error('Error fetching registrations:', error);
    } finally {
      setLoading(false);
    }
  };

  const filterRegistrations = () => {
    let filtered = [...registrations];

    // Search filter
    if (searchTerm) {
      filtered = filtered.filter(
        (reg) =>
          reg.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
          reg.email.toLowerCase().includes(searchTerm.toLowerCase()) ||
          reg.phone.includes(searchTerm)
      );
    }

    // Status filter
    if (statusFilter !== 'all') {
      filtered = filtered.filter((reg) => reg.status === statusFilter);
    }

    // Language filter
    if (languageFilter !== 'all') {
      filtered = filtered.filter((reg) => reg.language === languageFilter);
    }

    setFilteredRegistrations(filtered);
  };

  const updateStatus = async (id: number, status: string) => {
    try {
      // Use centralized api client for status update
      await api.updateRegistrationStatus(id, status);
      alert('Status updated successfully');
      fetchRegistrations();
    } catch (error) {
      console.error('Error updating status:', error);
      alert('Error updating status');
    }
  };

  const exportToCSV = () => {
    const headers = [
      'ID',
      'Name',
      'Email',
      'Phone',
      'WhatsApp',
      'Country',
      'Language',
      'Class Type',
      'Timing',
      'Days',
      'Contact Number',
      'Status',
      'Additional Notes',
      'Registered On',
    ];

    const rows = filteredRegistrations.map((reg) => [
      reg.id,
      reg.name,
      reg.email,
      reg.phone,
      reg.whatsapp || reg.phone,
      reg.country,
      reg.language,
      reg.classType,
      reg.timing,
      reg.days,
      reg.contactNumber,
      reg.status,
      reg.additionalNotes || '',
      new Date(reg.createdAt).toLocaleString(),
    ]);

    const csvContent = [
      headers.join(','),
      ...rows.map((row) => row.map((cell) => `"${cell}"`).join(',')),
    ].join('\n');

    const blob = new Blob([csvContent], { type: 'text/csv' });
    const url = window.URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `class-registrations-${new Date().toISOString().split('T')[0]}.csv`;
    link.click();
  };

  const getStatusBadge = (status: string) => {
    switch (status) {
      case 'confirmed':
        return <Badge className="bg-green-100 text-green-700">Confirmed</Badge>;
      case 'cancelled':
        return <Badge className="bg-red-100 text-red-700">Cancelled</Badge>;
      default:
        return <Badge className="bg-yellow-100 text-yellow-700">Pending</Badge>;
    }
  };

  const stats = {
    total: registrations.length,
    pending: registrations.filter((r) => r.status === 'pending').length,
    confirmed: registrations.filter((r) => r.status === 'confirmed').length,
    cancelled: registrations.filter((r) => r.status === 'cancelled').length,
  };

  const languages = Array.from(new Set(registrations.map((r) => r.language)));

  return (
    <div className="container mx-auto px-4 py-8">
      <Card className="border-0 shadow-lg bg-white mb-6">
        <CardHeader>
          <div className="flex justify-between items-center flex-wrap gap-4">
            <div>
              <CardTitle className="text-3xl font-bold text-[#453142]">
                Class Registrations
              </CardTitle>
              <p className="text-[#453142]/70 mt-2">
                Manage and track all ladies class registrations
              </p>
            </div>
            <Button
              onClick={exportToCSV}
              className="bg-green-600 hover:bg-green-700 text-white"
            >
              <Download className="h-4 w-4 mr-2" />
              Export CSV
            </Button>
          </div>
        </CardHeader>
      </Card>

      {/* Stats Cards */}
      <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
        <Card className="border-0 shadow-md">
          <CardContent className="p-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-[#453142]/70">Total</p>
                <p className="text-3xl font-bold text-[#453142]">{stats.total}</p>
              </div>
              <User className="h-8 w-8 text-blue-600" />
            </div>
          </CardContent>
        </Card>

        <Card className="border-0 shadow-md">
          <CardContent className="p-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-[#453142]/70">Pending</p>
                <p className="text-3xl font-bold text-yellow-600">{stats.pending}</p>
              </div>
              <Clock className="h-8 w-8 text-yellow-600" />
            </div>
          </CardContent>
        </Card>

        <Card className="border-0 shadow-md">
          <CardContent className="p-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-[#453142]/70">Confirmed</p>
                <p className="text-3xl font-bold text-green-600">{stats.confirmed}</p>
              </div>
              <CheckCircle className="h-8 w-8 text-green-600" />
            </div>
          </CardContent>
        </Card>

        <Card className="border-0 shadow-md">
          <CardContent className="p-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-[#453142]/70">Cancelled</p>
                <p className="text-3xl font-bold text-red-600">{stats.cancelled}</p>
              </div>
              <XCircle className="h-8 w-8 text-red-600" />
            </div>
          </CardContent>
        </Card>
      </div>

      {/* Filters */}
      <Card className="border-0 shadow-md mb-6">
        <CardContent className="p-6">
          <div className="grid md:grid-cols-3 gap-4">
            {/* Search */}
            <div>
              <label className="block text-sm font-medium text-[#453142] mb-2">
                Search
              </label>
              <div className="relative">
                <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#453142]/50" />
                <input
                  type="text"
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                  placeholder="Name, email, or phone..."
                  className="w-full pl-10 pr-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                />
              </div>
            </div>

            {/* Status Filter */}
            <div>
              <label className="block text-sm font-medium text-[#453142] mb-2">
                Status
              </label>
              <select
                value={statusFilter}
                onChange={(e) => setStatusFilter(e.target.value)}
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
              >
                <option value="all">All Status</option>
                <option value="pending">Pending</option>
                <option value="confirmed">Confirmed</option>
                <option value="cancelled">Cancelled</option>
              </select>
            </div>

            {/* Language Filter */}
            <div>
              <label className="block text-sm font-medium text-[#453142] mb-2">
                Language
              </label>
              <select
                value={languageFilter}
                onChange={(e) => setLanguageFilter(e.target.value)}
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
              >
                <option value="all">All Languages</option>
                {languages.map((lang) => (
                  <option key={lang} value={lang}>
                    {lang}
                  </option>
                ))}
              </select>
            </div>
          </div>
        </CardContent>
      </Card>

      {/* Registrations Table */}
      <Card className="border-0 shadow-md">
        <CardContent className="p-0">
          {loading ? (
            <div className="text-center py-12">
              <div className="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#453142] border-r-transparent mb-4"></div>
              <p className="text-[#453142]">Loading registrations...</p>
            </div>
          ) : filteredRegistrations.length === 0 ? (
            <div className="text-center py-12">
              <User className="h-12 w-12 mx-auto text-[#453142]/30 mb-4" />
              <p className="text-[#453142]/70">No registrations found</p>
            </div>
          ) : (
            <div className="overflow-x-auto">
              <table className="w-full">
                <thead className="bg-[#453142] text-[#faf9f7]">
                  <tr>
                    <th className="px-4 py-3 text-left text-sm font-semibold">Student</th>
                    <th className="px-4 py-3 text-left text-sm font-semibold">Contact</th>
                    <th className="px-4 py-3 text-left text-sm font-semibold">Class Details</th>
                    <th className="px-4 py-3 text-left text-sm font-semibold">Status</th>
                    <th className="px-4 py-3 text-left text-sm font-semibold">Registered</th>
                    <th className="px-4 py-3 text-center text-sm font-semibold">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  {filteredRegistrations.map((reg, index) => (
                    <tr
                      key={reg.id}
                      className={`border-b hover:bg-[#453142]/5 ${
                        index % 2 === 0 ? 'bg-white' : 'bg-[#faf9f7]'
                      }`}
                    >
                      {/* Student Info */}
                      <td className="px-4 py-4">
                        <div>
                          <p className="font-semibold text-[#453142]">{reg.name}</p>
                          <div className="flex items-center gap-1 text-xs text-[#453142]/70 mt-1">
                            <Globe className="h-3 w-3" />
                            {reg.country}
                          </div>
                        </div>
                      </td>

                      {/* Contact */}
                      <td className="px-4 py-4">
                        <div className="space-y-1 text-sm">
                          <div className="flex items-center gap-2 text-[#453142]/70">
                            <Mail className="h-3 w-3" />
                            <a
                              href={`mailto:${reg.email}`}
                              className="hover:text-[#453142] hover:underline"
                            >
                              {reg.email}
                            </a>
                          </div>
                          <div className="flex items-center gap-2 text-[#453142]/70">
                            <Phone className="h-3 w-3" />
                            <a
                              href={`tel:${reg.phone}`}
                              className="hover:text-[#453142] hover:underline"
                            >
                              {reg.phone}
                            </a>
                          </div>
                          {reg.whatsapp && (
                            <div className="flex items-center gap-2 text-green-600">
                              <MessageCircle className="h-3 w-3" />
                              <a
                                href={`https://wa.me/${reg.whatsapp.replace(/\D/g, '')}`}
                                target="_blank"
                                rel="noopener noreferrer"
                                className="hover:underline"
                              >
                                WhatsApp
                              </a>
                            </div>
                          )}
                        </div>
                      </td>

                      {/* Class Details */}
                      <td className="px-4 py-4">
                        <div className="space-y-1">
                          <Badge className="bg-purple-100 text-purple-700">
                            {reg.language}
                          </Badge>
                          <p className="text-sm text-[#453142]/70">{reg.timing}</p>
                          <p className="text-xs text-[#453142]/50">{reg.days}</p>
                          <Badge
                            className={
                              reg.classType === 'ongoing'
                                ? 'bg-blue-100 text-blue-700'
                                : 'bg-orange-100 text-orange-700'
                            }
                          >
                            {reg.classType}
                          </Badge>
                        </div>
                      </td>

                      {/* Status */}
                      <td className="px-4 py-4">{getStatusBadge(reg.status)}</td>

                      {/* Date */}
                      <td className="px-4 py-4">
                        <div className="flex items-center gap-2 text-sm text-[#453142]/70">
                          <Calendar className="h-4 w-4" />
                          {new Date(reg.createdAt).toLocaleDateString()}
                        </div>
                      </td>

                      {/* Actions */}
                      <td className="px-4 py-4">
                        <div className="flex gap-2 justify-center">
                          {reg.status === 'pending' && (
                            <>
                              <Button
                                size="sm"
                                onClick={() => updateStatus(reg.id, 'confirmed')}
                                className="bg-green-600 hover:bg-green-700 text-white"
                              >
                                <CheckCircle className="h-4 w-4" />
                              </Button>
                              <Button
                                size="sm"
                                variant="destructive"
                                onClick={() => updateStatus(reg.id, 'cancelled')}
                              >
                                <XCircle className="h-4 w-4" />
                              </Button>
                            </>
                          )}
                          {reg.status === 'confirmed' && (
                            <Button
                              size="sm"
                              variant="outline"
                              onClick={() => updateStatus(reg.id, 'pending')}
                              className="border-yellow-600 text-yellow-600"
                            >
                              <Clock className="h-4 w-4" />
                            </Button>
                          )}
                          {reg.status === 'cancelled' && (
                            <Button
                              size="sm"
                              variant="outline"
                              onClick={() => updateStatus(reg.id, 'pending')}
                              className="border-blue-600 text-blue-600"
                            >
                              Reopen
                            </Button>
                          )}
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          )}
        </CardContent>
      </Card>

      {/* Additional Notes Accordion (if needed) */}
      {filteredRegistrations.some((r) => r.additionalNotes) && (
        <Card className="border-0 shadow-md mt-6">
          <CardHeader>
            <CardTitle className="text-xl font-bold text-[#453142]">
              Registrations with Notes
            </CardTitle>
          </CardHeader>
          <CardContent>
            <div className="space-y-4">
              {filteredRegistrations
                .filter((r) => r.additionalNotes)
                .map((reg) => (
                  <div key={reg.id} className="border-l-4 border-purple-500 pl-4 py-2">
                    <p className="font-semibold text-[#453142]">{reg.name}</p>
                    <p className="text-sm text-[#453142]/70 italic mt-1">
                      "{reg.additionalNotes}"
                    </p>
                  </div>
                ))}
            </div>
          </CardContent>
        </Card>
      )}
    </div>
  );
}



============================================================
FILE: .\wqtc\app\admin\surahs\page.tsx
============================================================
'use client';

import { useState, useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Plus, Trash2 } from 'lucide-react';
import { api } from '@/lib/api';

export default function AdminSurahsPage() {
  const router = useRouter();
  const [surahs, setSurahs] = useState<any[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchSurahs();
    // eslint-disable-next-line
  }, []);

  const fetchSurahs = async () => {
    try {
      const data = await api.getSurahs();
      setSurahs(data.result || []);
    } catch (error) {
      console.error('Error:', error);
    } finally {
      setLoading(false);
    }
  };

  const handleDelete = async (id: number) => {
    if (!confirm('Delete this Surah? This might break linked videos.')) return;
    try {
      await api.deleteSurah(id);
      fetchSurahs();
    } catch (error) {
      alert('Failed to delete');
    }
  };

  return (
    <div className="container mx-auto px-4 py-8">
      <Card className="border-0 shadow-lg bg-white">
        <CardHeader>
          <div className="flex justify-between items-center">
            <CardTitle className="text-3xl font-bold text-[#453142]">Manage Surahs</CardTitle>
            <Button onClick={() => router.push('/admin/surahs/new')} className="bg-[#453142] text-white">
              <Plus className="h-4 w-4 mr-2" /> Add Surah
            </Button>
          </div>
        </CardHeader>
        <CardContent>
          <div className="overflow-x-auto">
            <table className="w-full text-left">
              <thead className="bg-[#453142] text-white">
                <tr>
                  <th className="p-3">No.</th>
                  <th className="p-3">Name</th>
                  <th className="p-3">Arabic</th>
                  <th className="p-3">Verses</th>
                  <th className="p-3">Action</th>
                </tr>
              </thead>
              <tbody>
                {loading ? (
                  <tr>
                    <td colSpan={5} className="p-3 text-center">
                      Loading...
                    </td>
                  </tr>
                ) : surahs.length === 0 ? (
                  <tr>
                    <td colSpan={5} className="p-3 text-center">
                      No Surahs Found.
                    </td>
                  </tr>
                ) : (
                  surahs.map((surah) => (
                    <tr key={surah.id} className="border-b">
                      <td className="p-3 font-bold">{surah.id}</td>
                      <td className="p-3">{surah.name}</td>
                      <td className="p-3 font-amiri">{surah.arabic_name}</td>
                      <td className="p-3">{surah.total_verses}</td>
                      <td className="p-3">
                        <Button variant="destructive" size="sm" onClick={() => handleDelete(surah.id)}>
                          <Trash2 className="h-4 w-4" />
                        </Button>
                      </td>
                    </tr>
                  ))
                )}
              </tbody>
            </table>
          </div>
        </CardContent>
      </Card>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\admin\surahs\new\page.tsx
============================================================
'use client';

import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { api } from '@/lib/api';

export default function NewSurahPage() {
  const router = useRouter();
  const [formData, setFormData] = useState({
    id: '', // Surah Number
    name: '',
    arabic_name: '',
    english_name: '',
    total_verses: '',
    revelation_place: 'Makkah'
  });
  const [submitting, setSubmitting] = useState(false);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setSubmitting(true);
    try {
      await api.createSurah({
        ...formData,
        id: parseInt(formData.id),
        total_verses: parseInt(formData.total_verses)
      });
      alert('Surah added!');
      router.push('/admin/surahs');
    } catch (error: any) {
      alert('Error: ' + error.message);
    } finally {
      setSubmitting(false);
    }
  };

  return (
    <div className="container mx-auto px-4 py-8 max-w-xl">
      <Card>
        <CardHeader>
          <CardTitle className="text-[#453142]">Add New Surah</CardTitle>
        </CardHeader>
        <CardContent>
          <form onSubmit={handleSubmit} className="space-y-4">
            <div>
              <label className="block mb-1 font-semibold">Surah Number (ID) *</label>
              <input 
                type="number" required 
                className="w-full border p-2 rounded"
                placeholder="e.g. 1 for Al-Fatiha"
                value={formData.id}
                onChange={e => setFormData({...formData, id: e.target.value})}
              />
            </div>
            <div>
              <label className="block mb-1 font-semibold">Surah Name (English) *</label>
              <input 
                type="text" required 
                className="w-full border p-2 rounded"
                placeholder="e.g. Al-Fatiha"
                value={formData.name}
                onChange={e => setFormData({...formData, name: e.target.value})}
              />
            </div>
            <div>
              <label className="block mb-1 font-semibold">Arabic Name</label>
              <input 
                type="text" 
                className="w-full border p-2 rounded text-right font-amiri"
                placeholder="e.g. "
                value={formData.arabic_name}
                onChange={e => setFormData({...formData, arabic_name: e.target.value})}
              />
            </div>
            <div className="grid grid-cols-2 gap-4">
                <div>
                    <label className="block mb-1 font-semibold">Total Verses</label>
                    <input 
                        type="number" 
                        className="w-full border p-2 rounded"
                        value={formData.total_verses}
                        onChange={e => setFormData({...formData, total_verses: e.target.value})}
                    />
                </div>
                <div>
                    <label className="block mb-1 font-semibold">Revelation</label>
                    <select 
                        className="w-full border p-2 rounded"
                        value={formData.revelation_place}
                        onChange={e => setFormData({...formData, revelation_place: e.target.value})}
                    >
                        <option value="Makkah">Makkah</option>
                        <option value="Madinah">Madinah</option>
                    </select>
                </div>
            </div>
            <Button type="submit" disabled={submitting} className="w-full bg-[#453142] text-white">
              {submitting ? 'Saving...' : 'Save Surah'}
            </Button>
          </form>
        </CardContent>
      </Card>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\admin\videos\page.tsx
============================================================
'use client';

import { useState, useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Trash2, Edit, Plus, Search } from 'lucide-react';
import type { Video } from '@/types/video';
import { api } from '@/lib/api';

export default function AdminVideosPage() {
  const router = useRouter();
  const [videos, setVideos] = useState<Video[]>([]);
  const [searchTerm, setSearchTerm] = useState('');
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    fetchVideos();
  }, []);

  const fetchVideos = async () => {
    setLoading(true);
    try {
      const data = await api.getVideos({ sort: 'DESC' });
      setVideos(data.result || []);
    } catch (error) {
      console.error('Error fetching videos:', error);
    } finally {
      setLoading(false);
    }
  };

  const handleDelete = async (id: number) => {
    if (!confirm('Are you sure you want to delete this video?')) return;

    try {
      await api.deleteVideo(id);
      alert('Video deleted successfully');
      fetchVideos();
    } catch (error) {
      console.error('Delete error:', error);
      alert('Error deleting video');
    }
  };

  const filteredVideos = videos.filter(video =>
    video.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
    (video.surah_name && video.surah_name.toLowerCase().includes(searchTerm.toLowerCase()))
  );

  return (
    <div className="container mx-auto px-4 py-8">
      <Card className="border-0 shadow-lg bg-white">
        <CardHeader>
          <div className="flex justify-between items-center">
            <CardTitle className="text-3xl font-bold text-[#453142]">
              Manage Videos
            </CardTitle>
            <Button
              onClick={() => router.push('/admin/videos/new')}
              className="bg-[#453142] hover:bg-[#5a3f54] text-[#faf9f7]"
            >
              <Plus className="h-4 w-4 mr-2" />
              Add New Video
            </Button>
          </div>
        </CardHeader>

        <CardContent>
          {/* Search */}
          <div className="mb-6 relative">
            <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#453142]/50" />
            <input
              type="text"
              placeholder="Search videos by title or surah..."
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              className="w-full pl-10 pr-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
            />
          </div>

          {/* Videos Table */}
          {loading ? (
            <div className="text-center py-8">Loading...</div>
          ) : (
            <div className="bg-white rounded shadow overflow-x-auto">
              <table className="w-full">
                <thead className="bg-[#453142] text-[#faf9f7]">
                  <tr>
                    <th className="px-4 py-3 text-left">Title</th>
                    <th className="px-4 py-3 text-left">Surah</th>
                    <th className="px-4 py-3 text-left">Verses</th>
                    <th className="px-4 py-3 text-left">YouTube Link</th>
                    <th className="px-4 py-3 text-left">Date</th>
                    <th className="px-4 py-3 text-center">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  {filteredVideos.length === 0 ? (
                    <tr>
                      <td colSpan={6} className="text-center py-8 text-[#453142]/70">
                        No videos found. Click "Add New Video" to get started.
                      </td>
                    </tr>
                  ) : (
                    filteredVideos.map((video) => (
                      <tr key={video.id} className="border-b hover:bg-[#453142]/5">
                        <td className="px-4 py-3">{video.title}</td>
                        <td className="px-4 py-3">{video.surah_name || `Surah ${video.surah_no}`}</td>
                        <td className="px-4 py-3">
                          {video.starting_ayah}
                          {video.ending_ayah && ` - ${video.ending_ayah}`}
                        </td>
                        <td className="px-4 py-3">
                          <a
                            href={video.youTube_link}
                            target="_blank"
                            rel="noopener noreferrer"
                            className="text-blue-600 hover:underline"
                          >
                            View
                          </a>
                        </td>
                        <td className="px-4 py-3">
                          {new Date(video.created_date).toLocaleDateString()}
                        </td>
                        <td className="px-4 py-3 text-center">
                          <div className="flex justify-center gap-2">
                            <Button
                              onClick={() => router.push(`/admin/videos/edit/${video.id}`)}
                              variant="outline"
                              size="sm"
                              className="border-[#453142] text-[#453142] hover:bg-[#453142]/10"
                            >
                              <Edit className="h-4 w-4" />
                            </Button>
                            <Button
                              onClick={() => handleDelete(video.id)}
                              variant="destructive"
                              size="sm"
                            >
                              <Trash2 className="h-4 w-4" />
                            </Button>
                          </div>
                        </td>
                      </tr>
                    ))
                  )}
                </tbody>
              </table>
            </div>
          )}
        </CardContent>
      </Card>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\admin\videos\edit\[id]\page.tsx
============================================================
'use client';

import { useState, useEffect, use } from 'react';
import { useRouter } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { ArrowLeft } from 'lucide-react';
import type { Surah } from '@/types/video';
import { api } from '@/lib/api';

export default function EditVideoPage({ params }: { params: Promise<{ id: string }> }) {
  const router = useRouter();
  
  // Unwrap params Promise using React.use()
  const { id } = use(params);
  
  const [surahs, setSurahs] = useState<Surah[]>([]);
  const [formData, setFormData] = useState({
    title: '',
    surahno: '',
    surahname: '',
    startingayah: '',
    endingayah: '',
    timestartayah: '',
    youTubelink: '',
    keywords: '',
  });
  const [submitting, setSubmitting] = useState(false);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchSurahs();
    fetchVideo();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);

  const fetchSurahs = async () => {
    try {
      const data = await api.getSurahs();
      setSurahs(data.result || []);
    } catch (error) {
      console.error('Error fetching surahs:', error);
    }
  };

  const fetchVideo = async () => {
    try {
      const data = await api.getVideos({ sort: 'DESC' });
      const video = data.result?.find((v: any) => v.id === parseInt(id));
      
      if (video) {
        // Safely handle all fields with fallbacks
        setFormData({
          title: video.title || '',
          surahno: video.surahno ? video.surahno.toString() : '',
          surahname: video.surahname || '',
          startingayah: video.startingayah ? video.startingayah.toString() : '',
          endingayah: video.endingayah ? video.endingayah.toString() : '',
          timestartayah: video.timestartayah || '',
          youTubelink: video.youTubelink || '',
          keywords: video.keywords || '',
        });
      } else {
        console.error('Video not found with id:', id);
        alert('Video not found');
        router.push('/admin/videos');
      }
    } catch (error) {
      console.error('Error fetching video:', error);
      alert('Error loading video data');
    } finally {
      setLoading(false);
    }
  };

  const handleSurahChange = (e: React.ChangeEvent<HTMLSelectElement>) => {
    const surahId = e.target.value;
    const selectedSurah = surahs.find((s) => s.id === Number(surahId));
    setFormData({
      ...formData,
      surahno: surahId,
      surahname: selectedSurah?.name || '',
    });
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setSubmitting(true);

    try {
      // FIX: Create a clean payload with correct backend keys
      const payload = {
        title: formData.title,
        surah_no: parseInt(formData.surahno),
        surah_name: formData.surahname,
        starting_ayah: parseInt(formData.startingayah),
        ending_ayah: formData.endingayah ? parseInt(formData.endingayah) : null,
        keywords: formData.keywords,
        video_url: formData.youTubelink,
        // Note: We do NOT send timestartayah
      };

      await api.updateVideo(parseInt(id), payload);
      alert('Video updated successfully!');
      router.push('/admin/videos');
    } catch (error) {
      console.error('Submit error:', error);
      alert('Error updating video');
    } finally {
      setSubmitting(false);
    }
  };

  if (loading) {
    return (
      <div className="container mx-auto px-4 py-8 text-center">
        <div className="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#453142] border-r-transparent"></div>
        <p className="mt-4 text-[#453142]">Loading video...</p>
      </div>
    );
  }

  return (
    <div className="container mx-auto px-4 py-8 max-w-2xl">
      <Button
        onClick={() => router.back()}
        variant="outline"
        className="mb-4 border-[#453142] text-[#453142]"
      >
        <ArrowLeft className="h-4 w-4 mr-2" />
        Back
      </Button>

      <Card className="border-0 shadow-lg bg-white">
        <CardHeader>
          <CardTitle className="text-3xl font-bold text-[#453142]">
            Edit Video
          </CardTitle>
        </CardHeader>
        <CardContent>
          <form onSubmit={handleSubmit} className="space-y-4">
            {/* Title */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                Video Title
              </label>
              <input
                type="text"
                value={formData.title}
                onChange={(e) => setFormData({ ...formData, title: e.target.value })}
                required
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="Enter video title"
              />
            </div>

            {/* Surah */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                Select Surah
              </label>
              <select
                value={formData.surahno}
                onChange={handleSurahChange}
                required
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
              >
                <option value="">-- Select Surah --</option>
                {surahs.map((surah) => (
                  <option key={surah.id} value={surah.id}>
                    {surah.id}. {surah.name}
                  </option>
                ))}
              </select>
            </div>

            {/* Ayah Range */}
            <div className="grid grid-cols-2 gap-4">
              <div>
                <label className="block font-medium mb-2 text-[#453142]">
                  Starting Ayah
                </label>
                <input
                  type="number"
                  value={formData.startingayah}
                  onChange={(e) => setFormData({ ...formData, startingayah: e.target.value })}
                  required
                  min="1"
                  className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                />
              </div>

              <div>
                <label className="block font-medium mb-2 text-[#453142]">
                  Ending Ayah (Optional)
                </label>
                <input
                  type="number"
                  value={formData.endingayah}
                  onChange={(e) => setFormData({ ...formData, endingayah: e.target.value })}
                  min="1"
                  className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                />
              </div>
            </div>

            {/* Time Start */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                Time Start (Optional, e.g., 1:23)
              </label>
              <input
                type="text"
                value={formData.timestartayah}
                onChange={(e) => setFormData({ ...formData, timestartayah: e.target.value })}
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="1:23"
              />
            </div>

            {/* YouTube Link */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                YouTube Link
              </label>
              <input
                type="url"
                value={formData.youTubelink}
                onChange={(e) => setFormData({ ...formData, youTubelink: e.target.value })}
                required
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="https://www.youtube.com/watch?v=..."
              />
            </div>

            {/* Keywords */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                Keywords (Optional, comma separated)
              </label>
              <input
                type="text"
                value={formData.keywords}
                onChange={(e) => setFormData({ ...formData, keywords: e.target.value })}
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="quran, translation, tafsir"
              />
            </div>

            {/* Buttons */}
            <div className="flex gap-4 pt-4">
              <Button
                type="submit"
                disabled={submitting}
                className="flex-1 bg-[#453142] hover:bg-[#5a3f54] text-[#faf9f7]"
              >
                {submitting ? 'Saving...' : 'Update Video'}
              </Button>
              <Button
                type="button"
                onClick={() => router.back()}
                variant="outline"
                className="flex-1 border-[#453142] text-[#453142]"
              >
                Cancel
              </Button>
            </div>
          </form>
        </CardContent>
      </Card>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\admin\videos\new\page.tsx
============================================================
'use client';

import { useState, useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { ArrowLeft, Loader2 } from 'lucide-react';
import type { Surah } from '@/types/video';
import { api } from '@/lib/api';

export default function NewVideoPage() {
  const router = useRouter();
  const [surahs, setSurahs] = useState<Surah[]>([]);
  const [formData, setFormData] = useState({
    title: '',
    surah_no: '',
    surah_name: '',
    starting_ayah: '',
    ending_ayah: '',
    time_start_ayah: '', // Kept in state, will be ignored in payload
    youTube_link: '',
    keywords: ''
  });
  const [submitting, setSubmitting] = useState(false);

  useEffect(() => {
    fetchSurahs();
  }, []);

  const fetchSurahs = async () => {
    try {
      const data = await api.getSurahs();
      setSurahs(data.result || []);
    } catch (error) {
      console.error('Error fetching surahs:', error);
    }
  };

  const handleSurahChange = (e: React.ChangeEvent<HTMLSelectElement>) => {
    const surahId = e.target.value;
    const selectedSurah = surahs.find((s) => s.id === Number(surahId));
    setFormData({
      ...formData,
      surah_no: surahId,
      surah_name: selectedSurah?.name || ''
    });
  };

  // ---- FIX: Map form keys to backend schema in handleSubmit ----
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setSubmitting(true);

    try {
      // Map the fields as backend expects, especially youTube_link -> video_url
      const payload = {
        title: formData.title,
        surah_no: parseInt(formData.surah_no),
        surah_name: formData.surah_name,
        starting_ayah: parseInt(formData.starting_ayah),
        ending_ayah: formData.ending_ayah ? parseInt(formData.ending_ayah) : null,
        keywords: formData.keywords,
        video_url: formData.youTube_link
        // Note: We intentionally omit time_start_ayah
      };

      await api.createVideo(payload);

      alert('Video added successfully!');
      router.push('/admin/videos');
    } catch (error: any) {
      console.error('Submit error:', error);
      alert(`Failed to add video: ${error.message || 'Unknown error'}`);
    } finally {
      setSubmitting(false);
    }
  };

  return (
    <div className="container mx-auto px-4 py-8 max-w-2xl">
      <Button
        onClick={() => router.back()}
        variant="outline"
        className="mb-4 border-[#453142] text-[#453142]"
      >
        <ArrowLeft className="h-4 w-4 mr-2" />
        Back
      </Button>

      <Card className="border-0 shadow-lg bg-white">
        <CardHeader>
          <CardTitle className="text-3xl font-bold text-[#453142]">
            Add New Video
          </CardTitle>
        </CardHeader>

        <CardContent>
          <form onSubmit={handleSubmit} className="space-y-4">
            {/* Title */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                Video Title *
              </label>
              <input
                type="text"
                value={formData.title}
                onChange={(e) => setFormData({ ...formData, title: e.target.value })}
                required
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="Enter video title"
              />
            </div>

            {/* Surah Dropdown */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                Select Surah *
              </label>
              <select
                value={formData.surah_no}
                onChange={handleSurahChange}
                required
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
              >
                <option value="">-- Select Surah --</option>
                {surahs.map((surah) => (
                  <option key={surah.id} value={surah.id}>
                    {surah.id}. {surah.name}
                  </option>
                ))}
              </select>
            </div>

            {/* Starting & Ending Ayah */}
            <div className="grid grid-cols-2 gap-4">
              <div>
                <label className="block font-medium mb-2 text-[#453142]">
                  Starting Ayah *
                </label>
                <input
                  type="number"
                  value={formData.starting_ayah}
                  onChange={(e) => setFormData({ ...formData, starting_ayah: e.target.value })}
                  required
                  min="1"
                  className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                />
              </div>

              <div>
                <label className="block font-medium mb-2 text-[#453142]">
                  Ending Ayah
                </label>
                <input
                  type="number"
                  value={formData.ending_ayah}
                  onChange={(e) => setFormData({ ...formData, ending_ayah: e.target.value })}
                  min="1"
                  className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                />
              </div>
            </div>

            {/* YouTube Link */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                YouTube Link *
              </label>
              <input
                type="url"
                value={formData.youTube_link}
                onChange={(e) => setFormData({ ...formData, youTube_link: e.target.value })}
                required
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="https://www.youtube.com/watch?v=..."
              />
            </div>

            {/* Keywords */}
            <div>
              <label className="block font-medium mb-2 text-[#453142]">
                Keywords (Optional)
              </label>
              <input
                type="text"
                value={formData.keywords}
                onChange={(e) => setFormData({ ...formData, keywords: e.target.value })}
                className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                placeholder="translation, tafsir, etc."
              />
            </div>

            {/* Submit */}
            <div className="flex gap-4 pt-4">
              <Button
                type="submit"
                disabled={submitting}
                className="flex-1 bg-[#453142] hover:bg-[#5a3f54] text-[#faf9f7]"
              >
                {submitting ? (
                  <>
                    <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                    Saving...
                  </>
                ) : 'Save Video'}
              </Button>
              <Button
                type="button"
                onClick={() => router.back()}
                variant="outline"
                className="flex-1 border-[#453142] text-[#453142]"
              >
                Cancel
              </Button>
            </div>
          </form>
        </CardContent>
      </Card>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\contact\page.tsx
============================================================
'use client';

import { useState } from 'react';
import { motion } from 'framer-motion';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import {
  Mail,
  Phone,
  MapPin,
  Clock,
  Send,
  Facebook,
  Instagram,
  Youtube,
  MessageCircle,
  CheckCircle2,
  Loader2,
} from 'lucide-react';

const socialMedia = [
  { icon: Facebook, name: 'Facebook', link: 'https://www.facebook.com/profile.php?id=100093641951236', color: '#1877F2' },
  { icon: Instagram, name: 'Instagram', link: 'https://www.instagram.com/wqtc2024', color: '#E4405F' },
  { icon: Youtube, name: 'YouTube', link: 'https://www.youtube.com/@WQTC-Chennai', color: '#FF0000' },
  { icon: MessageCircle, name: 'WhatsApp', link: '#', color: '#25D366' },
];

const faqs = [
  {
    question: 'Are the classes really free?',
    answer: 'Yes! All our classes are 100% free. We believe Quranic education should be accessible to everyone.',
  },
  {
    question: 'Do I need prior Arabic knowledge?',
    answer: 'Not at all! Our word-for-word method is designed for complete beginners with zero Arabic background.',
  },
  {
    question: 'How do I join classes?',
    answer: "Simply fill out the form below and we'll send you all the details via email.",
  },
  {
    question: 'Are recordings available?',
    answer: 'Yes, all live classes are recorded and available for students to review at their convenience.',
  },
];

export default function ContactPage() {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    phone: '',
    country: '',
    message: '',
    joinClasses: true,
  });
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [isSuccess, setIsSuccess] = useState(false);

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);

    // Placeholder for actual API call, replace with fetch/axios call
    await new Promise((resolve) => setTimeout(resolve, 2000));

    setIsSuccess(true);
    setIsSubmitting(false);

    // Reset form after 3 seconds
    setTimeout(() => {
      setFormData({
        name: '',
        email: '',
        phone: '',
        country: '',
        message: '',
        joinClasses: true,
      });
      setIsSuccess(false);
    }, 3000);
  };

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {
    const { name, value, type } = e.target;
    setFormData({
      ...formData,
      [name]: type === 'checkbox' ? (e.target as HTMLInputElement).checked : value,
    });
  };

  return (
    <div className="min-h-screen bg-gradient-to-b from-[#faf9f7] to-white">
      {/* Hero Section */}
      <section className="relative py-20 md:py-32 overflow-hidden">
        <div className="absolute inset-0 -z-10">
          <div className="absolute top-20 right-0 w-96 h-96 bg-[#453142]/10 rounded-full blur-3xl" />
          <div className="absolute bottom-0 left-0 w-96 h-96 bg-[#6e4d66]/10 rounded-full blur-3xl" />
        </div>

        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            className="text-center max-w-4xl mx-auto space-y-6"
          >
            <Badge className="mb-4 bg-[#453142] text-[#faf9f7] px-4 py-2">Get In Touch</Badge>
            <h1 className="text-4xl md:text-6xl font-bold text-[#453142] leading-tight">
              Let's <span className="text-transparent bg-clip-text bg-gradient-to-r from-[#6e4d66] to-[#453142]">Connect</span>
            </h1>
            <p className="text-xl text-[#453142]/80 leading-relaxed">
              Have questions? Want to join our classes? We're here to help you begin your Quranic journey.
            </p>
          </motion.div>
        </div>
      </section>

      {/* Main Section */}
      <section className="py-16 md:py-24">
        <div className="container mx-auto px-4">
          <div className="grid lg:grid-cols-2 gap-12 max-w-6xl mx-auto">
            {/* Contact Form */}
            <motion.div initial={{ opacity: 0, x: -30 }} whileInView={{ opacity: 1, x: 0 }} viewport={{ once: true }}>
              <Card className="border-0 shadow-xl">
                <CardContent className="p-8">
                  <div className="mb-6">
                    <h2 className="text-3xl font-bold text-[#453142] mb-2">Send Us a Message</h2>
                    <p className="text-[#453142]/70">Fill out the form and we'll get back to you within 24 hours.</p>
                  </div>
                  {isSuccess ? (
                    <motion.div initial={{ opacity: 0, scale: 0.8 }} animate={{ opacity: 1, scale: 1 }} className="text-center py-12">
                      <CheckCircle2 className="w-16 h-16 text-[#453142] mx-auto mb-4" />
                      <h3 className="text-2xl font-bold text-[#453142] mb-2">Message Sent!</h3>
                      <p className="text-[#453142]/70">We'll get back to you soon via email.</p>
                    </motion.div>
                  ) : (
                    <form onSubmit={handleSubmit} className="space-y-6">
                      <div>
                        <label className="block text-[#453142] font-medium mb-2">Full Name *</label>
                        <input
                          type="text"
                          name="name"
                          value={formData.name}
                          onChange={handleChange}
                          required
                          className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#453142] focus:border-transparent transition-all"
                          placeholder="Enter your full name"
                        />
                      </div>

                      <div>
                        <label className="block text-[#453142] font-medium mb-2">Email Address *</label>
                        <input
                          type="email"
                          name="email"
                          value={formData.email}
                          onChange={handleChange}
                          required
                          className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#453142] focus:border-transparent transition-all"
                          placeholder="your.email@example.com"
                        />
                      </div>

                      <div>
                        <label className="block text-[#453142] font-medium mb-2">Phone Number</label>
                        <input
                          type="tel"
                          name="phone"
                          value={formData.phone}
                          onChange={handleChange}
                          className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#453142] focus:border-transparent transition-all"
                          placeholder="+1 234 567 8900"
                        />
                      </div>

                      <div>
                        <label className="block text-[#453142] font-medium mb-2">Country *</label>
                        <select
                          name="country"
                          value={formData.country}
                          onChange={handleChange}
                          required
                          className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#453142] focus:border-transparent transition-all"
                        >
                          <option value="">Select your country</option>
                          <option value="India">India</option>
                          <option value="USA">United States</option>
                          <option value="UK">United Kingdom</option>
                          <option value="UAE">United Arab Emirates</option>
                          <option value="Saudi Arabia">Saudi Arabia</option>
                          <option value="Canada">Canada</option>
                          <option value="Australia">Australia</option>
                          <option value="Other">Other</option>
                        </select>
                      </div>

                      <div>
                        <label className="block text-[#453142] font-medium mb-2">Message</label>
                        <textarea
                          name="message"
                          value={formData.message}
                          onChange={handleChange}
                          rows={4}
                          className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#453142] focus:border-transparent transition-all resize-none"
                          placeholder="Tell us how we can help you..."
                        />
                      </div>

                      <div className="flex items-start gap-3 p-4 bg-[#6e4d66]/10 rounded-lg border border-[#6e4d66]/30">
                        <input
                          type="checkbox"
                          name="joinClasses"
                          checked={formData.joinClasses}
                          onChange={handleChange}
                          id="joinClasses"
                          className="mt-1 w-5 h-5 text-[#453142] border-[#453142]/30 rounded focus:ring-[#453142]"
                        />
                        <label htmlFor="joinClasses" className="text-[#453142] text-sm cursor-pointer">
                          <strong>Yes, I want to join WQTC classes!</strong>
                          <br />
                          <span className="text-[#453142]/70">
                            Send me details about upcoming classes, schedules, and learning materials
                          </span>
                        </label>
                      </div>

                      <Button
                        type="submit"
                        disabled={isSubmitting}
                        className="w-full bg-gradient-to-r from-[#453142] to-[#6e4d66] hover:from-[#2d1c26] hover:to-[#453142] text-white py-6 text-lg font-semibold shadow-lg"
                      >
                        {isSubmitting ? (
                          <>
                            <Loader2 className="mr-2 h-5 w-5 animate-spin" />
                            Sending...
                          </>
                        ) : (
                          <>
                            <Send className="mr-2 h-5 w-5" />
                            Send Message
                          </>
                        )}
                      </Button>
                    </form>
                  )}
                </CardContent>
              </Card>
            </motion.div>

            {/* Right Side - Social, Contact Info & FAQs */}
            <motion.div
              initial={{ opacity: 0, x: 30 }}
              whileInView={{ opacity: 1, x: 0 }}
              viewport={{ once: true }}
              className="space-y-8"
            >
              {/* Social Media & Contact Info */}
              <Card className="border-0 shadow-lg">
                <CardContent className="p-6 space-y-6">
                  <h3 className="text-2xl font-bold text-[#453142]">Connect With Us</h3>
                  <p className="text-[#453142]/70 mb-6">Follow us on social media for updates, tips, and inspiration</p>
                  <div className="grid grid-cols-2 sm:grid-cols-4 gap-4">
                    {socialMedia.map((social) => (
                      <motion.a
                        key={social.name}
                        href={social.link}
                        target="_blank"
                        rel="noopener noreferrer"
                        whileHover={{ scale: 1.05 }}
                        whileTap={{ scale: 0.95 }}
                        className="flex items-center gap-3 px-4 py-3 rounded-lg border border-[#453142]/10 hover:border-[#453142]/30 transition-all"
                        style={{ borderLeftColor: social.color, borderLeftWidth: '4px' }}
                      >
                        <social.icon className="h-6 w-6" style={{ color: social.color }} />
                        <span className="font-medium text-[#453142]">{social.name}</span>
                      </motion.a>
                    ))}
                  </div>

                  {/* Contact Info Block */}
                  <div className="pt-6 space-y-4">
                    <div className="flex items-center gap-3 text-[#453142] text-sm">
                      <Mail className="h-5 w-5" />
                      <a href="mailto:support@wqtc.org" className="hover:underline">
                        support@wqtc.org
                      </a>
                    </div>
                    <div className="flex items-center gap-3 text-[#453142] text-sm">
                      <Phone className="h-5 w-5" />
                      <a href="tel:+919876543210" className="hover:underline">
                        +91 98765 43210
                      </a>
                    </div>
                    <div className="flex items-center gap-3 text-[#453142] text-sm">
                      <MapPin className="h-5 w-5" />
                      <span>Chennai, Tamil Nadu, India</span>
                    </div>
                    <div className="flex items-center gap-3 text-[#453142] text-sm">
                      <Clock className="h-5 w-5" />
                      <span>Mon-Fri: 9AM - 6PM IST</span>
                    </div>
                  </div>
                </CardContent>
              </Card>

              {/* FAQs */}
              <Card className="border-0 shadow-lg">
                <CardContent className="p-6">
                  <h3 className="text-2xl font-bold text-[#453142] mb-6">Quick Questions</h3>
                  <div className="space-y-4">
                    {faqs.map((faq, index) => (
                      <motion.div
                        key={index}
                        initial={{ opacity: 0, y: 10 }}
                        whileInView={{ opacity: 1, y: 0 }}
                        viewport={{ once: true }}
                        transition={{ delay: index * 0.1 }}
                        className="border-b border-[#453142]/10 last:border-0 pb-4 last:pb-0"
                      >
                        <h4 className="font-semibold text-[#453142] mb-2">{faq.question}</h4>
                        <p className="text-[#453142]/70 text-sm">{faq.answer}</p>
                      </motion.div>
                    ))}
                  </div>
                </CardContent>
              </Card>
            </motion.div>
          </div>
        </div>
      </section>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\library\ebooks\page.tsx
============================================================
'use client';

import { useState, useEffect } from 'react';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { BookOpen, Search, X, Download } from 'lucide-react';
import { motion, AnimatePresence } from 'framer-motion';
import dynamic from 'next/dynamic';
import Image from 'next/image';
import { api } from '@/lib/api'; // Import the shared client

// Dynamic import with SSR disabled to avoid DOMMatrix error
const PDFFlipbook = dynamic(() => import('@/components/flipbook/PDFFlipbook'), {
  ssr: false,
  loading: () => (
    <div className="w-full h-full flex items-center justify-center">
      <div className="text-center">
        <div className="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#453142] border-r-transparent mb-4"></div>
        <p className="text-[#453142]">Loading PDF viewer...</p>
      </div>
    </div>
  ),
});

interface EBook {
  id: number;
  title: string;
  filename: string;
  coverImage?: string;
  description?: string;
  pages?: number;
}

export default function EBooksPage() {
  const [ebooks, setEbooks] = useState<EBook[]>([]);
  const [selectedEbook, setSelectedEbook] = useState<EBook | null>(null);
  const [searchTerm, setSearchTerm] = useState('');
  const [hoveredBookId, setHoveredBookId] = useState<number | null>(null);
  const [loading, setLoading] = useState(true);

  // Pagination state
  const [currentPage, setCurrentPage] = useState(1);
  const [totalPages, setTotalPages] = useState(1);
  const [total, setTotal] = useState(0);
  const ebooksPerPage = 12;

  useEffect(() => {
    fetchEBooks();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [currentPage, searchTerm]);

  // --- NEW fetchEBooks LOGIC ---
  const fetchEBooks = async () => {
    setLoading(true);
    try {
      // Use the API client (GET request) instead of manual POST
      // The backend returns an array of all books; we filter/paginate below
      const data = await api.getEbooks({ sort: 'DESC' });

      // Coerce to array either from "data" (FastAPI) or "data.result"
      const allBooks = Array.isArray(data) ? data : (data.result || []);

      // 1. Filter by Search
      let filtered = allBooks;
      if (searchTerm) {
        filtered = allBooks.filter((book: EBook) =>
          book.title.toLowerCase().includes(searchTerm.toLowerCase())
        );
      }

      setTotal(filtered.length);
      setTotalPages(Math.max(1, Math.ceil(filtered.length / ebooksPerPage)));

      // 2. Paginate
      const startIndex = (currentPage - 1) * ebooksPerPage;
      const endIndex = startIndex + ebooksPerPage;
      const paginatedBooks = filtered.slice(startIndex, endIndex);

      setEbooks(paginatedBooks);

    } catch (error) {
      console.error('Error fetching ebooks:', error);
    } finally {
      setLoading(false);
    }
  };

  // Download handler for PDF files using /pdfs (with new rewrite rule)
  const handleDownload = (filename: string) => {
    // Ensure we get the clean filename (no directory)
    const cleanFilename = filename.split('/').pop();
    const fileUrl = `/pdfs/${cleanFilename}`;
    const link = document.createElement('a');
    link.href = fileUrl;
    link.download = cleanFilename || 'ebook.pdf';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  };

  return (
    <div className="min-h-screen bg-[#faf9f7] py-16">
      <div className="container mx-auto px-4">
        {/* Header */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="text-center mb-12"
        >
          <Badge className="mb-4 bg-[#453142] text-[#faf9f7]">eBook Library</Badge>
          <h1 className="text-4xl md:text-5xl font-bold text-[#453142] mb-4">
            Quran eBook Library
          </h1>
          <p className="text-[#453142]/80 text-lg">
            Browse and read our collection of Quran translations
          </p>
          {total > 0 && (
            <p className="text-[#453142]/60 text-sm mt-2">
              {total} ebook{total !== 1 ? 's' : ''} available
            </p>
          )}
        </motion.div>

        {/* Search */}
        <Card className="mb-8 border-0 shadow-lg bg-white">
          <CardContent className="p-6">
            <div className="relative">
              <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#453142]/50" />
              <input
                type="text"
                value={searchTerm}
                onChange={(e) => {
                  setSearchTerm(e.target.value);
                  setCurrentPage(1);
                }}
                placeholder="Search ebooks..."
                className="w-full pl-10 pr-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
              />
            </div>
          </CardContent>
        </Card>

        {/* Loading State */}
        {loading ? (
          <div className="text-center py-12">
            <div className="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#453142] border-r-transparent mb-4"></div>
            <p className="text-[#453142]">Loading ebooks...</p>
          </div>
        ) : (
          <>
            {/* eBooks Grid */}
            <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6">
              {ebooks.map((book, index) => (

                <motion.div
                  key={book.id}
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  transition={{ delay: index * 0.05 }}
                  whileHover={{ y: -8 }}
                >
                  <Card className="group border-0 shadow-md hover:shadow-xl transition-all duration-300 bg-white overflow-visible rounded-lg">
                    {/* Enhanced 3D Book Cover with Opening Animation */}
                    <div
                      className="relative aspect-[3/4] bg-white flex items-center justify-center cursor-pointer rounded-t-lg overflow-hidden"
                      style={{ perspective: '1500px' }}
                      onClick={() => setSelectedEbook(book)}
                      onMouseEnter={() => setHoveredBookId(book.id)}
                      onMouseLeave={() => setHoveredBookId(null)}
                    >
                      {book.coverImage ? (
                        <div className="relative w-full h-full">
                          {/* Book Cover with 3D Transform - Opens OUTWARD */}
                          <div
                            className="absolute inset-0 transition-all duration-700 ease-out"
                            style={{
                              transformStyle: 'preserve-3d',
                              transform:
                                hoveredBookId === book.id
                                  ? 'rotateY(25deg) translateX(-5%)'
                                  : 'rotateY(0deg)',
                              transformOrigin: 'left center',
                            }}
                          >
                            {/* Front Cover - Fully opaque */}
                            <div
                              className="relative w-full h-full bg-white"
                              style={{
                                backfaceVisibility: 'hidden',
                              }}
                            >
                              <Image
                                src={book.coverImage}
                                alt={book.title}
                                fill
                                className="object-cover rounded-md"
                                style={{
                                  backfaceVisibility: 'hidden',
                                }}
                              />
                            </div>

                            {/* Book Spine (visible when opened) */}
                            {hoveredBookId === book.id && (
                              <div
                                className="absolute left-0 top-0 h-full w-2 bg-gradient-to-r from-[#2d1c26] to-[#3a2533]"
                                style={{
                                  transform: 'rotateY(-90deg) translateZ(1px)',
                                  transformOrigin: 'left center',
                                  boxShadow: 'inset -2px 0 5px rgba(0,0,0,0.5)',
                                }}
                              />
                            )}

                            {/* Inner Pages Effect - Behind the cover */}
                            {hoveredBookId === book.id && (
                              <div
                                className="absolute inset-0 pointer-events-none"
                                style={{
                                  transform: 'translateZ(-8px)',
                                }}
                              >
                                {/* Page Stack 1 - Closest to cover */}
                                <div
                                  className="absolute inset-0 bg-gradient-to-r from-[#fefefe] via-[#f8f6f9] to-white border-l-2 border-[#453142]/10"
                                  style={{
                                    boxShadow: 'inset 3px 0 8px rgba(69,49,66,0.12)',
                                  }}
                                />
                              </div>
                            )}

                            {/* Additional page layers */}
                            {hoveredBookId === book.id && (
                              <>
                                <div
                                  className="absolute inset-0 pointer-events-none"
                                  style={{
                                    transform: 'translateZ(-16px)',
                                  }}
                                >
                                  <div
                                    className="absolute inset-0 bg-gradient-to-r from-white to-[#faf9f7] border-l border-[#453142]/8"
                                    style={{
                                      boxShadow: 'inset 2px 0 6px rgba(69,49,66,0.08)',
                                    }}
                                  />
                                </div>
                                <div
                                  className="absolute inset-0 pointer-events-none"
                                  style={{
                                    transform: 'translateZ(-24px)',
                                  }}
                                >
                                  <div className="absolute inset-0 bg-white border-l border-[#453142]/5" />
                                </div>
                              </>
                            )}
                          </div>

                          {/* Overlay with icon - Reduced opacity so cover shows through */}
                          <div className="absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center pointer-events-none z-10">
                            <div className="w-16 h-16 bg-[#faf9f7] rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-lg">
                              <BookOpen className="w-8 h-8 text-[#453142]" />
                            </div>
                          </div>
                        </div>
                      ) : (
                        // Fallback for books without cover image
                        <div className="relative w-full h-full bg-gradient-to-br from-[#453142] to-[#6e4d66]">
                          <div
                            className="relative w-full h-full flex items-center justify-center transition-all duration-700 ease-out"
                            style={{
                              transformStyle: 'preserve-3d',
                              transform:
                                hoveredBookId === book.id
                                  ? 'rotateY(25deg) translateX(-5%)'
                                  : 'rotateY(0deg)',
                              transformOrigin: 'left center',
                            }}
                          >
                            <div className="relative w-full h-full flex items-center justify-center bg-gradient-to-br from-[#453142] to-[#6e4d66]">
                              <BookOpen className="w-24 h-24 text-[#faf9f7]/50 z-10" />
                            </div>

                            {/* Spine for icon version */}
                            {hoveredBookId === book.id && (
                              <div
                                className="absolute left-0 top-0 h-full w-2 bg-gradient-to-r from-[#2d1c26] to-[#3a2533]"
                                style={{
                                  transform: 'rotateY(-90deg) translateZ(1px)',
                                  transformOrigin: 'left center',
                                  boxShadow: 'inset -2px 0 5px rgba(0,0,0,0.5)',
                                }}
                              />
                            )}

                            {/* Inner pages for icon version */}
                            {hoveredBookId === book.id && (
                              <>
                                <div
                                  className="absolute inset-0 pointer-events-none"
                                  style={{
                                    transform: 'translateZ(-8px)',
                                  }}
                                >
                                  <div className="absolute inset-0 bg-gradient-to-r from-white to-[#f6f2f8] border-l-2 border-[#453142]/10" />
                                </div>
                                <div
                                  className="absolute inset-0 pointer-events-none"
                                  style={{
                                    transform: 'translateZ(-16px)',
                                  }}
                                >
                                  <div className="absolute inset-0 bg-white border-l border-[#453142]/5" />
                                </div>
                              </>
                            )}
                          </div>
                          <div className="absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center pointer-events-none z-10">
                            <div className="w-16 h-16 bg-[#faf9f7] rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-lg">
                              <BookOpen className="w-8 h-8 text-[#453142]" />
                            </div>
                          </div>
                        </div>
                      )}
                    </div>

                    {/* Book Info */}
                    <CardContent className="p-4">
                      <h3 className="font-semibold text-[#453142] line-clamp-2 mb-2">
                        {book.title}
                      </h3>
                      {book.description && (
                        <p className="text-sm text-[#453142]/70 line-clamp-2">{book.description}</p>
                      )}
                      {book.pages && (
                        <p className="text-xs text-[#453142]/50 mt-2">{book.pages} pages</p>
                      )}

                      <div className="flex gap-2 mt-4">
                        <Button
                          variant="default"
                          size="sm"
                          className="flex-1 bg-[#453142] text-white hover:bg-[#2d1c26]"
                          onClick={() => setSelectedEbook(book)}
                        >
                          <BookOpen className="w-4 h-4 mr-2" />
                          Read
                        </Button>
                        <Button
                          variant="outline"
                          size="sm"
                          className="flex-1 border-[#453142]/30 text-[#453142] hover:bg-[#453142]/5"
                          onClick={() => handleDownload(book.filename)}
                          type="button"
                        >
                          <Download className="w-4 h-4 mr-2" />
                          Download
                        </Button>
                      </div>
                    </CardContent>
                  </Card>
                </motion.div>
              ))}
            </div>

            {/* No Results */}
            {ebooks.length === 0 && (
              <div className="text-center py-12">
                <p className="text-[#453142]/70 text-lg">
                  No ebooks found. {searchTerm ? 'Try adjusting your search.' : ''}
                </p>
              </div>
            )}

            {/* Pagination */}
            {totalPages > 1 && (
              <div className="flex justify-center gap-2 mt-8">
                <Button
                  onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}
                  disabled={currentPage === 1}
                  variant="outline"
                  className="border-[#453142] text-[#453142]"
                >
                  Previous
                </Button>
                {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (
                  <Button
                    key={page}
                    onClick={() => setCurrentPage(page)}
                    className={
                      currentPage === page
                        ? 'bg-[#453142] text-[#faf9f7]'
                        : 'bg-white text-[#453142] border border-[#453142]/20'
                    }
                  >
                    {page}
                  </Button>
                ))}
                <Button
                  onClick={() => setCurrentPage((prev) => Math.min(prev + 1, totalPages))}
                  disabled={currentPage === totalPages}
                  variant="outline"
                  className="border-[#453142] text-[#453142]"
                >
                  Next
                </Button>
              </div>
            )}
          </>
        )}

        {/* Flipbook Modal - keep existing code */}
        <AnimatePresence>
          {selectedEbook && (
            <FlipbookModal ebook={selectedEbook} onClose={() => setSelectedEbook(null)} />
          )}
        </AnimatePresence>
      </div>
    </div>
  );
}

// Flipbook Modal Component
function FlipbookModal({
  ebook,
  onClose,
}: {
  ebook: EBook;
  onClose: () => void;
}) {
  // Download handler for modal, rewritten for consistent PDF path
  const handleDownload = () => {
    const cleanFilename = ebook.filename.split('/').pop();
    const fileUrl = `/pdfs/${cleanFilename}`;
    const link = document.createElement('a');
    link.href = fileUrl;
    link.download = cleanFilename || 'ebook.pdf';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  };

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      className="fixed inset-0 z-50 flex items-center justify-center bg-black/75 p-4"
      onClick={onClose}
    >
      <motion.div
        initial={{ scale: 0.9, y: 20 }}
        animate={{ scale: 1, y: 0 }}
        exit={{ scale: 0.9, y: 20 }}
        className="bg-white rounded-lg w-full max-w-7xl h-[90vh] overflow-hidden"
        onClick={(e) => e.stopPropagation()}
      >
        {/* Header */}
        <div className="flex justify-between items-center p-4 border-b border-[#453142]/20">
          <div className="flex items-center gap-4">
            {ebook.coverImage && (
              <img
                src={ebook.coverImage}
                alt={ebook.title}
                className="w-16 h-20 object-cover rounded shadow-md"
              />
            )}
            <div>
              <h2 className="text-xl font-bold text-[#453142]">{ebook.title}</h2>
              <p className="text-sm text-[#453142]/70 mt-1">
                {ebook.description}
              </p>
            </div>
          </div>
          {/* Only show the Download button with text, and Close button */}
          <div className="flex items-center gap-2">
            <Button
              variant="outline"
              size="sm"
              className="border-[#453142]/30 text-[#453142] hover:bg-[#453142]/5 flex items-center gap-2"
              onClick={handleDownload}
              type="button"
              aria-label="Download"
            >
              <Download className="h-5 w-5" />
              <span>Download</span>
            </Button>
            <button
              onClick={onClose}
              className="text-[#453142] hover:bg-[#453142]/10 rounded-full p-2 transition-colors"
              aria-label="Close"
            >
              <X className="h-6 w-6" />
            </button>
          </div>
        </div>
        {/* Flipbook Container */}
        <div className="h-[calc(100%-80px)] overflow-hidden">
          <PDFFlipbook filename={ebook.filename} />
        </div>
      </motion.div>
    </motion.div>
  );
}



============================================================
FILE: .\wqtc\app\library\videos\page.tsx
============================================================
'use client';

import { useState, useEffect } from 'react';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Play, Search, X } from 'lucide-react';
import Image from 'next/image';
import { motion, AnimatePresence } from 'framer-motion';
import type { Video, Surah } from '@/types/video';
import { api } from '@/lib/api'; // Import the new client

export default function VideosPage() {
  const [videos, setVideos] = useState<Video[]>([]);
  const [surahs, setSurahs] = useState<Surah[]>([]);
  const [selectedSurah, setSelectedSurah] = useState<number | null>(null);
  const [selectedVerse, setSelectedVerse] = useState<number | null>(null);
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedVideo, setSelectedVideo] = useState<Video | null>(null);
  const [loading, setLoading] = useState(false);

  // Pagination
  const [currentPage, setCurrentPage] = useState(1);
  const videosPerPage = 12;

  // Fetch Surahs on mount
  useEffect(() => {
    fetchSurahs();
    fetchVideos();
  }, []);

  const fetchSurahs = async () => {
    try {
      const data = await api.getSurahs(); // New API call
      setSurahs(data.result || []);
    } catch (error) {
      console.error('Error fetching surahs:', error);
    }
  };

  const fetchVideos = async (filters: any = {}) => {
    setLoading(true);
    try {
      // FastAPI expects specific payload keys matching your Python Schema
      const payload = {
        surah: filters.surah,
        versus: filters.versus,
        search: filters.search,
        sort: 'DESC'
      };
      
      const data = await api.getVideos(payload); // New API call
      setVideos(data.result || []);
      setCurrentPage(1); // Reset pagination
    } catch (error) {
      console.error('Error fetching videos:', error);
    } finally {
      setLoading(false);
    }
  };

  const handleSearch = () => {
    fetchVideos({
      surah: selectedSurah,
      versus: selectedVerse,
      search: searchTerm
    });
  };

  const handleReset = () => {
    setSelectedSurah(null);
    setSelectedVerse(null);
    setSearchTerm('');
    fetchVideos();
  };

  // Get verses for selected Surah
  const getVersesForSurah = () => {
    if (!selectedSurah) return [];
    const surah = surahs.find(s => s.id === selectedSurah);
    if (!surah) return [];
    return Array.from({ length: surah.verses }, (_, i) => i + 1);
  };

  const verses = getVersesForSurah();

  // Pagination logic
  const indexOfLastVideo = currentPage * videosPerPage;
  const indexOfFirstVideo = indexOfLastVideo - videosPerPage;
  const currentVideos = videos.slice(indexOfFirstVideo, indexOfLastVideo);
  const totalPages = Math.ceil(videos.length / videosPerPage);

  // Extract YouTube ID
  const getYouTubeId = (url: string) => {
    const match = url.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=))([^&?/]+)/);
    return match ? match[1] : '';
  };

  // Try extract YouTube channel ID from url if available in the Video type
  const getYouTubeChannelId = (video: Video) => {
    // If video.youTube_channel_id exists use it, else fallback to environment or leave empty
    // You may want to populate this on video objects from your backend for more reliability.
    // Example fallback:
    if ('youTube_channel_id' in video && video.youTube_channel_id) {
      return video.youTube_channel_id;
    }
    // fallback channel id (you may put your own channel id here)
    return process.env.NEXT_PUBLIC_YT_CHANNEL_ID || '';
  };

  return (
    <div className="min-h-screen bg-[#faf9f7] py-16">
      <div className="container mx-auto px-4">
        {/* Header */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="text-center mb-12"
        >
          <Badge className="mb-4 bg-[#453142] text-[#faf9f7]">Video Library</Badge>
          <h1 className="text-4xl md:text-5xl font-bold text-[#453142] mb-4">
            Quran Video Library
          </h1>
          <p className="text-[#453142]/80 text-lg">
            Browse our collection of Quran translation videos organized by Surah and Verse
          </p>
        </motion.div>

        {/* Filter Section */}
        <Card className="mb-8 border-0 shadow-lg bg-white">
          <CardContent className="p-6">
            <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
              {/* Search Input */}
              <div className="md:col-span-1">
                <label className="block text-sm font-medium mb-2 text-[#453142]">
                  Search
                </label>
                <div className="relative">
                  <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#453142]/50" />
                  <input
                    type="text"
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                    placeholder="Search videos..."
                    className="w-full pl-10 pr-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                  />
                </div>
              </div>

              {/* Surah Dropdown */}
              <div>
                <label className="block text-sm font-medium mb-2 text-[#453142]">
                  Select Surah
                </label>
                <select
                  value={selectedSurah || ''}
                  onChange={(e) => {
                    setSelectedSurah(e.target.value ? Number(e.target.value) : null);
                    setSelectedVerse(null);
                  }}
                  className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent"
                >
                  <option value="">All Surahs</option>
                  {surahs.map((surah) => (
                    <option key={surah.id} value={surah.id}>
                      {surah.id}. {surah.name}
                    </option>
                  ))}
                </select>
              </div>

              {/* Verse Dropdown */}
              <div>
                <label className="block text-sm font-medium mb-2 text-[#453142]">
                  Select Verse
                </label>
                <select
                  value={selectedVerse || ''}
                  onChange={(e) => setSelectedVerse(e.target.value ? Number(e.target.value) : null)}
                  disabled={!selectedSurah}
                  className="w-full px-4 py-2 border border-[#453142]/20 rounded-md focus:ring-2 focus:ring-[#453142] focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"
                >
                  <option value="">All Verses</option>
                  {verses.map((verse) => (
                    <option key={verse} value={verse}>
                      Verse {verse}
                    </option>
                  ))}
                </select>
              </div>

              {/* Action Buttons */}
              <div className="flex gap-2 items-end">
                <Button
                  onClick={handleSearch}
                  className="flex-1 bg-[#453142] hover:bg-[#5a3f54] text-[#faf9f7]"
                >
                  <Search className="h-4 w-4 mr-2" />
                  Search
                </Button>
                <Button
                  onClick={handleReset}
                  variant="outline"
                  className="border-[#453142] text-[#453142] hover:bg-[#453142]/10"
                >
                  Reset
                </Button>
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Loading State */}
        {loading && (
          <div className="text-center py-12">
            <div className="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#453142] border-r-transparent"></div>
            <p className="mt-4 text-[#453142]">Loading videos...</p>
          </div>
        )}

        {/* Video Grid */}
        {!loading && (
          <>
            <div
              className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6"
            >
              {currentVideos.map((video, index) => (
                <motion.div
                  key={video.id}
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  transition={{ delay: index * 0.05 }}
                  whileHover={{ y: -8 }}
                >
                  <Card
                    className="group cursor-pointer overflow-hidden border-0 shadow-md hover:shadow-xl transition-all duration-300 bg-white flex flex-col h-full min-h-[380px]"
                    // min-h to enforce card height as much as possible. 
                    // Adjust min-h-[380px] as needed, or use a responsive value.
                    onClick={() => setSelectedVideo(video)}
                  >
                    {/* Thumbnail */}
                    <div className="relative aspect-video bg-[#453142]/10">
                      <Image
                        src={`https://img.youtube.com/vi/${getYouTubeId(video.youTube_link)}/mqdefault.jpg`}
                        alt={video.title}
                        fill
                        className="object-cover"
                      />
                      <div className="absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors">
                        <div className="w-16 h-16 bg-[#453142] rounded-full flex items-center justify-center group-hover:scale-110 transition-transform">
                          <Play className="w-8 h-8 text-[#faf9f7] ml-1" fill="currentColor" />
                        </div>
                      </div>
                    </div>

                    {/* Video Info */}
                    <CardContent className="flex flex-col flex-1 justify-between p-4">
                      <div>
                        <h3 className="font-semibold text-[#453142] line-clamp-2 mb-2 min-h-[3em]">
                          {/* min-h-[3em] to enforce space for two lines always */}
                          {video.title}
                        </h3>
                        <p className="text-sm text-[#453142]/70 min-h-[1.6em]">
                          {video.surah_name || `Surah ${video.surah_no}`} - Verse {video.starting_ayah}
                          {video.ending_ayah && ` to ${video.ending_ayah}`}
                        </p>
                      </div>
                      <p className="text-xs text-[#453142]/50 mt-2">
                        {new Date(video.created_date).toLocaleDateString()}
                      </p>
                    </CardContent>
                  </Card>
                </motion.div>
              ))}
            </div>
            {/* No Results */}
            {currentVideos.length === 0 && (
              <div className="text-center py-12">
                <p className="text-[#453142]/70 text-lg">
                  No videos found. Try adjusting your filters.
                </p>
              </div>
            )}

            {/* Pagination */}
            {videos.length > videosPerPage && (
              <div className="flex justify-center gap-2 mt-8">
                <Button
                  onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}
                  disabled={currentPage === 1}
                  variant="outline"
                  className="border-[#453142] text-[#453142]"
                >
                  Previous
                </Button>

                {[...Array(totalPages)].map((_, i) => (
                  <Button
                    key={i}
                    onClick={() => setCurrentPage(i + 1)}
                    className={currentPage === i + 1 ? 'bg-[#453142] text-[#faf9f7]' : 'bg-white text-[#453142] border border-[#453142]/20'}
                  >
                    {i + 1}
                  </Button>
                ))}

                <Button
                  onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}
                  disabled={currentPage === totalPages}
                  variant="outline"
                  className="border-[#453142] text-[#453142]"
                >
                  Next
                </Button>
              </div>
            )}
          </>
        )}

        {/* Video Modal */}
        <AnimatePresence>
          {selectedVideo && (
            <motion.div
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              className="fixed inset-0 z-50 flex items-center justify-center bg-black/75 p-4"
              onClick={() => setSelectedVideo(null)}
            >
              <motion.div
                initial={{ scale: 0.9, y: 20 }}
                animate={{ scale: 1, y: 0 }}
                exit={{ scale: 0.9, y: 20 }}
                className="bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto"
                onClick={(e) => e.stopPropagation()}
              >
                {/* Header */}
                <div className="flex justify-between items-start p-4 border-b border-[#453142]/20">
                  <div>
                    <h2 className="text-xl font-bold text-[#453142]">{selectedVideo.title}</h2>
                    <p className="text-sm text-[#453142]/70 mt-1">
                      {selectedVideo.surah_name || `Surah ${selectedVideo.surah_no}`} -
                      Verse {selectedVideo.starting_ayah}
                      {selectedVideo.ending_ayah && ` to ${selectedVideo.ending_ayah}`}
                    </p>
                  </div>
                  <button
                    onClick={() => setSelectedVideo(null)}
                    className="text-[#453142] hover:bg-[#453142]/10 rounded-full p-2 transition-colors"
                  >
                    <X className="h-6 w-6" />
                  </button>
                </div>

                {/* YouTube Player */}
                <div className="aspect-video bg-black">
                  <iframe
                    width="100%"
                    height="100%"
                    src={`https://www.youtube.com/embed/${getYouTubeId(selectedVideo.youTube_link)}?autoplay=1&rel=0&modestbranding=1${getYouTubeChannelId(selectedVideo) ? `&origin=${typeof window !== 'undefined' ? window.location.origin : ''}&enablejsapi=1` : ''}${getYouTubeChannelId(selectedVideo) ? `&listType=user_uploads&list=${getYouTubeChannelId(selectedVideo)}` : ''}`}
                    title={selectedVideo.title}
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowFullScreen
                    className="w-full h-full"
                  ></iframe>
                  {/* 
                    Explanation:
                    - '&rel=0' ensures that, after the video ends, only related videos from the same channel will show (YouTube's official documented behavior).
                    - '&modestbranding=1' hides YouTube logo a bit.
                    - The additional listType stuff is added if you provide a channel id to even further restrict, but `rel=0` is the main part for your ask.
                  */}
                </div>

                {/* Video Details */}
                <div className="p-4 border-t border-[#453142]/20">
                  <div className="grid grid-cols-2 gap-4 text-sm">
                    <div>
                      <span className="font-semibold text-[#453142]">Uploaded:</span>{' '}
                      <span className="text-[#453142]/70">
                        {new Date(selectedVideo.created_date).toLocaleDateString()}
                      </span>
                    </div>
                    <div>
                      <span className="font-semibold text-[#453142]">By:</span>{' '}
                      <span className="text-[#453142]/70">{selectedVideo.created_by}</span>
                    </div>
                  </div>
                  {selectedVideo.time_start_ayah && (
                    <div className="mt-2 text-sm">
                      <span className="font-semibold text-[#453142]">Start Time:</span>{' '}
                      <span className="text-[#453142]/70">{selectedVideo.time_start_ayah}</span>
                    </div>
                  )}
                </div>
              </motion.div>
            </motion.div>
          )}
        </AnimatePresence>
      </div>
    </div>
  );
}



============================================================
FILE: .\wqtc\app\login\page.tsx
============================================================
'use client';
import { useRouter, useSearchParams } from 'next/navigation';
import { useState, Suspense } from 'react';
import { api } from '@/lib/api';

function LoginContent() {
  const router = useRouter();
  const params = useSearchParams();
  const from = params?.get('from') ?? '/admin/videos';
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [loading, setLoading] = useState(false);

  const submit = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    try {
      // Use the centralized API client
      await api.login({ email, password });
      // If no error thrown, login successful
      router.replace(from);
    } catch (err: any) {
      console.error(err);
      alert(err.message || 'Login failed');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center">
      <form onSubmit={submit} className="w-full max-w-md p-6 bg-white rounded shadow">
        <h2 className="text-xl font-bold mb-4">Admin Login</h2>

        <label className="block mb-2">Email</label>
        <input value={email} onChange={(e)=>setEmail(e.target.value)} className="w-full mb-3 p-2 border rounded" />

        <label className="block mb-2">Password</label>
        <input type="password" value={password} onChange={(e)=>setPassword(e.target.value)} className="w-full mb-4 p-2 border rounded" />

        <button disabled={loading} type="submit" className="w-full p-2 bg-[#453142] text-white rounded">
          {loading ? 'Signing in...' : 'Sign in'}
        </button>
      </form>
    </div>
  );
}

export default function LoginPage() {
  return (
    <Suspense fallback={
      <div className="min-h-screen flex items-center justify-center">
        <div>Loading...</div>
      </div>
    }>
      <LoginContent />
    </Suspense>
  );
}



============================================================
FILE: .\wqtc\app\online-courses\page.tsx
============================================================
'use client';

import React, { useState, useMemo, useEffect, Suspense } from 'react';
import { useSearchParams, useRouter } from 'next/navigation';
import { motion, AnimatePresence } from 'framer-motion';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import {
  Calendar,
  Clock,
  Users,
  Phone,
  CheckCircle2,
  Loader2,
  X
} from 'lucide-react';

// ADD: Use the shared API client
import { api } from '@/lib/api';

// -- Define class structures (same as before)
type ClassSchedule = {
  id: string;
  language: string;
  days: string[];
  timeFrom: string;
  timeTo: string;
  contactNumber: string;
  type: string;
  color: string; // deprecated, ignore in new UI
  timezone: string;
};

type ClassRegistration = {
  name?: string;
  email?: string;
  phone?: string;
  whatsapp?: string;
  country?: string;
  additionalNotes?: string;
  language?: string;
  classType?: string;
  timing?: string;
  days?: string;
  contactNumber?: string;
};

const palette = [
  "#453142", // Deep eggplant
  "#afa0ba", // Pastel for headers/cards bg, not gradient
  "#faf9f7", // Light warm bg
  "#73606b", // Muted text, border
  "#e5e0e8", // cards alt bg
  "#d5c8d8", // soft alt
  "#9b7c96", // accent
  "#7e5e77", // accent dark
];

// Color helpers
function getCardBgByType(type: string) {
  if (type === "Ladies") return "bg-[#e5e0e8]";
  if (type === "Gents") return "bg-[#faf9f7]";
  if (type === "Family") return "bg-[#d5c8d8]";
  return "bg-[#faf9f7]";
}
function getBadgeColor(type: string) {
  if (type === "Ladies") return "bg-[#453142] text-white";
  if (type === "Gents") return "bg-[#7e5e77] text-white";
  if (type === "Family") return "bg-[#afa0ba] text-[#453142]";
  return "bg-[#afa0ba] text-[#453142]";
}
function getCalendarCellColor(type: string) {
  if (type === "Ladies") return "bg-[#453142]/90 text-white";
  if (type === "Gents") return "bg-[#afa0ba] text-[#453142]";
  if (type === "Family") return "bg-[#73606b] text-white";
  return "bg-[#7e5e77] text-white";
}
function getBorderColor(type: string) {
  if (type === "Ladies") return "border-[#453142]";
  if (type === "Gents") return "border-[#afa0ba]";
  if (type === "Family") return "border-[#73606b]";
  return "border-[#ada2b4]";
}

// Classes -- (use as-is)
const classes: ClassSchedule[] = [
  // -- LADIES ONGOING CLASSES (Mon-Thu, or special days)
  {
    id: 'ladies-tamil-1',
    language: 'Tamil',
    days: ['Mon', 'Tue', 'Wed', 'Thu'],
    timeFrom: '06:00',
    timeTo: '07:00',
    contactNumber: '+91 99412 76649',
    type: 'Ladies',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'ladies-tamil-2',
    language: 'Tamil',
    days: ['Mon', 'Tue', 'Wed', 'Thu'],
    timeFrom: '11:30',
    timeTo: '12:30',
    contactNumber: '+91 99412 76649',
    type: 'Ladies',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'ladies-tamil-3',
    language: 'Tamil',
    days: ['Mon', 'Tue', 'Wed', 'Thu'],
    timeFrom: '15:00',
    timeTo: '16:00',
    contactNumber: '+91 99412 76649',
    type: 'Ladies',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'ladies-tamil-4',
    language: 'Tamil',
    days: ['Mon', 'Tue', 'Wed', 'Thu'],
    timeFrom: '19:00',
    timeTo: '20:00',
    contactNumber: '+91 99412 76649',
    type: 'Ladies',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'ladies-eng-urdu-1',
    language: 'English & Urdu',
    days: ['Mon', 'Tue', 'Wed', 'Thu'],
    timeFrom: '06:00',
    timeTo: '07:00',
    contactNumber: '+91 98842 22484',
    type: 'Ladies',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'ladies-eng-urdu-2',
    language: 'English & Urdu',
    days: ['Mon', 'Tue', 'Wed', 'Thu'],
    timeFrom: '11:30',
    timeTo: '12:20',
    contactNumber: '+91 98842 22484',
    type: 'Ladies',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'ladies-eng-us',
    language: 'English (US)',
    days: ['Tue', 'Wed', 'Thu', 'Fri'],
    timeFrom: '07:45',
    timeTo: '08:30',
    contactNumber: '+91 98401 32100',
    type: 'Ladies',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'ladies-eng-aus',
    language: 'English (Australia)',
    days: ['Sat', 'Sun'],
    timeFrom: '06:30',
    timeTo: '07:30',
    contactNumber: '+91 94444 33969',
    type: 'Ladies',
    color: '',
    timezone: 'IST',
  },
  // -- LADIES UPCOMING CLASSES (Mon-Thu)
  {
    id: 'ladies-upcoming-urdu-eng',
    language: 'Urdu and English',
    days: ['Mon', 'Tue', 'Wed', 'Thu'],
    timeFrom: '15:00',
    timeTo: '15:50',
    contactNumber: '+91 98414 09389',
    type: 'Ladies',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'ladies-upcoming-eng',
    language: 'English',
    days: ['Mon', 'Tue', 'Wed', 'Thu'],
    timeFrom: '19:00',
    timeTo: '19:50',
    contactNumber: '+91 98400 59455',
    type: 'Ladies',
    color: '',
    timezone: 'IST',
  },
  // -- FAMILY CLASSES
  {
    id: 'family-01',
    language: 'English & Urdu',
    days: ['Mon', 'Tue', 'Wed', 'Thu'],
    timeFrom: '21:15',
    timeTo: '22:00',
    contactNumber: '+91 94449 18125',
    type: 'Family',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'family-02',
    language: 'English & Urdu (USA)',
    days: ['Mon', 'Tue', 'Wed', 'Thu'],
    timeFrom: '08:15',
    timeTo: '09:00',
    contactNumber: '+1 847 749 6940',
    type: 'Family',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'family-03',
    language: 'English & Urdu (AUS)',
    days: ['Mon', 'Tue', 'Wed'],
    timeFrom: '15:15',
    timeTo: '16:15',
    contactNumber: '+61 406 842 137',
    type: 'Family',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'family-04',
    language: 'English & Urdu (UK)',
    days: ['Thu'],
    timeFrom: '23:15',
    timeTo: '00:05',
    contactNumber: '+44 777 669 6288',
    type: 'Family',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'family-05',
    language: 'English & Urdu',
    days: ['Sat', 'Sun'],
    timeFrom: '16:00',
    timeTo: '17:00',
    contactNumber: '+91 94449 18125',
    type: 'Family',
    color: '',
    timezone: 'IST',
  },
  // -- GENTS CLASSES
  {
    id: 'gents-05',
    language: 'English & Urdu',
    days: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
    timeFrom: '06:40',
    timeTo: '07:30',
    contactNumber: '+91 97910 13510',
    type: 'Gents',
    color: '',
    timezone: 'IST',
  },
  // "Class 6" is three classes/contacts at same time, so separate entries
  {
    id: 'gents-06-1',
    language: 'English & Urdu',
    days: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
    timeFrom: '06:30',
    timeTo: '07:15',
    contactNumber: '+91 98843 04539',
    type: 'Gents',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'gents-06-2',
    language: 'English & Urdu',
    days: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
    timeFrom: '06:30',
    timeTo: '07:15',
    contactNumber: '+91 98400 61112',
    type: 'Gents',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'gents-06-3',
    language: 'English & Urdu',
    days: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
    timeFrom: '06:30',
    timeTo: '07:15',
    contactNumber: '+91 98410 63322',
    type: 'Gents',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'gents-07',
    language: 'English & Tamil',
    days: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
    timeFrom: '06:40',
    timeTo: '07:30',
    contactNumber: '+91 98403 58907',
    type: 'Gents',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'gents-08',
    language: 'Only Tamil',
    days: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
    timeFrom: '21:00',
    timeTo: '21:45',
    contactNumber: 'New class will start inshaAllah immediately after Ramzan 2024',
    type: 'Gents',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'gents-09',
    language: 'Only Tamil',
    days: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
    timeFrom: '06:30',
    timeTo: '07:30',
    contactNumber: '+91 86101 66228',
    type: 'Gents',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'gents-10',
    language: 'Only Tamil',
    days: ['Sat', 'Sun'],
    timeFrom: '08:00',
    timeTo: '09:00',
    contactNumber: '',
    type: 'Gents',
    color: '',
    timezone: 'IST',
  },
  {
    id: 'gents-11',
    language: 'Only Urdu',
    days: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
    timeFrom: '06:30',
    timeTo: '07:30',
    contactNumber: '+91 98410 85443',
    type: 'Gents',
    color: '',
    timezone: 'IST',
  }
];

// Show legend about Fajr note for Gents
const fajrTimeNote = (
  <div className="text-sm text-[#453142]/70 text-center mb-3 pt-1">
    <span className="italic">
      * Class timing may vary up to 30 minutes depending upon the change of Fajr Prayer time in Chennai.
    </span>
  </div>
);

// Calendar labels
const dayLabels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];

/**
 * WeeklyCalendar (UPDATED)
 * - aggregates classes by day+time
 * - renders multiple class entries inside a cell
 */
function WeeklyCalendar({ classes, onClassClick }: { classes: ClassSchedule[], onClassClick: (c: ClassSchedule) => void }) {
  // unique start times sorted
  const uniqueTimes = useMemo(() => {
    const times = Array.from(new Set(classes.map(c => c.timeFrom)));
    times.sort((a, b) => {
      const [ah, am] = a.split(':').map(Number);
      const [bh, bm] = b.split(':').map(Number);
      return ah !== bh ? ah - bh : am - bm;
    });
    return times;
  }, [classes]);

  // scheduleMap: Map<"Day-Time", ClassSchedule[]>
  const scheduleMap = useMemo(() => {
    const map: Map<string, ClassSchedule[]> = new Map();
    classes.forEach(c => {
      c.days.forEach(d => {
        const key = `${d}-${c.timeFrom}`;
        if (!map.has(key)) map.set(key, []);
        map.get(key)!.push(c);
      });
    });
    return map;
  }, [classes]);

  return (
    <div className="overflow-x-auto my-8">
      <div className="grid grid-cols-8 gap-0 rounded-2xl border border-[#453142]/30 bg-[#faf9f7]">
        {/* Empty top-left corner */}
        <div className="bg-[#faf9f7]" />
        {/* Day headers */}
        {dayLabels.map(day => (
          <div key={day} className="font-bold text-[#453142] text-center border-b border-[#453142]/20 py-2 uppercase tracking-wide">
            {day}
          </div>
        ))}
        {/* Rows for each time */}
        {uniqueTimes.map(time => (
          <React.Fragment key={time}>
            {/* Time column */}
            <div className="font-mono text-[#453142]/80 text-right border-r border-[#453142]/10 py-2 px-2 bg-[#faf9f7]">
              {time}
            </div>
            {/* Day cells for this time */}
            {dayLabels.map(day => {
              const key = `${day}-${time}`;
              const list = scheduleMap.get(key) || [];
              if (list.length === 0) {
                return (
                  <div
                    key={key}
                    className="border border-[#453142]/10 min-h-[58px] cursor-default flex items-center justify-center transition-all duration-200 text-sm px-1 bg-[#faf9f7] text-[#453142]/20"
                    title="No class"
                    aria-disabled="true"
                  >
                    {/* empty */}
                  </div>
                );
              }
              // If multiple classes exist, render stacked small buttons
              return (
                <div
                  key={key}
                  className="border border-[#453142]/10 min-h-[58px] px-2 py-2 flex flex-col gap-1 items-stretch"
                  title={list.map(i => `${i.language} (${i.type})`).join('  ')}
                >
                  {list.map(item => (
                    <button
                      key={item.id}
                      onClick={() => onClassClick(item)}
                      onKeyDown={(e) => {
                        if (e.key === 'Enter' || e.key === ' ') onClassClick(item);
                      }}
                      className={`w-full text-left rounded-lg px-2 py-1 text-xs font-semibold transition transform hover:scale-[1.01] focus:outline-none focus:ring-2 focus:ring-offset-1 ${getCalendarCellColor(item.type)} ${list.length > 1 ? 'shadow-sm' : 'shadow-md'}`}
                      aria-label={`Register ${item.language} ${item.type} at ${time} on ${day}`}
                    >
                      <div className="flex justify-between items-center gap-2">
                        <span className="truncate">{item.language}</span>
                        <span className="text-[10px] opacity-90">{item.type}</span>
                      </div>
                    </button>
                  ))}
                </div>
              );
            })}
          </React.Fragment>
        ))}
      </div>
      <p className="text-xs mt-4 text-[#453142]/50 text-center">Click a block to register for a class.</p>
    </div>
  );
}

// Filter helpers for UI and logic
type CourseFilter = 'all' | 'men' | 'women' | 'weekend';

function getCourseCategory(c: ClassSchedule): CourseFilter {
  // MEN: type Gents
  if (c.type === 'Gents') return 'men';
  // WOMEN: type Ladies
  if (c.type === 'Ladies') return 'women';
  // WEEKEND: has only Sat/Sun, OR has at least one Sat/Sun in c.days
  // We'll call a class 'weekend' filter if it has any day Sat or Sun
  if (c.days.some(d => d === 'Sat' || d === 'Sun')) return 'weekend';
  // FAMILY/other: include in 'all'
  return 'all';
}

function classMatchesFilter(c: ClassSchedule, filter: CourseFilter): boolean {
  if (filter === 'all') return true;
  if (filter === 'men') return getCourseCategory(c) === 'men';
  if (filter === 'women') return getCourseCategory(c) === 'women';
  if (filter === 'weekend') return getCourseCategory(c) === 'weekend';
  return true;
}

const FILTER_OPTIONS: { filter: CourseFilter; label: string }[] = [
  { filter: 'all', label: 'All Courses' },
  { filter: 'men', label: "Men's Courses" },
  { filter: 'women', label: "Women's Courses" },
  { filter: 'weekend', label: 'Weekend Courses' }
];

function OnlineCoursesContent() {
  const [selectedClass, setSelectedClass] = useState<ClassSchedule | null>(null);
  const [formData, setFormData] = useState<Partial<ClassRegistration>>({
    country: 'India',
  });
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [isSuccess, setIsSuccess] = useState(false);

  // Filtering by category using URL search param '?filter='
  const searchParams = useSearchParams();
  const router = useRouter();
  const urlFilterParam = searchParams?.get('filter');

  const [filter, setFilter] = useState<CourseFilter>('all');

  useEffect(() => {
    if (
      urlFilterParam === 'men' ||
      urlFilterParam === 'women' ||
      urlFilterParam === 'weekend'
    ) {
      setFilter(urlFilterParam);
    } else {
      setFilter('all');
    }
  }, [urlFilterParam]);

  // When filter is changed via UI, update URL so nav remains correct.
  const handleFilterChange = (val: CourseFilter) => {
    // Updates URL while keeping client state in sync (won't reload).
    const url = val === 'all' ? '/online-courses' : `/online-courses?filter=${val}`;
    router.push(url);
    // setFilter(val); // syncing will be handled by url param effect above
  };

  // Show only filtered classes for both grid & calendar
  const filteredClasses = useMemo(
    () => classes.filter(c => classMatchesFilter(c, filter)),
    [filter]
  );

  const handleClassSelect = (classItem: ClassSchedule) => {
    setSelectedClass(classItem);
    setFormData({
      ...formData,
      language: classItem.language,
      classType: classItem.type,
      timing: `${classItem.timeFrom} to ${classItem.timeTo}`,
      days: classItem.days.join(', '),
      contactNumber: classItem.contactNumber,
    });
  };

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    setFormData({ ...formData, [name]: value });
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);
    try {
      // Construct payload that matches expected schema to avoid backend errors
      const payload = {
        name: formData.name,
        email: formData.email,
        phone: formData.phone,
        whatsapp: formData.whatsapp || formData.phone, // fallback to phone if not provided, matches API schema
        country: formData.country,
        language: selectedClass?.language || "English",
        classType: selectedClass?.type || "General",
        timing: selectedClass ? `${selectedClass.timeFrom} - ${selectedClass.timeTo}` : "Flexible",
        days: selectedClass?.days.join(',') || "Flexible",
        contactNumber: selectedClass?.contactNumber || formData.phone,
        additionalNotes: formData.additionalNotes,
      };

      await api.createRegistration(payload);

      setIsSuccess(true);
      setTimeout(() => {
        setSelectedClass(null);
        setFormData({ country: 'India' });
        setIsSuccess(false);
      }, 3000);
    } catch (error: any) {
      console.error('Registration error:', error);
      alert(error.message || 'Registration failed. Please try again.');
    } finally {
      setIsSubmitting(false);
    }
  };

  return (
    <div className="min-h-screen bg-[#faf9f7] pb-10">
      <div className="container mx-auto px-4">
        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }}>
          <h1 className="text-4xl font-bold text-[#453142] text-center mt-10 mb-2 tracking-tight">Quran Translation Class Timetable</h1>
          <p className="text-lg text-[#453142]/70 text-center mb-3">All batches  All genders  All locations</p>

          {/* FILTER NAV BUTTONS */}
          <div className="flex justify-center gap-2 mb-5 mt-2">
            {FILTER_OPTIONS.map(opt => (
              <button
                key={opt.filter}
                className={`
                  px-4 py-2 rounded-full font-semibold border-2 
                  ${filter === opt.filter
                    ? 'bg-[#453142] text-white border-[#453142]'
                    : 'bg-white text-[#453142] border-[#b187fc]/30 hover:bg-[#e5e0e8]'}
                  transition focus:outline-none focus:ring-2 focus:ring-[#b187fc] shadow
                `}
                onClick={() => handleFilterChange(opt.filter)}
                aria-current={filter === opt.filter}
                type="button"
              >
                {opt.label}
              </button>
            ))}
          </div>

          {fajrTimeNote}

          {/* Calendar (show only classes matching filter) */}
          <WeeklyCalendar classes={filteredClasses} onClassClick={handleClassSelect} />

          {/* Card list summary (show only filtered classes) */}
          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-7 mt-10">
            {filteredClasses.map((classItem) => (
              <Card
                key={classItem.id}
                className={`
                  h-full border-0 shadow-[0_4px_24px_#45314215] hover:shadow-[0_6px_36px_#45314233] 
                  transition-all duration-300 cursor-pointer overflow-hidden group 
                  ${getCardBgByType(classItem.type)}
                  rounded-2xl
                `}
                onClick={() => handleClassSelect(classItem)}
              >
                <div className={`h-2 w-full ${getCardBgByType(classItem.type)}`} />
                <CardContent className="p-6 space-y-4">
                  <Badge className={"rounded-full px-3 py-1 text-xs font-bold shadow-sm " + getBadgeColor(classItem.type)}>
                    {classItem.language} - {classItem.type}
                  </Badge>
                  <div className="space-y-2 text-sm">
                    <div className="flex items-center gap-2 text-[#453142]/80 font-mono">
                      <Clock className="h-4 w-4"/>{classItem.timeFrom} - {classItem.timeTo} {classItem.timezone}
                    </div>
                    <div className="flex items-center gap-2 text-[#453142]/70">
                      <Users className="h-4 w-4"/>{classItem.days.join(' ')}
                    </div>
                    <div className="flex items-center gap-2 text-[#453142]/70">
                      <Phone className="h-4 w-4"/>{classItem.contactNumber}
                    </div>
                  </div>
                  <Button
                    className={`
                      w-full font-semibold border-2 mt-2
                      ${getBorderColor(classItem.type)}
                      bg-white text-[#453142] hover:bg-[#afa0ba] hover:text-white hover:border-[#453142] transition
                    `}
                  >
                    Register Now
                  </Button>
                </CardContent>
              </Card>
            ))}
          </div>
          {filteredClasses.length === 0 && (
            <div className="text-center py-16 text-xl text-[#453142]/60 font-medium">
              No courses available for this category.
            </div>
          )}
        </motion.div>
      </div>

      {/* Registration Modal */}
      <AnimatePresence>
        {selectedClass && (
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            className="fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4"
            onClick={() => !isSubmitting && setSelectedClass(null)}
          >
            <motion.div
              initial={{ scale: 0.97, y: 16 }}
              animate={{ scale: 1, y: 0 }}
              exit={{ scale: 0.92, y: 28 }}
              className="bg-[#faf9f7] border-[#453142]/10 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl"
              onClick={e => e.stopPropagation()}
            >
              <div className="sticky top-0 bg-[#faf9f7] border-b border-[#453142]/20 p-6 flex justify-between items-start z-10 rounded-t-xl">
                <div>
                  <h2 className="text-2xl font-bold text-[#453142]">Register for Class</h2>
                  <p className="text-[#453142]/70 mt-1 text-sm">
                    {selectedClass.language} - {selectedClass.days.join(', ')} ({selectedClass.timeFrom}{selectedClass.timeTo})
                  </p>
                </div>
                <button
                  onClick={() => !isSubmitting && setSelectedClass(null)}
                  disabled={isSubmitting}
                  className="text-[#453142] hover:bg-[#453142]/10 rounded-full p-2 transition-colors"
                  aria-label="Close registration modal"
                >
                  <X className="h-6 w-6"/>
                </button>
              </div>
              <div className="p-6">
                {isSuccess ? (
                  <motion.div initial={{ opacity: 0, scale: 0.8 }} animate={{ opacity: 1, scale: 1 }} className="text-center py-12">
                    <CheckCircle2 className="w-16 h-16 text-green-600 mx-auto mb-4"/>
                    <h3 className="text-2xl font-bold text-green-600 mb-2">Registration Successful!</h3>
                    <p className="text-[#453142]/70 mb-4">
                      You will be contacted on WhatsApp at <strong>{selectedClass.contactNumber}</strong>
                    </p>
                    <Badge className="bg-[#453142] text-[#faf9f7]">Check your WhatsApp for confirmation</Badge>
                  </motion.div>
                ) : (
                  <form onSubmit={handleSubmit} className="space-y-5">
                    <Card className={`border-0 ${getCardBgByType(selectedClass.type)} text-[#453142] mb-1`}>
                      <CardContent className="p-4 space-y-2 text-sm">
                        <div className="flex items-center gap-2 font-mono"><Calendar className="h-4 w-4"/><span><strong>Days:</strong> {selectedClass.days.join(', ')}</span></div>
                        <div className="flex items-center gap-2 font-mono"><Clock className="h-4 w-4"/><span><strong>Time:</strong> {selectedClass.timeFrom}{selectedClass.timeTo} {selectedClass.timezone}</span></div>
                        <div className="flex items-center gap-2 font-mono"><Phone className="h-4 w-4"/><span><strong>Contact:</strong> {selectedClass.contactNumber}</span></div>
                      </CardContent>
                    </Card>
                    <div>
                      <label className="block text-[#453142] font-medium mb-2">Full Name *</label>
                      <input type="text" name="name" value={formData.name || ''} onChange={handleChange} required className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#453142] focus:border-transparent bg-[#faf9f7]" placeholder="Enter your full name"/>
                    </div>
                    <div>
                      <label className="block text-[#453142] font-medium mb-2">Email Address *</label>
                      <input type="email" name="email" value={formData.email || ''} onChange={handleChange} required className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#453142] focus:border-transparent bg-[#faf9f7]" placeholder="your.email@example.com"/>
                    </div>
                    <div className="grid md:grid-cols-2 gap-4">
                      <div>
                        <label className="block text-[#453142] font-medium mb-2">Phone Number *</label>
                        <input type="tel" name="phone" value={formData.phone || ''} onChange={handleChange} required className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#453142] focus:border-transparent bg-[#faf9f7]" placeholder="+91 98765 43210"/>
                      </div>
                      <div>
                        <label className="block text-[#453142] font-medium mb-2">WhatsApp Number</label>
                        <input type="tel" name="whatsapp" value={formData.whatsapp || ''} onChange={handleChange} className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#453142] focus:border-transparent bg-[#faf9f7]" placeholder="Same as phone"/>
                      </div>
                    </div>
                    <div>
                      <label className="block text-[#453142] font-medium mb-2">Country *</label>
                      <select name="country" value={formData.country || 'India'} onChange={handleChange} required className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#453142] focus:border-transparent bg-[#faf9f7]">
                        <option value="India">India</option>
                        <option value="USA">United States</option>
                        <option value="UK">United Kingdom</option>
                        <option value="UAE">United Arab Emirates</option>
                        <option value="Saudi Arabia">Saudi Arabia</option>
                        <option value="Australia">Australia</option>
                        <option value="Canada">Canada</option>
                        <option value="Other">Other</option>
                      </select>
                    </div>
                    <div>
                      <label className="block text-[#453142] font-medium mb-2">Additional Notes (Optional)</label>
                      <textarea name="additionalNotes" value={formData.additionalNotes || ''} onChange={handleChange} rows={3} className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#453142] focus:border-transparent resize-none bg-[#faf9f7]" placeholder="Any questions or special requirements?"/>
                    </div>
                    <div className="flex gap-4 pt-4">
                      <Button type="submit" disabled={isSubmitting} className="flex-1 bg-[#453142] text-white py-6 text-lg rounded-lg shadow border border-[#453142]/10 hover:bg-[#7e5e77] hover:text-white transition">
                        {isSubmitting ? (<><Loader2 className="mr-2 h-5 w-5 animate-spin"/>Submitting...</>) : (<><CheckCircle2 className="mr-2 h-5 w-5"/>Complete Registration</>)}
                      </Button>
                      <Button type="button" variant="outline" onClick={() => setSelectedClass(null)} disabled={isSubmitting} className="border-[#453142] text-[#453142] bg-white hover:bg-[#afa0ba] hover:text-white transition rounded-lg">Cancel</Button>
                    </div>
                  </form>
                )}
              </div>
            </motion.div>
          </motion.div>
        )}
      </AnimatePresence>
    </div>
  );
}

export default function OnlineCoursesPage() {
  return (
    <Suspense fallback={
      <div className="min-h-screen bg-[#faf9f7] flex items-center justify-center">
        <div className="text-[#453142]">Loading...</div>
      </div>
    }>
      <OnlineCoursesContent />
    </Suspense>
  );
}



============================================================
FILE: .\wqtc\components\theme-provider.tsx
============================================================
"use client";

import * as React from "react";
import { ThemeProvider as NextThemesProvider } from "next-themes";

export function ThemeProvider({
  children,
  ...props
}: React.ComponentProps<typeof NextThemesProvider>) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;
}



============================================================
FILE: .\wqtc\components\context\SlideOverContext.tsx
============================================================
// components/context/SlideOverContext.tsx
"use client";

import React, { createContext, useContext, useState } from "react";

type SlideOverContextType = {
  open: boolean;
  content: React.ReactNode | null;
  openSlideOver: (content: React.ReactNode) => void;
  closeSlideOver: () => void;
};

const SlideOverContext = createContext<SlideOverContextType | undefined>(undefined);

export function SlideOverProvider({ children }: { children: React.ReactNode }) {
  const [open, setOpen] = useState(false);
  const [content, setContent] = useState<React.ReactNode | null>(null);

  function openSlideOver(c: React.ReactNode) {
    setContent(c);
    setOpen(true);
  }
  function closeSlideOver() {
    setOpen(false);
    // keep content for small delay if you want animation, or clear immediately:
    setTimeout(() => setContent(null), 300);
  }

  return (
    <SlideOverContext.Provider value={{ open, content, openSlideOver, closeSlideOver }}>
      {children}
    </SlideOverContext.Provider>
  );
}

export function useSlideOver() {
  const ctx = useContext(SlideOverContext);
  if (!ctx) throw new Error("useSlideOver must be used inside SlideOverProvider");
  return ctx;
}



============================================================
FILE: .\wqtc\components\flipbook\PDFFlipbook.tsx
============================================================
'use client';

import { useEffect, useRef, useState, forwardRef } from 'react';
import HTMLFlipBook from 'react-pageflip';
import { ChevronLeft, ChevronRight, ZoomIn, ZoomOut } from 'lucide-react';
import { Button } from '@/components/ui/button';

interface PDFFlipbookProps {
  filename: string;
}

interface PageProps {
  pageNumber: number;
  canvas: HTMLCanvasElement;
}

const Page = forwardRef<HTMLDivElement, PageProps>(({ pageNumber, canvas }, ref) => {
  const canvasRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (canvasRef.current && canvas) {
      canvasRef.current.innerHTML = '';
      canvasRef.current.appendChild(canvas);
    }
  }, [canvas]);

  return (
    <div ref={ref} className="page bg-white shadow-lg">
      <div className="page-content h-full flex flex-col">
        <div ref={canvasRef} className="w-full h-full flex items-center justify-center" />
        <div className="page-footer text-center text-sm text-[#453142]/50 py-2">
          Page {pageNumber}
        </div>
      </div>
    </div>
  );
});

Page.displayName = 'Page';

export default function PDFFlipbook({ filename }: PDFFlipbookProps) {
  const flipbookRef = useRef<any>(null);
  const [pages, setPages] = useState<HTMLCanvasElement[]>([]);
  const [currentPage, setCurrentPage] = useState(0);
  const [totalPages, setTotalPages] = useState(0);
  const [loading, setLoading] = useState(true);
  const [scale, setScale] = useState(5); // doubled from 2.5 to 5
  const [pdfjs, setPdfjs] = useState<any>(null);
  const [viewportWidth, setViewportWidth] = useState<number>(0);

  // Responsive detection for viewport width
  useEffect(() => {
    const updateWidth = () => setViewportWidth(window.innerWidth);
    updateWidth();
    window.addEventListener('resize', updateWidth);
    return () => window.removeEventListener('resize', updateWidth);
  }, []);

  const isMobile = viewportWidth < 768;

  // Dynamically import pdfjs-dist on client
  useEffect(() => {
    const loadPDFJS = async () => {
      try {
        const pdfjsLib = await import('pdfjs-dist');
        pdfjsLib.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.mjs';
        setPdfjs(pdfjsLib);
      } catch (error) {
        console.error('Error loading PDF.js:', error);
      }
    };
    loadPDFJS();
  }, []);

  useEffect(() => {
    if (pdfjs) {
      loadPDF();
    }
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [filename, pdfjs, scale]);

  const loadPDF = async () => {
    if (!pdfjs) return;
    try {
      setLoading(true);
      const pdfUrl = `/pdfs/${filename}`;
      const loadingTask = pdfjs.getDocument(pdfUrl);
      const pdf = await loadingTask.promise;
      setTotalPages(pdf.numPages);

      const pagePromises: Promise<HTMLCanvasElement>[] = [];
      for (let i = 1; i <= pdf.numPages; i++) {
        pagePromises.push(renderPage(pdf, i, scale));
      }
      const renderedPages = await Promise.all(pagePromises);
      setPages(renderedPages);
      setLoading(false);
    } catch (error) {
      console.error('Error loading PDF:', error);
      setLoading(false);
    }
  };

  const renderPage = async (
    pdf: any,
    pageNumber: number,
    scale: number
  ): Promise<HTMLCanvasElement> => {
    const page = await pdf.getPage(pageNumber);
    const viewport = page.getViewport({ scale });
    const canvas = document.createElement('canvas');
    const context = canvas.getContext('2d');
    if (!context) {
      throw new Error('Could not get canvas context');
    }
    canvas.height = viewport.height;
    canvas.width = viewport.width;
    const renderContext = {
      canvasContext: context,
      viewport: viewport,
    };
    await page.render(renderContext).promise;
    return canvas;
  };

  const nextPage = () => {
    if (flipbookRef.current) {
      flipbookRef.current.pageFlip().flipNext();
    }
  };

  const prevPage = () => {
    if (flipbookRef.current) {
      flipbookRef.current.pageFlip().flipPrev();
    }
  };

  const onFlip = (e: any) => {
    setCurrentPage(e.data);
  };

  const zoomIn = () => {
    setScale((prev) => Math.min(prev + 0.5, 8)); // increased max from 5 to 8
  };

  const zoomOut = () => {
    setScale((prev) => Math.max(prev - 0.5, 3)); // increased min from 1 to 3
  };

  if (!pdfjs || loading) {
    return (
      <div className="w-full h-full flex items-center justify-center">
        <div className="text-center">
          <div className="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#453142] border-r-transparent mb-4"></div>
          <p className="text-[#453142]">
            {!pdfjs ? 'Loading PDF viewer...' : 'Loading PDF...'}
          </p>
        </div>
      </div>
    );
  }

  // Responsive dimensions
  const bookWidth = isMobile ? Math.min(450, viewportWidth * 0.95) : 1100; // doubled 550 -> 1100
  const bookHeight = isMobile ? Math.min(700, window.innerHeight * 0.75) : 1466; // doubled 733 -> 1466

  return (
    <div className="relative w-full h-full flex flex-col items-center justify-center bg-[#453142]/5 py-8">
      {/* Controls */}
      <div className="absolute top-4 left-1/2 -translate-x-1/2 z-10 flex items-center gap-2 md:gap-4 bg-white/95 rounded-full px-3 md:px-4 py-2 shadow-lg">
        <Button
          onClick={prevPage}
          disabled={currentPage === 0}
          variant="ghost"
          size="sm"
          className="rounded-full h-8 w-8 p-0"
        >
          <ChevronLeft className="h-4 w-4 md:h-5 md:w-5" />
        </Button>

        <span className="text-xs md:text-sm font-medium text-[#453142] min-w-[60px] md:min-w-[80px] text-center">
          {currentPage + 1} / {totalPages}
        </span>

        <Button
          onClick={nextPage}
          disabled={currentPage >= totalPages - 1}
          variant="ghost"
          size="sm"
          className="rounded-full h-8 w-8 p-0"
        >
          <ChevronRight className="h-4 w-4 md:h-5 md:w-5" />
        </Button>

        <div className="h-6 w-px bg-[#453142]/20" />

        <Button
          onClick={zoomOut}
          variant="ghost"
          size="sm"
          className="rounded-full h-8 w-8 p-0"
        >
          <ZoomOut className="h-4 w-4 md:h-5 md:w-5" />
        </Button>

        <Button
          onClick={zoomIn}
          variant="ghost"
          size="sm"
          className="rounded-full h-8 w-8 p-0"
        >
          <ZoomIn className="h-4 w-4 md:h-5 md:w-5" />
        </Button>
      </div>

      {/* Flipbook */}
      <div className="flipbook-container overflow-auto">
        <HTMLFlipBook
          ref={flipbookRef}
          width={bookWidth}
          height={bookHeight}
          size="stretch"
          minWidth={600}        // doubled from 300
          maxWidth={2400}       // doubled from 1200
          minHeight={800}       // doubled from 400
          maxHeight={3200}      // doubled from 1600
          maxShadowOpacity={0.5}
          showCover={true}
          mobileScrollSupport={true}
          onFlip={onFlip}
          className="shadow-2xl"
          style={{}}
          startPage={0}
          drawShadow={true}
          flippingTime={800}
          usePortrait={isMobile}
          startZIndex={0}
          autoSize={true}
          clickEventForward={true}
          useMouseEvents={true}
          swipeDistance={30}
          showPageCorners={true}
          disableFlipByClick={false}
        >
          {/* Each page is a direct child - NOT grouped into spreads */}
          {pages.map((canvas, index) => (
            <Page key={index} pageNumber={index + 1} canvas={canvas} />
          ))}
        </HTMLFlipBook>
      </div>
    </div>
  );
}



============================================================
FILE: .\wqtc\components\layout\AnnouncementBar.tsx
============================================================
"use client";

import Link from "next/link";
import { X } from "lucide-react";
import { useState } from "react";

export default function AnnouncementBar() {
  const [isVisible, setIsVisible] = useState(true);

  if (!isVisible) return null;

  return (
    <div className="bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-2.5 px-4 relative animate-gradient">
      <div className="container mx-auto flex items-center justify-center gap-2 text-sm md:text-base">
        <span className="font-medium">Latest Videos are uploaded, Please click here!</span>
        <Link 
          href="#videos" 
          className="underline underline-offset-4 hover:text-emerald-100 transition-colors font-semibold"
        >
          View Now
        </Link>
        <button
          onClick={() => setIsVisible(false)}
          className="absolute right-4 hover:bg-white/20 rounded-full p-1 transition-colors"
          aria-label="Close announcement"
        >
          <X className="h-4 w-4" />
        </button>
      </div>
    </div>
  );
}



============================================================
FILE: .\wqtc\components\layout\Footer.tsx
============================================================
"use client";

import Link from "next/link";
import { Facebook, Instagram, Youtube, Mail, Phone, MapPin } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Separator } from "@/components/ui/separator";

const footerLinks = {
  translations: [
    { label: "English Translations", href: "/library/ebooks" },
    { label: "Urdu Translations", href: "/library/ebooks-urdu" },
    { label: "Word for Word Method", href: "/about/why-understand-quran" },
    { label: "Our Mentor", href: "/about/our-mentor" },
  ],
  resources: [
    { label: "Video Library", href: "/library/videos" },
    { label: "Audio Library", href: "/library/audio" },
    { label: "eBooks Collection", href: "/library/ebooks" },
    { label: "Online Courses", href: "/online-courses" },
  ],
  contact: [
    { 
      icon: Mail, 
      label: "Email Us", 
      value: "info@wqtc.org", 
      href: "mailto:info@wqtc.org" 
    },
    { 
      icon: Phone, 
      label: "Call Us", 
      value: "+91 98765 43210", 
      href: "tel:+919876543210" 
    },
    { 
      icon: MapPin, 
      label: "Location", 
      value: "Chennai, Tamil Nadu, India", 
      href: "#" 
    },
  ],
  quickLinks: [
    { label: "Privacy Policy", href: "/privacy" },
    { label: "Terms of Service", href: "/terms" },
  ],
};

const socialLinks = [
  {
    href: "https://www.facebook.com/profile.php?id=100093641951236",
    icon: Facebook,
    label: "Facebook",
  },
  {
    href: "https://www.instagram.com/wqtc2024",
    icon: Instagram,
    label: "Instagram",
  },
  {
    href: "https://www.youtube.com/@WQTC-Chennai",
    icon: Youtube,
    label: "YouTube",
  },
];

export default function Footer() {
  return (
    <footer className="bg-[#453142] text-[#faf9f7]">
      {/* Newsletter/CTA Section */}
      <div className="border-b border-[#faf9f7]/15">
        <div className="container mx-auto px-4 py-12">
          <div className="flex flex-col md:flex-row items-center justify-between gap-6">
            <div className="text-center md:text-left">
              <h3 className="text-2xl md:text-3xl font-bold text-[#faf9f7] mb-2">
                Ready to Understand the{" "}
                <span className="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400">
                  Quran
                </span>
                ?
              </h3>
              <p className="text-[#faf9f7]/80">
                Join thousands of students learning Quran translation for free
              </p>
            </div>
            <Button
              asChild
              className="bg-[#faf9f7] text-[#453142] hover:bg-[#e6e1df] px-8 shadow-lg font-semibold"
              size="lg"
            >
              <Link href="/online-courses">Enroll Now - Free</Link>
            </Button>
          </div>
        </div>
      </div>

      {/* Main Footer Content */}
      <div className="container mx-auto px-4 py-12">
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8">
          {/* Brand Section - Spans 2 columns on large screens */}
          <div className="lg:col-span-2 space-y-4">
            <Link href="/" className="flex items-center gap-3 group">
              <div className="h-12 w-12 flex items-center justify-center transition-transform group-hover:scale-105">
                <svg
                  viewBox="0 0 1200 900"
                  className="h-full w-full text-[#e0def4]"
                  fill="currentColor"
                  aria-label="WQTC Logo"
                >
                  <g>
                    <path d="M637.9,563.7c-4.4,1.7-8.9,3.3-13.6,5.1c0-52.2,0-104.1,0-156.6c15.6-5,31.3-10.1,47-15.2
                      c30.4-9.8,60.8-19.6,91.2-29.2c2.2-0.7,5.4-0.8,7.3,0.2c42.9,24.6,85.6,49.3,128.4,74.1c0.7,0.4,1.4,1,2.5,1.7
                      c-3.2,2-6.1,3.8-9,5.7c-12.8,5.7-25.7,11.3-38.5,17.1c-17.2,7.8-34.2,15.7-51.4,23.5c-28.9,13-57.9,25.9-86.8,38.9
                      C689.3,540.4,663.6,552.1,637.9,563.7z" />
                    <path d="M288.8,249.3c4.2-3.8,7.4-8.8,14.1-9.3c4.3-0.3,7.5,0.3,9.6,4.5c7.3,14.3,14.8,28.5,22,42.8
                      c6.5,12.9,12.7,26,19.1,39c0.4,0.9,1.3,1.5,2.5,2.9c0.5-1.8,1-2.8,1-3.9c0.4-26.3,0.6-52.6,1-78.9c0.1-3.5,0.5-7.1,1.1-10.5
                      c1.3-7.1,8-12.6,16.3-13.9c8.4-1.4,12.6,0.7,16.9,8.4c13.1,23.2,26.1,46.5,39.1,69.7c1.6,2.8,2.9,5.8,5,10c0.8-2.5,1.5-3.5,1.4-4.5
                      c-0.6-29.1-1.2-58.2-1.8-87.3c-0.1-7.1,3.3-11.8,9.4-13.7c9-2.7,14.4,0.5,16,9.8c0.5,3.1,0.8,6.3,0.9,9.5c0.1,35,0.1,70,0,105
                      c0,2.5-0.1,5-0.3,7.4c-1.1,8.8-5.1,13.6-12.8,15.5c-7.9,1.9-14.4-0.5-18.8-8.3c-13.7-24.1-27.1-48.3-40.6-72.5
                      c-2.5-4.5-5-9-7.5-13.5c-0.6,0.2-1.2,0.3-1.8,0.5c0,7.7,0.1,15.3,0,23c-0.5,23.1-1.4,46.2-1.6,69.3c-0.1,11.1-3.1,19.8-14.8,23.1
                      c-2.5,0-4.9,0-7.4,0c-3.9-4.1-9.1-7.5-11.6-12.3c-19-35.7-37.5-71.6-56.2-107.5C288.8,252.1,288.8,250.7,288.8,249.3z" />
                    <path d="M496.6,263.5c1.9-9.1,2.9-18.4,5.9-27.1c8.5-24.2,26.2-37.8,51.6-41.4c13.9-2,27.6-1,40.9,3.1
                      c10.2,3.1,18.8,9.3,24.8,18.2c18.1,27,19.9,55.8,8.3,85.7c-1.6,4.2-4.5,8-7.1,11.7c-2.3,3.2-1.4,4.4,1.9,5.8
                      c5.8,2.5,11.5,5.3,17.1,8.3c5.1,2.6,7,7.4,5.2,11.8c-2,4.8-6.9,7.6-12.2,5.4c-8.2-3.5-16.2-7.7-23.9-12.2c-3.8-2.3-6.6-2.7-11-1
                      c-19,7.6-38.6,8.5-58,2c-24.1-8.1-40.9-33.1-41.8-60.8c-0.1-3,0-6,0-9C497.6,263.7,497.1,263.6,496.6,263.5z M583.2,312.5
                      c-0.1-0.5-0.1-1-0.2-1.6c-6.3-3.1-12.7-5.9-18.8-9.3c-2.1-1.2-4.9-4.9-4.4-6c1.2-2.5,4-5.1,6.6-5.8c3-0.7,6.8-0.1,9.8,1.1
                      c5.2,2.1,10.2,4.8,15.1,7.7c6.2,3.7,6.8,3.8,10-2.6c1.3-2.7,2.5-5.5,3.2-8.4c3.6-16,3.4-31.8-2.1-47.4c-5.9-16.4-19.1-25.4-37-25.4
                      c-17.1,0-30.2,9.2-35.7,25.6c-5.6,16.8-5.2,33.8,1,50.3c7.2,19.1,28.6,29.8,47.2,24.2C579.8,314.5,581.5,313.4,583.2,312.5z" />
                    <path d="M825.7,359.5c-37.7,0-63.3-24.4-66-62.2c-1.3-18.5,1.2-35.9,11.2-51.7c15.4-24.4,45.7-35.2,75.4-27
                      c18.1,5,31.1,15.5,36.4,34c2,7-0.7,13.1-6.4,15.6c-5.7,2.5-11.4,0.5-15.3-5.5c-1.6-2.5-3-5.2-4.5-7.8
                      c-7.1-12.5-17.7-18.8-32.2-18.2c-13.8,0.6-24.3,7.1-30,19.4c-9.6,20.9-10.4,42.6-0.6,63.5c6.5,13.9,19,19.8,34.4,19.2
                      c14.2-0.6,23.9-7.7,29.6-20.4c1.2-2.7,2.2-5.6,3.5-8.3c3.2-6.6,9-9.3,15.7-7.4c4.4,1.3,7.2,6.1,6.6,13.1c-1.2,14.2-9,24.7-20,32.9
                      C852.5,356.8,839.5,359.9,825.7,359.5z" />
                    <path d="M721.2,221.7c-0.6,8.8-1.3,17.2-1.8,25.6c-1.5,25.9-3,51.8-4.4,77.6c-0.5,8.1-4.1,13.2-10.5,14.8
                      c-8.8,2.1-17-3.5-16.9-12.5c0.1-13.2,1-26.4,1.7-39.6c0.4-8.4,1.2-16.9,1.7-25.3c0.7-11.2,1.4-22.5,2.1-33.8c0-0.4,0-0.7,0.1-1.1
                      c1-7.7,1-7.6-7.2-8c-9.5-0.5-19-1-28.5-2.2c-5.4-0.6-8.7-4.9-8.8-9.6c-0.1-4.7,3.1-9.1,8.1-10.5c2.5-0.7,5.2-0.9,7.8-0.8
                      c4.6,0.1,9.2,0.5,13.7,0.8c26.3,1.5,52.5,3,78.8,4.6c7.3,0.4,10,3.5,10.1,10.8c0,6.7-4.4,10.9-12.2,10.9
                      c-8.1-0.1-16.2-0.8-24.3-1.2C727.7,222,724.7,221.9,721.2,221.7z" />
                    <path d="M584.3,566.6c-92.4-41.3-183.5-82.1-274.9-123c1.6-0.9,3.2-1.9,4.9-2.9c42.5-23.5,85-46.9,127.4-70.5
                      c3.2-1.8,5.9-2.1,9.4-1c43.7,13.9,87.4,27.7,131.1,41.6c1.3,0.4,2.6,0.9,3.7,1.3C585.5,463.4,584.9,514.5,584.3,566.6z" />
                    <path d="M1159.3,456.9c-0.2,1.8-0.4,3.4-0.7,5.4c-16.1,6-32.8,12.3-49.5,18.5c-287.3,107.4-574.6,214.7-861.9,322
                      c-2.2,0.8-5.5,1.6-7.2,0.6c-4.3-2.5-3.2-7.4,1.9-9.9c25.5-12.5,51.1-24.9,76.6-37.4c94-46,188.1-91.9,282.1-137.9
                      c99.9-48.8,199.8-97.6,299.8-146.4c6.5-3.2,13.4-5.8,19.5-9.6c11.2-7,23.1-6.8,35.7-6c17.1,1,34.3,0.5,51.4,0.5
                      c49.3,0.1,98.6,0.1,147.9,0.1C1156.6,456.9,1158.4,456.9,1159.3,456.9z" />
                    <path d="M270.8,457.1c7.5,3.9,15,7.8,22.5,11.6c222.4,108.9,444.8,217.7,667.3,326.5c1.9,0.9,3.9,1.5,5.8,2.3
                      c-0.4,2.8-0.7,5.7-1.1,8.5c-1.5-0.8-2.8-1.9-4.4-2.5c-225.3-84.4-450.6-168.8-675.9-253.2c-80.6-30.2-161.1-60.3-241.7-90.4
                      c-0.5-0.2-0.9-0.5-2.7-1.5c8.9,0,16.5,0,24,0c35.5-0.1,71-0.1,106.5-0.3c23.8-0.1,47.7-0.2,71.5-0.4c1.9,0,3.8-0.5,5.7-0.7
                      C256,457.1,263.4,457.1,270.8,457.1z" />
                  </g>
                </svg>
              </div>
              <span className="font-bold text-2xl text-[#faf9f7]">WQTC</span>
            </Link>

            <p className="text-sm leading-relaxed text-[#faf9f7]/80 max-w-md">
              Word for Word Quran Translation Classes  Empowering Muslims worldwide to
              understand the divine message through innovative word-by-word translation
              methodology by Ustaad Imran Sait.
            </p>

            {/* Social Links */}
            <div className="flex gap-2 pt-4">
              {socialLinks.map((social) => (
                <Button
                  key={social.label}
                  variant="outline"
                  size="icon"
                  className="bg-[#6e4d66] hover:bg-[#faf9f7] border-0 hover:text-[#453142] text-[#faf9f7] transition-colors"
                  asChild
                >
                  <a
                    href={social.href}
                    target="_blank"
                    rel="noopener noreferrer"
                    aria-label={social.label}
                  >
                    <social.icon className="h-5 w-5" />
                  </a>
                </Button>
              ))}
            </div>
          </div>

          {/* Translations Column */}
          <div className="space-y-4">
            <h3 className="text-[#faf9f7] font-bold text-lg">Translations</h3>
            <ul className="space-y-2">
              {footerLinks.translations.map((link) => (
                <li key={link.href}>
                  <Link
                    href={link.href}
                    className="text-sm text-[#faf9f7]/70 hover:text-[#faf9f7] transition-colors flex items-center gap-2 group"
                  >
                    <span className="text-[#6e4d66] group-hover:translate-x-1 transition-transform">
                      
                    </span>
                    {link.label}
                  </Link>
                </li>
              ))}
            </ul>
          </div>

          {/* Resources Column */}
          <div className="space-y-4">
            <h3 className="text-[#faf9f7] font-bold text-lg">Resources</h3>
            <ul className="space-y-2">
              {footerLinks.resources.map((link) => (
                <li key={link.href}>
                  <Link
                    href={link.href}
                    className="text-sm text-[#faf9f7]/70 hover:text-[#faf9f7] transition-colors flex items-center gap-2 group"
                  >
                    <span className="text-[#6e4d66] group-hover:translate-x-1 transition-transform">
                      
                    </span>
                    {link.label}
                  </Link>
                </li>
              ))}
            </ul>
          </div>

          {/* Contact Column */}
          <div className="space-y-4">
            <h3 className="text-[#faf9f7] font-bold text-lg">Contact</h3>
            <div className="space-y-3">
              {footerLinks.contact.map((contact) => (
                <a
                  key={contact.label}
                  href={contact.href}
                  className="flex items-start gap-3 text-sm text-[#faf9f7]/70 hover:text-[#faf9f7] transition-colors group"
                >
                  <div className="w-8 h-8 rounded-lg bg-[#6e4d66] flex items-center justify-center group-hover:bg-[#8a6a7e] transition-colors flex-shrink-0">
                    <contact.icon className="h-4 w-4" />
                  </div>
                  <div className="flex flex-col">
                    <span className="text-xs text-[#faf9f7]/50 mb-0.5">
                      {contact.label}
                    </span>
                    <span className="leading-tight">{contact.value}</span>
                  </div>
                </a>
              ))}
            </div>
          </div>
        </div>

        <Separator className="my-8 bg-[#faf9f7]/15" />

        {/* Bottom Footer */}
        <div className="flex flex-col md:flex-row justify-between items-center gap-4 text-sm">
          <p className="text-[#faf9f7]/70 text-center md:text-left">
             {new Date().getFullYear()} WQTC. All Rights Reserved. | Developed by{" "}
            <a
              href="https://delqsolutions.com/"
              target="_blank"
              rel="noopener noreferrer"
              className="text-[#6e4d66] hover:text-[#8a6a7e] hover:underline transition-colors font-semibold"
            >
              DELQ Solutions
            </a>
          </p>
          <div className="flex flex-wrap gap-4 justify-center">
            {footerLinks.quickLinks.map((link) => (
              <Link
                key={link.href}
                href={link.href}
                className="text-[#faf9f7]/70 hover:text-[#6e4d66] transition-colors"
              >
                {link.label}
              </Link>
            ))}
          </div>
        </div>
      </div>
    </footer>
  );
}



============================================================
FILE: .\wqtc\components\layout\Navbar.tsx
============================================================
"use client"

import Link from "next/link"
import { useState } from "react"
import { Menu, X, Facebook, Instagram, Youtube, ChevronDown } from "lucide-react"
import { Button } from "@/components/ui/button"

import { useSlideOver } from "@/components/context/SlideOverContext"
import SideSheetContent from "@/components/layout/SideSheetContent"

const aboutMenuItems = [
  { label: 'Our Mentor', href: '/about/our-mentor' },
  { label: 'Why Understand Quran', href: '/about/why-understand-quran' },
  { label: 'Vision & Mission', href: '/about/vision-mission' },
]

// NOTE: "Contact Us" has been moved out of navLinks; "Online Courses" is now handled separately in both desktop and mobile menus.
const navLinks = [
  { href: "/", label: "Home" },
  {
    label: "Translations",
    submenu: [
      { href: "/library/ebooks", label: "English" },
      { href: "/library/ebooks-urdu", label: "Urdu" },
    ],
  },
  {
    label: "Resource Library",
    submenu: [
      { href: "/library/videos", label: "Video Library" },
      { href: "/library/audio", label: "Audio Library" },
      { href: "/library/ebooks", label: "EBooks" },
    ],
  }
  // "Online Courses" is now handled as a dedicated dropdown below navLinks
  // "Contact Us" will come after "Online Courses"
]

const socialLinks = [
  {
    href: "https://www.facebook.com/profile.php?id=100093641951236",
    icon: Facebook,
    label: "Facebook",
  },
  {
    href: "https://www.instagram.com/wqtc2024",
    icon: Instagram,
    label: "Instagram",
  },
  {
    href: "https://www.youtube.com/@WQTC-Chennai",
    icon: Youtube,
    label: "YouTube",
  },
]

// Filter options for online courses
const onlineCourseFilters = [
  { label: "All Courses", filter: "all" },
  { label: "Men's Courses", filter: "men" },
  { label: "Women's Courses", filter: "women" },
  { label: "Weekend Courses", filter: "weekend" },
];

export default function Navbar() {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false)
  // Split desktop vs mobile dropdown state (no collision)
  const [desktopOpenDropdown, setDesktopOpenDropdown] = useState<string | null>(null)
  const [mobileOpenDropdown, setMobileOpenDropdown] = useState<string | null>(null)
  const [aboutDropdownOpen, setAboutDropdownOpen] = useState(false)

  const { openSlideOver } = useSlideOver();

  return (
    <header className="sticky top-0 z-50 w-full border-b bg-[#453142] backdrop-blur supports-[backdrop-filter]:bg-[#453142]">
      <nav className="container mx-auto px-4 py-4">
        <div className="flex items-center justify-between">
          {/* Logo - UPDATED WITH SVG */}
          <Link href="/" className="flex items-center gap-3 group">
            <div className="h-16 w-16 flex items-center justify-center transition-transform group-hover:scale-105">
              <svg
                viewBox="0 0 1200 900"
                className="h-full w-full text-[#e0def4]"
                fill="currentColor"
                aria-label="WQTC Logo"
              >
                <g>
                  {/* unchanged SVG (only color updated above) */}
                  <path d="M637.9,563.7c-4.4,1.7-8.9,3.3-13.6,5.1c0-52.2,0-104.1,0-156.6c15.6-5,31.3-10.1,47-15.2
                    c30.4-9.8,60.8-19.6,91.2-29.2c2.2-0.7,5.4-0.8,7.3,0.2c42.9,24.6,85.6,49.3,128.4,74.1c0.7,0.4,1.4,1,2.5,1.7
                    c-3.2,2-6.1,3.8-9,5.7c-12.8,5.7-25.7,11.3-38.5,17.1c-17.2,7.8-34.2,15.7-51.4,23.5c-28.9,13-57.9,25.9-86.8,38.9
                    C689.3,540.4,663.6,552.1,637.9,563.7z" />
                  <path d="M288.8,249.3c4.2-3.8,7.4-8.8,14.1-9.3c4.3-0.3,7.5,0.3,9.6,4.5c7.3,14.3,14.8,28.5,22,42.8
                    c6.5,12.9,12.7,26,19.1,39c0.4,0.9,1.3,1.5,2.5,2.9c0.5-1.8,1-2.8,1-3.9c0.4-26.3,0.6-52.6,1-78.9c0.1-3.5,0.5-7.1,1.1-10.5
                    c1.3-7.1,8-12.6,16.3-13.9c8.4-1.4,12.6,0.7,16.9,8.4c13.1,23.2,26.1,46.5,39.1,69.7c1.6,2.8,2.9,5.8,5,10c0.8-2.5,1.5-3.5,1.4-4.5
                    c-0.6-29.1-1.2-58.2-1.8-87.3c-0.1-7.1,3.3-11.8,9.4-13.7c9-2.7,14.4,0.5,16,9.8c0.5,3.1,0.8,6.3,0.9,9.5c0.1,35,0.1,70,0,105
                    c0,2.5-0.1,5-0.3,7.4c-1.1,8.8-5.1,13.6-12.8,15.5c-7.9,1.9-14.4-0.5-18.8-8.3c-13.7-24.1-27.1-48.3-40.6-72.5
                    c-2.5-4.5-5-9-7.5-13.5c-0.6,0.2-1.2,0.3-1.8,0.5c0,7.7,0.1,15.3,0,23c-0.5,23.1-1.4,46.2-1.6,69.3c-0.1,11.1-3.1,19.8-14.8,23.1
                    c-2.5,0-4.9,0-7.4,0c-3.9-4.1-9.1-7.5-11.6-12.3c-19-35.7-37.5-71.6-56.2-107.5C288.8,252.1,288.8,250.7,288.8,249.3z" />
                  <path d="M496.6,263.5c1.9-9.1,2.9-18.4,5.9-27.1c8.5-24.2,26.2-37.8,51.6-41.4c13.9-2,27.6-1,40.9,3.1
                    c10.2,3.1,18.8,9.3,24.8,18.2c18.1,27,19.9,55.8,8.3,85.7c-1.6,4.2-4.5,8-7.1,11.7c-2.3,3.2-1.4,4.4,1.9,5.8
                    c5.8,2.5,11.5,5.3,17.1,8.3c5.1,2.6,7,7.4,5.2,11.8c-2,4.8-6.9,7.6-12.2,5.4c-8.2-3.5-16.2-7.7-23.9-12.2c-3.8-2.3-6.6-2.7-11-1
                    c-19,7.6-38.6,8.5-58,2c-24.1-8.1-40.9-33.1-41.8-60.8c-0.1-3,0-6,0-9C497.6,263.7,497.1,263.6,496.6,263.5z M583.2,312.5
                    c-0.1-0.5-0.1-1-0.2-1.6c-6.3-3.1-12.7-5.9-18.8-9.3c-2.1-1.2-4.9-4.9-4.4-6c1.2-2.5,4-5.1,6.6-5.8c3-0.7,6.8-0.1,9.8,1.1
                    c5.2,2.1,10.2,4.8,15.1,7.7c6.2,3.7,6.8,3.8,10-2.6c1.3-2.7,2.5-5.5,3.2-8.4c3.6-16,3.4-31.8-2.1-47.4c-5.9-16.4-19.1-25.4-37-25.4
                    c-17.1,0-30.2,9.2-35.7,25.6c-5.6,16.8-5.2,33.8,1,50.3c7.2,19.1,28.6,29.8,47.2,24.2C579.8,314.5,581.5,313.4,583.2,312.5z" />
                  <path d="M825.7,359.5c-37.7,0-63.3-24.4-66-62.2c-1.3-18.5,1.2-35.9,11.2-51.7c15.4-24.4,45.7-35.2,75.4-27
                    c18.1,5,31.1,15.5,36.4,34c2,7-0.7,13.1-6.4,15.6c-5.7,2.5-11.4,0.5-15.3-5.5c-1.6-2.5-3-5.2-4.5-7.8
                    c-7.1-12.5-17.7-18.8-32.2-18.2c-13.8,0.6-24.3,7.1-30,19.4c-9.6,20.9-10.4,42.6-0.6,63.5c6.5,13.9,19,19.8,34.4,19.2
                    c14.2-0.6,23.9-7.7,29.6-20.4c1.2-2.7,2.2-5.6,3.5-8.3c3.2-6.6,9-9.3,15.7-7.4c4.4,1.3,7.2,6.1,6.6,13.1c-1.2,14.2-9,24.7-20,32.9
                    C852.5,356.8,839.5,359.9,825.7,359.5z" />
                  <path d="M721.2,221.7c-0.6,8.8-1.3,17.2-1.8,25.6c-1.5,25.9-3,51.8-4.4,77.6c-0.5,8.1-4.1,13.2-10.5,14.8
                    c-8.8,2.1-17-3.5-16.9-12.5c0.1-13.2,1-26.4,1.7-39.6c0.4-8.4,1.2-16.9,1.7-25.3c0.7-11.2,1.4-22.5,2.1-33.8c0-0.4,0-0.7,0.1-1.1
                    c1-7.7,1-7.6-7.2-8c-9.5-0.5-19-1-28.5-2.2c-5.4-0.6-8.7-4.9-8.8-9.6c-0.1-4.7,3.1-9.1,8.1-10.5c2.5-0.7,5.2-0.9,7.8-0.8
                    c4.6,0.1,9.2,0.5,13.7,0.8c26.3,1.5,52.5,3,78.8,4.6c7.3,0.4,10,3.5,10.1,10.8c0,6.7-4.4,10.9-12.2,10.9
                    c-8.1-0.1-16.2-0.8-24.3-1.2C727.7,222,724.7,221.9,721.2,221.7z" />
                  <path d="M584.3,566.6c-92.4-41.3-183.5-82.1-274.9-123c1.6-0.9,3.2-1.9,4.9-2.9c42.5-23.5,85-46.9,127.4-70.5
                    c3.2-1.8,5.9-2.1,9.4-1c43.7,13.9,87.4,27.7,131.1,41.6c1.3,0.4,2.6,0.9,3.7,1.3C585.5,463.4,584.9,514.5,584.3,566.6z" />
                  <path d="M1159.3,456.9c-0.2,1.8-0.4,3.4-0.7,5.4c-16.1,6-32.8,12.3-49.5,18.5c-287.3,107.4-574.6,214.7-861.9,322
                    c-2.2,0.8-5.5,1.6-7.2,0.6c-4.3-2.5-3.2-7.4,1.9-9.9c25.5-12.5,51.1-24.9,76.6-37.4c94-46,188.1-91.9,282.1-137.9
                    c99.9-48.8,199.8-97.6,299.8-146.4c6.5-3.2,13.4-5.8,19.5-9.6c11.2-7,23.1-6.8,35.7-6c17.1,1,34.3,0.5,51.4,0.5
                    c49.3,0.1,98.6,0.1,147.9,0.1C1156.6,456.9,1158.4,456.9,1159.3,456.9z" />
                  <path d="M270.8,457.1c7.5,3.9,15,7.8,22.5,11.6c222.4,108.9,444.8,217.7,667.3,326.5c1.9,0.9,3.9,1.5,5.8,2.3
                    c-0.4,2.8-0.7,5.7-1.1,8.5c-1.5-0.8-2.8-1.9-4.4-2.5c-225.3-84.4-450.6-168.8-675.9-253.2c-80.6-30.2-161.1-60.3-241.7-90.4
                    c-0.5-0.2-0.9-0.5-2.7-1.5c8.9,0,16.5,0,24,0c35.5-0.1,71-0.1,106.5-0.3c23.8-0.1,47.7-0.2,71.5-0.4c1.9,0,3.8-0.5,5.7-0.7
                    C256,457.1,263.4,457.1,270.8,457.1z" />
                </g>
              </svg>
            </div>
          </Link>

          {/* Desktop Navigation */}
          <div className="hidden lg:flex items-center gap-6">
            <Link
              key="/"
              href="/"
              className="text-lg text-[#e0def4] hover:text-[#cdabff] transition-colors relative group"
            >
              Home
              <span className="absolute -bottom-1 left-0 w-0 h-1 bg-[#cdabff] group-hover:w-full transition-all duration-300"></span>
            </Link>

            {/* ABOUT Dropdown using shared wrapper for robust hover + focus management */}
            <div
              className="relative"
              onMouseEnter={() => setAboutDropdownOpen(true)}
              onMouseLeave={() => setAboutDropdownOpen(false)}
            >
              <button
                className="text-lg text-[#e0def4] font-semibold hover:text-[#cdabff] transition-colors flex items-center gap-1 bg-transparent border-none outline-none"
                aria-haspopup="true"
                aria-expanded={aboutDropdownOpen}
                tabIndex={0}
                onFocus={() => setAboutDropdownOpen(true)}
                onBlur={() => setAboutDropdownOpen(false)}
                type="button"
              >
                About Us
                <ChevronDown className="h-5 w-5" />
              </button>
              <div
                className={`
                  absolute left-0 top-full w-64 bg-[#faf9f7] rounded-lg mt-2 shadow-xl border border-[#453142]/20 z-50 py-2
                  transition-all duration-200
                  ${aboutDropdownOpen ? 'opacity-100 visible translate-y-0' : 'opacity-0 invisible -translate-y-2'}
                `}
                tabIndex={-1}
              >
                {aboutMenuItems.map((item) => (
                  <Link
                    key={item.href}
                    href={item.href}
                    className="block px-5 py-3 text-base text-[#453142] font-medium hover:bg-[#453142] hover:text-[#faf9f7] transition-colors rounded-md mx-1"
                    onClick={() => setAboutDropdownOpen(false)}
                  >
                    {item.label}
                  </Link>
                ))}
              </div>
            </div>

            {/* Resource Library and Translations nav items (Online Courses, Contact Us handled separately) */}
            {navLinks
              .filter((link) => link.label !== "Home")
              .map((link) =>
                link.submenu ? (
                  <div
                    key={link.label}
                    className="relative group"
                    onMouseEnter={() => setDesktopOpenDropdown(link.label)}
                    onMouseLeave={() => setDesktopOpenDropdown(null)}
                  >
                    <button className="text-lg text-[#e0def4] hover:text-[#cdabff] transition-colors flex items-center gap-1">
                      {link.label}
                      <ChevronDown className="h-5 w-5" />
                    </button>
                    <div
                      className={`absolute left-0 top-full mt-2 w-64 bg-[#faf9f7] rounded-lg shadow-xl border border-[#453142]/20 py-2 transition-all duration-200 ${
                        desktopOpenDropdown === link.label
                          ? "opacity-100 visible translate-y-0"
                          : "opacity-0 invisible -translate-y-2"
                      }`}
                    >
                      {link.submenu.map((sublink, i) => (
                        <Link
                          key={`${sublink.href}|${sublink.label}|${i}`}
                          href={sublink.href}
                          className="block px-5 py-3 text-base text-[#453142] font-medium hover:bg-[#453142] hover:text-[#faf9f7] transition-colors rounded-md mx-1"
                        >
                          {sublink.label}
                        </Link>
                      ))}
                    </div>
                  </div>
                ) : null // skip non-submenu here, Contact Us handled below
              )}

            {/* Online Courses filter (Desktop) as dropdown for category filtering */}
            <div
              className="relative group"
              onMouseEnter={() => setDesktopOpenDropdown("Online Courses")}
              onMouseLeave={() => setDesktopOpenDropdown(null)}
            >
              <button className="text-lg text-[#e0def4] hover:text-[#cdabff] transition-colors flex items-center gap-1">
                Online Courses
                <ChevronDown className="h-5 w-5" />
              </button>
              <div
                className={`absolute left-0 top-full mt-2 w-64 bg-[#faf9f7] rounded-lg shadow-xl border border-[#453142]/20 py-2 transition-all duration-200 ${
                  desktopOpenDropdown === "Online Courses"
                    ? "opacity-100 visible translate-y-0"
                    : "opacity-0 invisible -translate-y-2"
                }`}
              >
                {onlineCourseFilters.map((filterLink) => (
                  <Link
                    key={filterLink.filter}
                    href={`/online-courses?filter=${filterLink.filter}`}
                    className="block px-5 py-3 text-base text-[#453142] font-medium hover:bg-[#453142] hover:text-[#faf9f7] transition-colors rounded-md mx-1"
                  >
                    {filterLink.label}
                  </Link>
                ))}
              </div>
            </div>

            {/* Contact Us always last */}
            <Link
              key="/contact"
              href="/contact"
              className="text-lg text-[#e0def4] hover:text-[#cdabff] transition-colors relative group"
            >
              Contact Us
              <span className="absolute -bottom-1 left-0 w-0 h-1 bg-[#cdabff] group-hover:w-full transition-all duration-300"></span>
            </Link>
          </div>

          {/* Social Icons, Opener Button & Mobile Menu */}
          <div className="flex items-center gap-4">
            {/* Social Icons */}
            {/*
            <div className="hidden md:flex items-center gap-2">
              {socialLinks.map((social) => (
                <Button
                  key={social.label}
                  variant="ghost"
                  size="icon"
                  asChild
                  className="hover:text-[#cdabff] hover:bg-[#cdabff]/10"
                >
                  <a
                    href={social.href}
                    target="_blank"
                    rel="noopener noreferrer"
                    aria-label={social.label}
                  >
                    <social.icon className="h-6 w-6 text-[#e0def4]" />
                  </a>
                </Button>
              ))}
            </div>
            */}

            {/* Register Now Button */}
            <button
              onClick={() => openSlideOver(<SideSheetContent />)}
              className="hidden md:inline-flex items-center justify-center h-10 px-5 rounded-full bg-[#453142] text-[#faf9f7] font-semibold shadow hover:bg-[#faf9f7] hover:text-[#453142] hover:scale-105 transition"
              aria-label="Register now"
            >
              Register Now
            </button>

            {/* Mobile Menu Button */}
            <Button
              variant="ghost"
              size="icon"
              className="lg:hidden"
              onClick={() => setMobileMenuOpen(s => !s)}
              aria-label="Toggle menu"
            >
              {mobileMenuOpen ? <X className="text-[#e0def4]" /> : <Menu className="text-[#e0def4]" />}
            </Button>
          </div>
        </div>

        {/* Mobile Menu */}
        {mobileMenuOpen && (
          <div className="lg:hidden mt-4 pb-4 space-y-3 border-t border-[#453142]/20 pt-4 bg-[#faf9f7] rounded-xl shadow-lg">
            {/* Home link first in mobile */}
            <Link
              key="/"
              href="/"
              className="block py-3 px-4 rounded-md hover:bg-[#453142] hover:text-[#faf9f7] transition-colors text-lg text-[#453142] font-medium"
              onClick={() => setMobileMenuOpen(false)}
            >
              Home
            </Link>

            {/* About (mobile accordion) */}
            <div className="space-y-2">
              <button
                onClick={() =>
                  setMobileOpenDropdown(mobileOpenDropdown === 'About Us' ? null : 'About Us')
                }
                className="w-full flex items-center justify-between py-3 px-4 rounded-md hover:bg-[#453142] hover:text-[#faf9f7] transition-colors text-left text-lg text-[#453142] font-medium"
              >
                About Us
                <ChevronDown
                  className={`h-5 w-5 transition-transform ${
                    mobileOpenDropdown === 'About Us' ? "rotate-180" : ""
                  }`}
                />
              </button>
              {mobileOpenDropdown === 'About Us' && (
                <div className="pl-4 space-y-1">
                  {aboutMenuItems.map((item) => (
                    <Link
                      key={item.href}
                      href={item.href}
                      className="block py-2 px-4 rounded-md hover:bg-[#453142] hover:text-[#faf9f7] transition-colors text-base text-[#453142]"
                      onClick={() => setMobileMenuOpen(false)}
                    >
                      {item.label}
                    </Link>
                  ))}
                </div>
              )}
            </div>
            {/* Resource Library and Translations (mobile accordions, skip Contact/Online Courses here) */}
            {navLinks
              .filter((link) => link.label !== "Home")
              .map((link) =>
                link.submenu ? (
                  <div key={link.label} className="space-y-2">
                    <button
                      onClick={() =>
                        setMobileOpenDropdown(mobileOpenDropdown === link.label ? null : link.label)
                      }
                      className="w-full flex items-center justify-between py-3 px-4 rounded-md hover:bg-[#453142] hover:text-[#faf9f7] transition-colors text-left text-lg text-[#453142] font-medium"
                    >
                      {link.label}
                      <ChevronDown
                        className={`h-5 w-5 transition-transform ${
                          mobileOpenDropdown === link.label ? "rotate-180" : ""
                        }`}
                      />
                    </button>
                    {mobileOpenDropdown === link.label && (
                      <div className="pl-4 space-y-1">
                        {link.submenu.map((sublink, i) => (
                          <Link
                            key={`${sublink.href}|${sublink.label}|${i}`}
                            href={sublink.href}
                            className="block py-2 px-4 rounded-md hover:bg-[#453142] hover:text-[#faf9f7] transition-colors text-base text-[#453142]"
                            onClick={() => setMobileMenuOpen(false)}
                          >
                            {sublink.label}
                          </Link>
                        ))}
                      </div>
                    )}
                  </div>
                ) : null
              )}

            {/* Online Courses filter (Mobile) */}
            <div className="space-y-2">
              <button
                onClick={() =>
                  setMobileOpenDropdown(mobileOpenDropdown === "Online Courses" ? null : "Online Courses")
                }
                className="w-full flex items-center justify-between py-3 px-4 rounded-md hover:bg-[#453142] hover:text-[#faf9f7] transition-colors text-left text-lg text-[#453142] font-medium"
              >
                Online Courses
                <ChevronDown
                  className={`h-5 w-5 transition-transform ${mobileOpenDropdown === "Online Courses" ? "rotate-180" : ""}`}
                />
              </button>
              {mobileOpenDropdown === "Online Courses" && (
                <div className="pl-4 space-y-1">
                  {onlineCourseFilters.map((filterLink) => (
                    <Link
                      key={filterLink.filter}
                      href={`/online-courses?filter=${filterLink.filter}`}
                      className="block py-2 px-4 rounded-md hover:bg-[#453142] hover:text-[#faf9f7] transition-colors text-base text-[#453142]"
                      onClick={() => setMobileMenuOpen(false)}
                    >
                      {filterLink.label}
                    </Link>
                  ))}
                </div>
              )}
            </div>

            {/* Contact Us (always last in mobile menu) */}
            <Link
              key="/contact"
              href="/contact"
              className="block py-3 px-4 rounded-md hover:bg-[#453142] hover:text-[#faf9f7] transition-colors text-lg text-[#453142] font-medium"
              onClick={() => setMobileMenuOpen(false)}
            >
              Contact Us
            </Link>

            {/* Mobile Social Icons */}
            {/*
            <div className="flex gap-3 pt-2">
              {socialLinks.map((social) => (
                <Button
                  key={social.label}
                  variant="outline"
                  size="icon"
                  asChild
                  className="border-[#cdabff] hover:text-[#cdabff] hover:bg-[#cdabff]/10"
                >
                  <a
                    href={social.href}
                    target="_blank"
                    rel="noopener noreferrer"
                    aria-label={social.label}
                  >
                    <social.icon className="h-6 w-6 text-[#e0def4]" />
                  </a>
                </Button>
              ))}
            </div>
            */}
          </div>
        )}
      </nav>
    </header>
  )
}



============================================================
FILE: .\wqtc\components\layout\SideSheetContent.tsx
============================================================
"use client";

import { useState } from "react";
import Image from "next/image";
import { Button } from "@/components/ui/button";
import { Facebook, Instagram, Youtube, Loader2, CheckCircle2 } from "lucide-react";
import Link from "next/link";
import { api } from "@/lib/api";

const socialLinks = [
  {
    href: "https://www.facebook.com/profile.php?id=100093641951236",
    icon: Facebook,
    label: "Facebook",
  },
  {
    href: "https://www.instagram.com/wqtc2024",
    icon: Instagram,
    label: "Instagram",
  },
  {
    href: "https://www.youtube.com/@WQTC-Chennai",
    icon: Youtube,
    label: "YouTube",
  },
];

export default function SideSheetContent() {
  const [formData, setFormData] = useState({
    name: "",
    email: "",
    phone: "",
    country: "India",
    interest: "",
  });
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [isSuccess, setIsSuccess] = useState(false);

  const handleChange = (
    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>
  ) => {
    const { name, value } = e.target;
    setFormData((prev) => ({ ...prev, [name]: value }));
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);

    try {
      // Compose payload to match backend schema requirements.
      const payload = {
        name: formData.name,
        email: formData.email,
        phone: formData.phone,
        country: formData.country,
        language: "English",
        classType: "General Interest",
        timing: "Flexible",
        days: "Flexible",
        contactNumber: formData.phone,
        additionalNotes: formData.interest ? `Interest: ${formData.interest}` : null,
        whatsapp: formData.phone, // safe fallback
      };

      await api.createRegistration(payload);

      setIsSuccess(true);
      setTimeout(() => {
        setFormData({
          name: "",
          email: "",
          phone: "",
          country: "India",
          interest: "",
        });
        setIsSuccess(false);
      }, 3000);
    } catch (error: any) {
      console.error("Registration error:", error);
      alert(error.message || "Registration failed");
    } finally {
      setIsSubmitting(false);
    }
  };

  return (
    <aside
      className="flex flex-col h-full bg-[#faf9f7] px-0 py-0 rounded-xl max-w-[560px] w-full"
      style={{ color: "#453142" }}
    >
      {/* Sheet Content Layout: main content scrollable, footer sticky */}
      <div className="flex-1 overflow-y-auto py-6 px-8 flex flex-col">
        {/* Header */}
        <div>
          <p className="text-sm uppercase tracking-[0.3em] text-[#b187fc] font-semibold">
            Word For Word Quran
          </p>
          <h2 className="text-2xl font-bold mt-2" style={{ color: "#453142" }}>
            Join Our Learning Program
          </h2>
        </div>

        {/* Hero Image */}
        <div className="relative w-full h-48 mt-6 mb-4 rounded-xl overflow-hidden ring-1 ring-[#453142]/10 shadow-md">
          <Image
            src="https://images.unsplash.com/photo-1508057198894-247b23fe5ade?auto=format&fit=crop&w=800&q=80"
            alt="Students learning the Quran"
            fill
            sizes="(max-width: 768px) 100vw, 500px"
            className="object-cover"
          />
        </div>

        {/* Description */}
        <p className="text-base leading-relaxed mb-5" style={{ color: "#635a56" }}>
          Join thousands of students worldwide learning Quran translation through our immersive
          word-for-word methodology. Start your journey today!
        </p>

        {/* Registration Form */}
        <div className="flex-1 flex flex-col justify-start">
          {isSuccess ? (
            <div className="bg-green-50 border border-green-200 rounded-xl p-6 text-center space-y-3 w-full">
              <CheckCircle2 className="w-12 h-12 text-green-600 mx-auto" />
              <h3 className="text-lg font-bold text-green-700">Registration Successful!</h3>
              <p className="text-sm text-green-600">
                We'll contact you soon with program details.
              </p>
            </div>
          ) : (
            <form
              onSubmit={handleSubmit}
              className="grid grid-cols-1 gap-4 w-full"
              style={{ maxWidth: "100%" }}
            >
              {/* Name */}
              <div className="w-full">
                <label className="block text-sm font-semibold mb-1.5" style={{ color: "#453142" }}>
                  Full Name *
                </label>
                <input
                  type="text"
                  name="name"
                  value={formData.name}
                  onChange={handleChange}
                  required
                  className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#b187fc] focus:border-transparent bg-white text-[#453142] placeholder:text-[#635a56]/50"
                  placeholder="Enter your full name"
                />
              </div>

              {/* Email */}
              <div className="w-full">
                <label className="block text-sm font-semibold mb-1.5" style={{ color: "#453142" }}>
                  Email Address *
                </label>
                <input
                  type="email"
                  name="email"
                  value={formData.email}
                  onChange={handleChange}
                  required
                  className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#b187fc] focus:border-transparent bg-white text-[#453142] placeholder:text-[#635a56]/50"
                  placeholder="your.email@example.com"
                />
              </div>

              {/* Phone */}
              <div className="w-full">
                <label className="block text-sm font-semibold mb-1.5" style={{ color: "#453142" }}>
                  Phone Number *
                </label>
                <input
                  type="tel"
                  name="phone"
                  value={formData.phone}
                  onChange={handleChange}
                  required
                  className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#b187fc] focus:border-transparent bg-white text-[#453142] placeholder:text-[#635a56]/50"
                  placeholder="+91 98765 43210"
                />
              </div>

              {/* Country */}
              <div className="w-full">
                <label className="block text-sm font-semibold mb-1.5" style={{ color: "#453142" }}>
                  Country *
                </label>
                <select
                  name="country"
                  value={formData.country}
                  onChange={handleChange}
                  required
                  className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#b187fc] focus:border-transparent bg-white text-[#453142]"
                >
                  <option value="India">India</option>
                  <option value="USA">United States</option>
                  <option value="UK">United Kingdom</option>
                  <option value="UAE">United Arab Emirates</option>
                  <option value="Saudi Arabia">Saudi Arabia</option>
                  <option value="Australia">Australia</option>
                  <option value="Canada">Canada</option>
                  <option value="Other">Other</option>
                </select>
              </div>

              {/* Interest */}
              <div className="w-full">
                <label className="block text-sm font-semibold mb-1.5" style={{ color: "#453142" }}>
                  What interests you? (Optional)
                </label>
                <textarea
                  name="interest"
                  value={formData.interest}
                  onChange={handleChange}
                  rows={3}
                  className="w-full px-4 py-3 border border-[#453142]/20 rounded-lg focus:ring-2 focus:ring-[#b187fc] focus:border-transparent bg-white text-[#453142] placeholder:text-[#635a56]/50 resize-none"
                  placeholder="e.g., Quran translation course, Tajweed classes..."
                />
              </div>

              {/* Submit Button */}
              <Button
                type="submit"
                disabled={isSubmitting}
                className="w-full bg-[#b187fc] text-white font-semibold py-3 hover:bg-[#9d6ee0] transition-colors shadow-lg disabled:opacity-50 text-lg mt-3"
              >
                {isSubmitting ? (
                  <>
                    <Loader2 className="mr-2 h-5 w-5 animate-spin" />
                    Submitting...
                  </>
                ) : (
                  "Register Now"
                )}
              </Button>
            </form>
          )}
        </div>
      </div>

      {/* Sheet footer: Social, contact, CTA */}
      <div className="flex-shrink-0 pt-4 pb-6 px-8 bg-[#faf9f7] border-t border-[#453142]/10">
        {/* Social Links */}
        <div className="mb-4">
          <h3 className="font-semibold mb-3 text-base" style={{ color: "#453142" }}>
            Connect With Us
          </h3>
          <div className="flex gap-3">
            {socialLinks.map((social) => (
              <a
                key={social.label}
                className="p-2.5 rounded-full bg-[#453142]/10 text-[#453142] hover:bg-[#b187fc] hover:text-white transition-all duration-200"
                href={social.href}
                target="_blank"
                rel="noopener noreferrer"
                aria-label={social.label}
              >
                <social.icon className="w-5 h-5" />
              </a>
            ))}
          </div>
        </div>

        <div className="mb-4">
          <h3 className="font-semibold text-base" style={{ color: "#453142" }}>
            Contact Us
          </h3>
          <div className="text-sm space-y-2" style={{ color: "#635a56" }}>
            <p className="flex items-center gap-2">
              <span className="font-medium"></span> +91 44 4776 6611
            </p>
            <p className="flex items-center gap-2">
              <span className="font-medium"></span> info@wordforwordquran.com
            </p>
          </div>
        </div>

        <Button
          asChild
          variant="outline"
          className="w-full border-[#453142] text-[#453142] hover:bg-[#453142] hover:text-white"
        >
          <Link href="/online-courses">View All Courses</Link>
        </Button>
      </div>
    </aside>
  );
}



============================================================
FILE: .\wqtc\components\sections\BlogSection.tsx
============================================================
"use client";

import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { motion } from "framer-motion";
import Image from "next/image";
import { Calendar, User, ArrowRight } from "lucide-react";

const blogPosts = [
  {
    id: 1,
    title: "Facebook designs is dedicated to what's new in AI arts how to",
    date: "03/05/2024",
    author: "Ustaad Imran Sait",
    category: "Technology",
    image: "https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=600&h=400&fit=crop",
    excerpt: "Exploring the latest innovations in AI-powered learning experiences and education technology.",
  },
  {
    id: 2,
    title: "Facebook designs is dedicated to what's new in AI arts how to",
    date: "25/04/2024",
    author: "Admin",
    category: "Education",
    image: "https://images.unsplash.com/photo-1535223289827-42f1e9919769?w=600&h=400&fit=crop",
    excerpt: "Understanding the transformative power of word-by-word Quran translation methods.",
  },
  {
    id: 3,
    title: "Facebook designs is dedicated to what's new in AI arts how to",
    date: "15/04/2024",
    author: "Team WQTC",
    category: "Learning",
    image: "https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=600&h=400&fit=crop",
    excerpt: "How modern technology is revolutionizing the way we approach Islamic education.",
  },
];

export default function BlogSection() {
  return (
    <section className="py-16 md:py-24 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative overflow-hidden">
      {/* Hexagon Pattern */}
      <div className="absolute inset-0 opacity-[0.02]">
        <svg width="100%" height="100%">
          <defs>
            <pattern
              id="hexagons"
              x="0"
              y="0"
              width="50"
              height="43.4"
              patternUnits="userSpaceOnUse"
              patternTransform="scale(2)"
            >
              <polygon
                points="24.8,22 37.3,29.2 37.3,43.7 24.8,50.9 12.3,43.7 12.3,29.2"
                fill="none"
                stroke="#6366f1"
                strokeWidth="0.5"
              />
            </pattern>
          </defs>
          <rect width="100%" height="100%" fill="url(#hexagons)" />
        </svg>
      </div>

      {/* Animated Gradient Orbs */}
      <motion.div
        animate={{
          x: [0, 50, 0],
          y: [0, -30, 0],
        }}
        transition={{ duration: 15, repeat: Infinity }}
        className="absolute top-1/3 left-20 w-80 h-80 bg-gradient-to-br from-blue-200/30 to-purple-200/30 rounded-full blur-3xl"
      />

      <div className="container mx-auto px-4 relative z-10">
        {/* Section Header */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          className="text-center mb-12"
        >
          <Badge className="mb-4 bg-blue-100 text-blue-700">Latest Updates</Badge>
          <h2 className="text-3xl md:text-5xl font-bold mb-4">
            Latest News & Blogs
          </h2>
          <p className="text-slate-600 max-w-2xl mx-auto">
            Stay updated with our latest articles, announcements, and insights about learning the Quran
          </p>
        </motion.div>

        {/* Blog Grid */}
        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8">
          {blogPosts.map((post, index) => (
            <motion.div
              key={post.id}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: index * 0.1 }}
              whileHover={{ y: -8 }}
            >
              <Card className="overflow-hidden border-0 shadow-xl hover:shadow-2xl transition-all duration-300 h-full group bg-white">
                {/* Image */}
                <div className="relative h-48 overflow-hidden">
                  <Image
                    src={post.image}
                    alt={post.title}
                    fill
                    className="object-cover transition-transform duration-500 group-hover:scale-110"
                  />
                  <div className="absolute top-4 left-4">
                    <Badge className="bg-blue-600 text-white">
                      {post.category}
                    </Badge>
                  </div>
                </div>

                {/* Content */}
                <CardContent className="p-6 space-y-4">
                  {/* Meta */}
                  <div className="flex items-center gap-4 text-sm text-slate-500">
                    <div className="flex items-center gap-1">
                      <Calendar className="w-4 h-4" />
                      <span>{post.date}</span>
                    </div>
                    <div className="flex items-center gap-1">
                      <User className="w-4 h-4" />
                      <span>{post.author}</span>
                    </div>
                  </div>

                  {/* Title */}
                  <h3 className="text-xl font-bold text-slate-900 line-clamp-2 group-hover:text-blue-600 transition-colors">
                    {post.title}
                  </h3>

                  {/* Excerpt */}
                  <p className="text-slate-600 line-clamp-2">
                    {post.excerpt}
                  </p>

                  {/* Read More */}
                  <button className="text-blue-600 font-semibold text-sm hover:text-blue-700 transition-colors flex items-center gap-2 group/btn">
                    Read More
                    <ArrowRight className="w-4 h-4 group-hover/btn:translate-x-1 transition-transform" />
                  </button>
                </CardContent>
              </Card>
            </motion.div>
          ))}
        </div>

        {/* View All Button */}
        <motion.div
          initial={{ opacity: 0 }}
          whileInView={{ opacity: 1 }}
          viewport={{ once: true }}
          className="text-center"
        >
          <Button
            size="lg"
            className="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 shadow-xl"
          >
            View All Posts
            <ArrowRight className="w-5 h-5 ml-2" />
          </Button>
        </motion.div>
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\CaseStudiesSection.tsx
============================================================
"use client";

import { Card, CardContent } from "@/components/ui/card";
import { motion } from "framer-motion";
import { Laptop, Lightbulb, Languages, Clock, Brain, BadgeCheck } from "lucide-react";

// Use the two-color palette for all feature cards
const features = [
  {
    name: "Online Classes",
    description:
      "Attend live, interactive Word for Word Quran classes from anywhere in the world, guided by experienced instructors.",
    icon: Laptop,
    // bg light, text dark
    color: "bg-[#faf9f7] text-[#453142]",
  },
  {
    name: "Easy Methodology",
    description:
      "Learn Quran translation through a unique Word for Word teaching method, making understanding effortless for all levels.",
    icon: Lightbulb,
    color: "bg-[#faf9f7] text-[#453142]",
  },
  {
    name: "Multiple Languages",
    description:
      "Our Word for Word Quran courses are offered in English, Urdu, and Tamil to make learning accessible to everyone.",
    icon: Languages,
    color: "bg-[#faf9f7] text-[#453142]",
  },
  {
    name: "Flexible Time",
    description:
      "Choose timings that suit your schedule. Our flexible batch system for Word for Word classes fits your daily routine.",
    icon: Clock,
    color: "bg-[#faf9f7] text-[#453142]",
  },
  {
    name: "Greater Understanding",
    description:
      "Gain deeper meaning and true understanding of the Quran by studying each word and its translation in context.",
    icon: Brain,
    color: "bg-[#faf9f7] text-[#453142]",
  },
  {
    name: "Certified Teachers",
    description:
      "Learn from experienced and certified instructors who specialize in Word for Word Quran translation, ensuring quality and authenticity in every lesson.",
    icon: BadgeCheck,
    color: "bg-[#faf9f7] text-[#453142]",
  },
];

export default function CaseStudiesSection() {
  return (
    <section className="py-16 md:py-24 bg-white relative overflow-hidden">
      {/* Decorative Dotted Grid */}
      <div className="absolute inset-0 opacity-16 pointer-events-none z-0">
        <div
          className="absolute inset-0"
          style={{
            backgroundImage: `radial-gradient(circle, #45314222 1px, transparent 1px)`,
            backgroundSize: "30px 30px",
          }}
        />
      </div>
      {/* Decorative Gradient Circle */}
      <motion.div
        animate={{
          scale: [1, 1.1, 1],
          opacity: [0.22, 0.33, 0.22],
        }}
        transition={{ duration: 10, repeat: Infinity, ease: "linear" }}
        className="absolute top-[12%] right-20 w-96 h-96 bg-gradient-to-br from-[#453142]/10 to-[#faf9f7]/55 rounded-full blur-3xl z-0"
      />

      <div className="container mx-auto px-4 relative z-10">
        <motion.div
          initial={{ opacity: 0, y: 15 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          // Increased width for this intro block: max-w-4xl instead of max-w-2xl
          className="text-center mb-12 max-w-4xl mx-auto"
        >
          <h2 className="text-3xl md:text-5xl font-bold mb-2 text-[#453142]">
            Why Choose Us?
          </h2>
          <p className="text-lg text-[#453142]/80">
            We believe that authentic knowledge of the Quran is the key to better understand Islam and steer away from the misconceptions and superstitions. We are dedicated to spread the understanding of the Quran and Free translation of the Quran word by word. Our focus is to help the ummah build a strong relationship with the Quran using the simple Word for word learning technique.
          </p>
        </motion.div>
        <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-5xl mx-auto">
          {features.map((feature, index) => (
            <motion.div
              key={feature.name}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: index * 0.08 }}
              whileHover={{ y: -8, transition: { duration: 0.22 } }}
              className="flex justify-center"
            >
              <Card className="group relative overflow-hidden border-0 shadow-md hover:shadow-2xl transition-all duration-300 h-full bg-white rounded-3xl w-full max-w-[340px] flex flex-col">
                <CardContent className="flex flex-col flex-1 p-7 space-y-5 items-center text-center">
                  <motion.div
                    animate={{ scale: [1, 1.09, 1], rotate: [0, 6, 0] }}
                    transition={{
                      duration: 8,
                      repeat: Infinity,
                      ease: "easeInOut",
                      delay: index * 0.1,
                    }}
                    className={`w-14 h-14 ${feature.color} rounded-full flex items-center justify-center shadow-md mb-2 border-2 border-[#453142]/10`}
                  >
                    <feature.icon className="w-8 h-8" />
                  </motion.div>
                  <div className="font-extrabold text-lg text-[#453142]">
                    {feature.name}
                  </div>
                  <div className="text-[#453142]/85 text-sm leading-relaxed">
                    {feature.description}
                  </div>
                  <div className="flex-1" />
                </CardContent>
                {/* Subtle hover overlay */}
                <div className="absolute inset-0 bg-gradient-to-br from-[#faf9f7]/0 to-[#453142]/10 group-hover:from-[#faf9f7]/20 group-hover:to-[#453142]/15 transition-all duration-300 pointer-events-none" />
              </Card>
            </motion.div>
          ))}
        </div>
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\FAQSection.tsx
============================================================
"use client";

import { useState } from "react";
import { motion, AnimatePresence } from "framer-motion";
import { ChevronDown } from "lucide-react";

interface FAQItem {
  id: number;
  question: string;
  answer: string;
  category?: string;
}

const faqData: FAQItem[] = [
  {
    id: 1,
    question: "Where Can I Find Information?",
    answer: "You can find comprehensive information about our Quran translation classes in our Resource Library, which includes video lectures, audio recordings, and eBooks. You can also visit our About Us section to learn more about our methodology and our mentor, Ustaad Imran Sait.",
    category: "General",
  },
  {
    id: 2,
    question: "What Are Your Terms And Conditions?",
    answer: "Our classes are completely free of charge. We only ask that students attend regularly and complete their assignments. By enrolling, you agree to respect the sanctity of the Quran and maintain a conducive learning environment for all participants.",
    category: "General",
  },
  {
    id: 3,
    question: "Can I Buy Directly From The Factory?",
    answer: "All our educational materials, including eBooks and translations, are available for free download from our website. We don't sell any physical products. Our mission is to make Quranic knowledge accessible to everyone without any financial barriers.",
    category: "Materials",
  },
  {
    id: 4,
    question: "What Kinds of Payment Do You Accept?",
    answer: "We don't accept any payments as all our courses and resources are completely free. However, if you wish to support our mission, you can reach out to us through our Contact page for donation information.",
    category: "Payments",
  },
  {
    id: 5,
    question: "When do I receive my order?",
    answer: "There are no physical orders. All our resources, including video classes, audio lectures, and eBooks, are available instantly for streaming or download through our Resource Library. You can access them anytime, anywhere.",
    category: "Access",
  },
  {
    id: 6,
    question: "What languages are the classes available in?",
    answer: "Our Word for Word Quran translation classes are currently available in English, Urdu, and Tamil. We're working on adding more languages to reach a wider audience and make the Quran accessible to people worldwide.",
    category: "Languages",
  },
  {
    id: 7,
    question: "How do I enroll in online courses?",
    answer: "You can enroll in our free online courses by visiting the 'Online Courses' section and choosing between courses for Men, Women, or Weekend classes. Fill out the registration form and you'll receive joining details via email within 24 hours.",
    category: "Enrollment",
  },
  {
    id: 8,
    question: "Are the courses suitable for beginners?",
    answer: "Absolutely! Our Word for Word methodology is designed specifically for beginners. You don't need any prior knowledge of Arabic or Quranic studies. Ustaad Imran Sait's unique teaching approach makes understanding the Quran natural and accessible for everyone.",
    category: "Learning",
  },
];

export default function FAQSection() {
  const [openId, setOpenId] = useState<number | null>(faqData[0]?.id ?? null);

  return (
    <section className="w-full bg-[#faf9f7] py-16 md:py-24 border-0">
      <div className="max-w-7xl mx-auto px-4">
        <div className="w-full flex flex-col md:flex-row gap-16 md:gap-8">
          {/* Left: Title and description */}
          <div className="md:w-1/2 flex flex-col justify-center">
            {/* "F.A.Q" badge */}
            <span className="inline-block uppercase bg-[#e9e6e3] text-[#453142] text-xs px-3 py-1 rounded font-semibold tracking-wider mb-4" style={{letterSpacing:1}}>
              F.A.Q
            </span>
            <h2 className="text-[2.1rem] md:text-[3rem] font-extrabold text-[#2d2632] leading-tight mb-4">
              Frequently Asked <br className="hidden md:block" /> Questions
            </h2>
            <p className="text-[#877e8c] text-base md:text-lg max-w-md mb-10 md:mb-0">
              Cant find the answer? Please contact us and well be happy to help. Browse below for some commonly asked questions about our Quran translation classes and resources.
            </p>
            <hr className="mt-8 w-16 border-t-2 border-[#ad99b2]" />
          </div>
          {/* Right: FAQ Panel */}
          <div className="md:w-1/2 w-full flex flex-col items-stretch justify-center">
            <div className="w-full flex flex-col gap-0 border rounded bg-white border-[#e2dde2] shadow-sm">
              {/* Each FAQ as minimal panel */}
              {faqData.map((faq, idx) => (
                <div
                  key={faq.id}
                  className={`
                    ${idx !== 0 ? 'border-t' : ''}
                    border-[#e2dde2] bg-white 
                    ${openId === faq.id ? "z-10 relative" : ""}
                  `}
                  style={{
                    boxShadow: openId === faq.id
                      ? "0 2px 14px 0 rgba(92,62,99,0.08)"
                      : undefined,
                  }}
                >
                  <button
                    className={`
                      flex items-center w-full justify-between px-4 md:px-6 py-3.5 text-left 
                      font-semibold text-[#2d2632] bg-transparent focus:outline-none transition-colors
                      ${openId === faq.id
                        ? "bg-[#f7f2fa]"
                        : "hover:bg-[#f6f4fa]"
                      }
                    `}
                    aria-expanded={openId === faq.id}
                    onClick={() => setOpenId(openId === faq.id ? null : faq.id)}
                    tabIndex={0}
                  >
                    <span className="text-base">{faq.question}</span>
                    <span
                      className={`ml-4 transition-transform duration-300 ${openId === faq.id ? "rotate-180" : ""}`}
                    >
                      <ChevronDown className="w-5 h-5 text-[#9a82a6]" aria-hidden="true"/>
                    </span>
                  </button>
                  <AnimatePresence initial={false}>
                    {openId === faq.id && (
                      <motion.div
                        initial={{ opacity: 0, height: 0 }}
                        animate={{ opacity: 1, height: "auto" }}
                        exit={{ opacity: 0, height: 0 }}
                        transition={{ duration: 0.20, ease: "easeInOut" }}
                        className="overflow-hidden"
                      >
                        <div className="px-4 md:px-6 pb-4 text-[#5b4864] text-sm md:text-base leading-relaxed bg-[#f7f2fa] rounded-b">
                          {faq.answer}
                        </div>
                      </motion.div>
                    )}
                  </AnimatePresence>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\FeaturesSection.tsx
============================================================
"use client";

import { Card, CardContent } from "@/components/ui/card";
import { motion } from "framer-motion";

// Define letter-based icons for each language
function EnglishLetterIcon() {
  return (
    <span className="text-3xl font-extrabold text-[#453142] leading-none select-none" style={{ fontFamily: 'Inter, Arial, sans-serif' }}>
      A
    </span>
  );
}
function UrduLetterIcon() {
  // Single Urdu/Arabic letter: 
  return (
    <span className="text-2xl font-extrabold text-[#453142] leading-none select-none" style={{ fontFamily: 'Amiri, Arial, serif' }}>
      
    </span>
  );
}
function TamilLetterIcon() {
  // Single Tamil character: 
  return (
    <span className="text-2xl font-extrabold text-[#453142] leading-none select-none" style={{ fontFamily: "'Noto Sans Tamil', Arial, sans-serif" }}>
      
    </span>
  );
}
function OtherLetterIcon() {
  return (
    <span className="text-xl font-semibold text-[#453142] leading-none select-none tracking-wide">
      ...
    </span>
  );
}

// Define language cards
const languages = [
  {
    name: "English",
    description: "Free Online Quran Classes in English. Learn Quran online with qualified teachers.",
    icon: EnglishLetterIcon,
    color: "bg-[#453142]/10 text-[#453142]",
    highlight: "EN",
  },
  {
    name: "Urdu",
    description: "[translate:      \n              ]",
    icon: UrduLetterIcon,
    color: "bg-[#453142]/10 text-[#453142]",
    highlight: "",
  },
  {
    name: "Tamil",
    description: "[translate:   \n    , .]",
    icon: TamilLetterIcon,
    color: "bg-[#453142]/10 text-[#453142]",
    highlight: "",
  },
  {
    name: "Other",
    description: "Want classes in a different language? Reach out for more options and support.",
    icon: OtherLetterIcon,
    color: "bg-[#453142]/10 text-[#453142]",
    highlight: "Other",
  },
];

export default function FeaturesSection() {
  return (
    <section className="py-16 md:py-24 bg-gradient-to-b from-[#faf9f7] via-[#f5f3f0] to-white relative overflow-hidden">
      {/* Attractive gradient mesh and dotted overlay */}
      <div className="absolute inset-0 opacity-30 pointer-events-none">
        <motion.div
          animate={{ scale: [1, 1.1, 1], rotate: [0, 12, 0] }}
          transition={{ duration: 12, repeat: Infinity, ease: "linear" }}
          className="absolute -top-1/2 right-0 w-2/3 h-full bg-gradient-to-br from-[#453142]/40 via-[#6e4d66]/20 to-[#faf9f7]/20 blur-3xl rounded-full"
        />
        <div
          className="absolute inset-0"
          style={{
            backgroundImage: `
              radial-gradient(circle, rgba(69,49,66,0.07) 1px, transparent 1px)
            `,
            backgroundSize: "26px 26px",
          }}
        />
      </div>
      <div className="container mx-auto px-4 relative z-10">
        <motion.div
          initial={{ opacity: 0, y: 15 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          className="text-center mb-12"
        >
          <h2 className="text-3xl md:text-5xl font-bold mb-2 text-[#453142]">
            Find Your Quran Class by Language
          </h2>
          <p className="text-lg text-[#453142]/80">
            Join online Quran courses in English, Urdu, Tamil, or moreaccessible to everyone.
          </p>
        </motion.div>
        <div className="grid sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto">
          {languages.map((lang, index) => (
            <motion.div
              key={lang.name}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: index * 0.1 }}
              whileHover={{ y: -8, transition: { duration: 0.2 } }}
              className="flex justify-center"
            >
              {/* Make parent flex column and CardContent grow to align View Classes button */}
              <Card className="group relative overflow-hidden border-0 shadow-md hover:shadow-2xl transition-all duration-300 h-full bg-white rounded-3xl w-full max-w-[350px] flex flex-col">
                <CardContent className="flex flex-col flex-1 p-6 space-y-4">
                  <motion.div
                    animate={{ scale: [1, 1.12, 1], rotate: [0, 9, 0] }}
                    transition={{ duration: 4, repeat: Infinity, ease: "easeInOut", delay: index * 0.15 }}
                    className={`w-14 h-14 ${lang.color} rounded-full flex items-center justify-center shadow-md mx-auto mb-2`}
                  >
                    {/* Instead of icon, show the letters */}
                    <lang.icon />
                  </motion.div>
                  <div className="text-center">
                    <div className="font-extrabold text-lg text-[#453142] mb-1">{lang.name}</div>
                    <div className="inline-block text-xs bg-[#453142]/10 text-[#453142] py-1 px-3 rounded-full mb-2 font-semibold">
                      {lang.highlight}
                    </div>
                  </div>
                  {/* Maintain correct markup for translation in descriptions */}
                  <div className="text-[#453142]/85 text-sm leading-relaxed text-center min-h-[52px]">
                    {lang.name === "Urdu" ? (
                      <span>      <br/>              </span>
                    ) : lang.name === "Tamil" ? (
                      <span>   <br/>    , .</span>
                    ) : (
                      lang.description
                    )}
                  </div>
                  {/* Spacer to push the button down if needed */}
                  <div className="flex-1" />
                  <button
                    className="w-full mt-2 py-2 rounded-xl bg-[#453142] text-[#faf9f7] font-semibold text-sm hover:bg-[#5a3f54] transition-all"
                  >
                    View Classes
                  </button>
                </CardContent>
                {/* Subtle hover overlay */}
                <div className="absolute inset-0 bg-gradient-to-br from-[#faf9f7]/0 to-[#453142]/10 group-hover:from-[#6e4d66]/5 group-hover:to-[#453142]/25 transition-all duration-300 pointer-events-none" />
              </Card>
            </motion.div>
          ))}
        </div>
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\HeroSection.tsx
============================================================
"use client";

import { Button } from "@/components/ui/button";
import { motion, AnimatePresence } from "framer-motion";
import Link from "next/link";
import useEmblaCarousel from "embla-carousel-react";
import Autoplay from "embla-carousel-autoplay";
import { useCallback, useEffect, useState } from "react";
import { ChevronLeft, ChevronRight, Play, BookOpen } from "lucide-react";
import Image from "next/image";

const heroSlides = [
  {
    id: 1,
    title: "Learn the Qur'an translation",
    highlight: "Word for Word",
    description: "Understanding Quran becomes natural with our innovative teaching methodology",
    primaryCTA: "Watch Classes",
    secondaryCTA: "Learn More",
    backgroundImage: "https://images.unsplash.com/photo-1618554844984-d4ed47c7e0c0?q=80&w=2069&auto=format&fit=crop",
  },
  {
    id: 2,
    title: "Master Quran Translation",
    highlight: "Step by Step",
    description: "Join thousands of students learning Quran translation in English, Urdu, and Tamil",
    primaryCTA: "Join for Free",
    secondaryCTA: "View Library",
    backgroundImage: "https://images.unsplash.com/photo-1643860636409-1952e6e30145?q=80&w=1073&auto=format&fit=crop",
  },
  {
    id: 3,
    title: "Transform Your Life",
    highlight: "Through Quran",
    description: "Experience life-changing impact through understanding Allah's message",
    primaryCTA: "Start Learning",
    secondaryCTA: "Contact Us",
    backgroundImage: "https://images.unsplash.com/photo-1619616962999-b0dcf060c93f?q=80&w=1170&auto=format&fit=crop",
  },
];


const floatingDots = [
  { top: "10%", left: "15%", delay: "0s", size: "w-2 h-2" },
  { top: "25%", left: "85%", delay: "0.5s", size: "w-3 h-3" },
  { top: "45%", left: "20%", delay: "1s", size: "w-2 h-2" },
  { top: "60%", left: "75%", delay: "1.5s", size: "w-4 h-4" },
  { top: "75%", left: "30%", delay: "0.3s", size: "w-2 h-2" },
  { top: "35%", left: "90%", delay: "1.2s", size: "w-3 h-3" },
  { top: "85%", left: "50%", delay: "0.8s", size: "w-2 h-2" },
  { top: "20%", left: "60%", delay: "1.8s", size: "w-3 h-3" },
];

export default function HeroSection() {
  const [emblaRef, emblaApi] = useEmblaCarousel({ loop: true }, [
    Autoplay({ delay: 5000, stopOnInteraction: false }),
  ]);
  const [selectedIndex, setSelectedIndex] = useState(0);

  const scrollPrev = useCallback(() => emblaApi && emblaApi.scrollPrev(), [emblaApi]);
  const scrollNext = useCallback(() => emblaApi && emblaApi.scrollNext(), [emblaApi]);

  const onSelect = useCallback(() => {
    if (!emblaApi) return;
    setSelectedIndex(emblaApi.selectedScrollSnap());
  }, [emblaApi]);

  useEffect(() => {
    if (!emblaApi) return;
    onSelect();
    emblaApi.on("select", onSelect);
    return () => {
      emblaApi.off("select", onSelect);
    };
  }, [emblaApi, onSelect]);

  return (
    <section className="relative overflow-hidden">
      <div className="embla" ref={emblaRef}>
        <div className="embla__container flex">
          {heroSlides.map((slide, index) => (
            <div key={slide.id} className="embla__slide flex-[0_0_100%] min-w-0">
              <div className="relative overflow-hidden min-h-[calc(100vh-4rem)]">
                {/* Background Image */}
                <div className="absolute inset-0">
                  <Image
                    src={slide.backgroundImage}
                    alt="Quran background"
                    fill
                    className="object-cover"
                    priority={index === 0}
                  />
                  
                  {/* Subtle vignette effect */}
                  <div className="absolute inset-0 bg-gradient-radial from-transparent via-transparent to-black/30" />
                </div>

                {/* WHITE OVERLAY LAYER - Added between image and content */}
                <div className="absolute inset-0 bg-white/70 backdrop-blur-sm" />

                {/* Subtle gradient orbs - reduced opacity */}
                <div className="absolute top-20 -right-32 w-96 h-96 bg-gradient-to-br from-[#453142]/10 to-[#453142]/5 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float" />
                <div
                  className="absolute -bottom-20 -left-32 w-96 h-96 bg-gradient-to-br from-[#453142]/10 to-[#453142]/5 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-float"
                  style={{ animationDelay: "2s" }}
                />

                <div className="container relative mx-auto px-4 py-20 md:py-32 lg:py-40">
                  <div className="grid lg:grid-cols-2 gap-12 items-center">
                    {/* Left content */}
                    <AnimatePresence mode="wait">
                      {selectedIndex === index && (
                        <motion.div
                          key={slide.id}
                          initial={{ opacity: 0, y: 50 }}
                          animate={{ opacity: 1, y: 0 }}
                          exit={{ opacity: 0, y: -50 }}
                          transition={{ duration: 0.6, ease: "easeOut" }}
                          className="space-y-8 z-10"
                        >
                          {/* Title - removed text shadow since white overlay provides readability */}
                          <motion.h1
                            className="text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold tracking-tight leading-tight text-[#453142]"
                            initial={{ opacity: 0, x: -50 }}
                            animate={{ opacity: 1, x: 0 }}
                            transition={{ delay: 0.3, duration: 0.6 }}
                          >
                            {slide.title}{" "}
                            <span className="relative inline-block">
                              <span className="relative z-10 text-[#453142] font-extrabold">
                                {slide.highlight}
                              </span>
                              <motion.span
                                className="absolute bottom-2 left-0 w-full h-4 bg-[#faf9f7] -rotate-1"
                                animate={{
                                  scaleX: [0, 1],
                                  opacity: [0, 1],
                                }}
                                transition={{ delay: 0.8, duration: 0.6 }}
                              />
                            </span>
                          </motion.h1>

                          <motion.p
                            className="text-lg md:text-xl text-[#453142] max-w-2xl leading-relaxed font-medium"
                            initial={{ opacity: 0 }}
                            animate={{ opacity: 1 }}
                            transition={{ delay: 0.5 }}
                          >
                            {slide.description}
                          </motion.p>

                          {/* CTA Buttons */}
                          <motion.div
                            className="flex flex-col sm:flex-row gap-4"
                            initial={{ opacity: 0, y: 20 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ delay: 0.8 }}
                          >
                            <Button
                              size="lg"
                              className="group relative bg-[#453142] hover:bg-[#5a3f54] text-[#faf9f7] shadow-2xl shadow-[#453142]/50 px-8 overflow-hidden font-semibold"
                              asChild
                            >
                              <Link href="#videos">
                                <span className="relative z-10 flex items-center gap-2">
                                  <Play className="h-5 w-5 group-hover:scale-110 transition-transform" />
                                  {slide.primaryCTA}
                                </span>
                                <span className="absolute inset-0 bg-gradient-to-r from-[#5a3f54] to-[#453142] opacity-0 group-hover:opacity-100 transition-opacity blur-xl" />
                              </Link>
                            </Button>
                            <Button
                              size="lg"
                              variant="outline"
                              className="group border-2 border-[#453142] hover:bg-[#453142] text-[#453142] hover:text-[#faf9f7] px-8 bg-white/80"
                              asChild
                            >
                              <Link href="/about">
                                <BookOpen className="h-5 w-5 mr-2 group-hover:scale-110 transition-transform" />
                                {slide.secondaryCTA}
                              </Link>
                            </Button>
                          </motion.div>
                        </motion.div>
                      )}
                    </AnimatePresence>

                    {/* Right - 3D Visual Effect with Quran Image */}
                    <AnimatePresence mode="wait">
                      {selectedIndex === index && (
                        <motion.div
                          key={`visual-${slide.id}`}
                          initial={{ opacity: 0, scale: 0.8, rotateY: -30 }}
                          animate={{ opacity: 1, scale: 1, rotateY: 0 }}
                          exit={{ opacity: 0, scale: 0.8, rotateY: 30 }}
                          transition={{ duration: 0.8, ease: "easeOut" }}
                          className="relative hidden lg:block perspective-1000"
                        >
                          <div className="relative w-full aspect-square max-w-lg mx-auto transform-gpu">
                            {/* Glassmorphic circles with 3D effect */}
                            <motion.div
                              className="absolute inset-0 bg-gradient-to-br from-[#453142]/20 to-[#453142]/10 rounded-full backdrop-blur-sm border border-[#453142]/30 shadow-2xl"
                              animate={{
                                rotate: 360,
                                scale: [1, 1.05, 1],
                              }}
                              transition={{
                                rotate: { duration: 20, repeat: Infinity, ease: "linear" },
                                scale: { duration: 4, repeat: Infinity, ease: "easeInOut" },
                              }}
                            />
                            <motion.div
                              className="absolute inset-8 bg-gradient-to-br from-[#453142]/30 to-[#453142]/20 rounded-full backdrop-blur-sm border border-[#453142]/30"
                              animate={{
                                rotate: -360,
                                scale: [1, 1.08, 1],
                              }}
                              transition={{
                                rotate: { duration: 15, repeat: Infinity, ease: "linear" },
                                scale: {
                                  duration: 3,
                                  repeat: Infinity,
                                  ease: "easeInOut",
                                  delay: 0.5,
                                },
                              }}
                            />
                            <motion.div
                              className="absolute inset-16 bg-gradient-to-br from-[#453142]/40 to-[#453142]/30 rounded-full backdrop-blur-sm flex items-center justify-center border border-[#453142]/40 shadow-inner overflow-hidden"
                              animate={{
                                scale: [1, 1.1, 1],
                              }}
                              transition={{
                                scale: {
                                  duration: 2.5,
                                  repeat: Infinity,
                                  ease: "easeInOut",
                                  delay: 1,
                                },
                              }}
                            >
                              {/* Quran Image in Center Circle */}
                              <div className="relative w-full h-full rounded-full overflow-hidden">
                                <Image
                                  src="https://images.unsplash.com/photo-1609599006353-e629aaabfeae?q=80&w=800"
                                  alt="Holy Quran"
                                  fill
                                  className="object-cover opacity-90"
                                />
                              </div>
                            </motion.div>

                            {/* Orbiting particles */}
                            <div className="absolute inset-0">
                              {floatingDots.map((dot, i) => (
                                <motion.div
                                  key={i}
                                  className={`absolute ${dot.size} bg-gradient-to-br from-[#453142] to-[#5a3f54] rounded-full shadow-lg`}
                                  style={{
                                    top: dot.top,
                                    left: dot.left,
                                  }}
                                  animate={{
                                    y: [0, -20, 0],
                                    opacity: [0.4, 0.8, 0.4],
                                    scale: [1, 1.2, 1],
                                  }}
                                  transition={{
                                    duration: 3,
                                    repeat: Infinity,
                                    ease: "easeInOut",
                                    delay: parseFloat(dot.delay),
                                  }}
                                />
                              ))}
                            </div>
                          </div>
                        </motion.div>
                      )}
                    </AnimatePresence>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>

      {/* Carousel Controls */}
      <div className="absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex items-center gap-6">
        {/* Navigation Arrows */}
        <button
          onClick={scrollPrev}
          className="group p-3 rounded-full bg-[#453142]/80 backdrop-blur-md border border-[#faf9f7]/20 hover:bg-[#453142] transition-all duration-300 shadow-lg"
          aria-label="Previous slide"
        >
          <ChevronLeft className="h-6 w-6 text-[#faf9f7] group-hover:scale-110 transition-transform" />
        </button>

        {/* Dots Indicator */}
        <div className="flex gap-2">
          {heroSlides.map((_, index) => (
            <button
              key={index}
              onClick={() => emblaApi?.scrollTo(index)}
              className={`h-2 rounded-full transition-all duration-300 ${
                index === selectedIndex
                  ? "w-8 bg-[#453142]"
                  : "w-2 bg-[#453142]/40 hover:bg-[#453142]/60"
              }`}
              aria-label={`Go to slide ${index + 1}`}
            />
          ))}
        </div>

        <button
          onClick={scrollNext}
          className="group p-3 rounded-full bg-[#453142]/80 backdrop-blur-md border border-[#faf9f7]/20 hover:bg-[#453142] transition-all duration-300 shadow-lg"
          aria-label="Next slide"
        >
          <ChevronRight className="h-6 w-6 text-[#faf9f7] group-hover:scale-110 transition-transform" />
        </button>
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\ImageGallerySection.tsx
============================================================
// components/sections/ImageGallerySection.tsx
"use client";

import React, { useEffect, useMemo, useRef, useState } from "react";
import { motion, AnimatePresence } from "framer-motion";
import Image from "next/image";
import { Play, ChevronLeft, ChevronRight, Maximize, X } from "lucide-react";

/**
 * Premium Video Carousel / Gallery (fixed height alignment)
 *
 * NOTE:
 * - If you use Next Image optimization, add 'img.youtube.com' to next.config.js images.domains
 * - Only layout/CSS changes compared to previous: grid -> items-stretch, both columns h-full,
 *   right card is flex-col h-full, and a few min-h-0 additions so children can shrink.
 */

type VideoItem = {
  id: string;
  title: string;
  description: string;
  speaker: string;
  youTube: string;
};

const AUTO_ADVANCE_MS = 7000;
const TRANSITION_DURATION = 0.36;

const VIDEOS: VideoItem[] = [
  {
    id: "v1",
    title: "Views of Shaikh Aneesur Rahman Sahib on Word For Word Quran Translation Classes",
    description: "Shaikh Aneesur Rahman Sahib shares his valuable views on Word For Word Quran Translation Classes.",
    speaker: "Shaikh Aneesur Rahman Sahib",
    youTube: "https://www.youtube.com/watch?v=XsTL8hOjlXM"
  },
  {
    id: "v2",
    title: "Views of Shaikh Hafeezur Rahman Azami Umari Madani on Word for Word Quran Translation Classes",
    description: "Shaikh Hafeezur Rahman Azami Umari Madani shares his valuable views on Word for Word Quran Translation Classes.",
    speaker: "Shaikh Hafeezur Rahman Azami Umari Madani",
    youTube: "https://www.youtube.com/watch?v=bMDk0XgFzHw"
  },
  {
    id: "v3",
    title: "Views of Shaikh Abdullah Hyderabadi Umari Madani on Word for Word Quran Translation Classes",
    description: "Shaikh Abdullah Hyderabadi Umari Madani shares his valuable views on Word For Word Quran Translation Classes.",
    speaker: "Shaikh Abdullah Hyderabadi Umari Madani",
    youTube: "https://www.youtube.com/watch?v=dnzKCSBmvq4"
  },
  {
    id: "v4",
    title: "The Importance of Understanding Quran",
    description: "The Importance of Understanding the Quran By Moulana Khan Baqavi (Speech in Tamil).",
    speaker: "Moulana Khan Baqavi",
    youTube: "https://www.youtube.com/watch?v=lZfcrA60YuM"
  },
  {
    id: "v5",
    title: "Importance of Understanding Quran",
    description: "A Reminder on Importance of Understanding the QuranBy Shaih hafeez-ur-Rehman.",
    speaker: "Shaih hafeez-ur-Rehman",
    youTube: "https://www.youtube.com/watch?v=axopbH_wFwc"
  },
  {
    id: "v6",
    title: "Word for Word Translation - Scholar's Views",
    description: "Shaikh Dr. Abdul Rahim's Views on Word for Word Translation Classes. Shaikh Dr. Abdul Rahim is the Director of King Fahad Quran Printing Complex, and is the Head of Translations Department.",
    speaker: "Shaikh Dr. Abdul Rahim",
    youTube: "https://www.youtube.com/watch?v=uqdFyw5v0Nc"
  },
  {
    id: "v7",
    title: "Shaikh Dahee's appreciation for Ustaadh Imran Sait",
    description: "Shaikh Dahee is the Chief Imam of Islamic Center Johnson County. WORD FOR WORD QURAN Class is a 225 Hours course in which we go through the complete Quran beginning from Surah Al-Fathihah up to Surah An-Naas, wherein the participants are taught basic Grammar and the vocabulary relevant to understanding the Quran. We also quote the relevant Hadeeth of the Prophet Muhammad     wherever required. We do not charge any fee for conducting the same.",
    speaker: "Shaikh Dahee",
    youTube: "https://www.youtube.com/watch?v=PEaHljC37_g"
  },
  {
    id: "v8",
    title: "Discussion Between Shaikh Abdul Hameed and Imran Sait",
    description: "An Interview / Discussion between Shaikh Abdul Hameed and Ustaadh Imran Sait, in Islamic Center Kansas City, U S A. WORD FOR WORD QURAN Class is a 225 Hours course in which we go through the complete Quran beginning from Surah Al-Fathihah up to Surah An-Naas, wherein the participants are taught basic Grammar and the vocabulary relevant to understanding the Quran. We also quote the relevant Hadeeth of the Prophet Muhammad     wherever required. We do not charge any fee for conducting the same.",
    speaker: "Shaikh Abdul Hameed & Ustaadh Imran Sait",
    youTube: "https://www.youtube.com/watch?v=THxtDA5bQCU"
  },
  {
    id: "v9",
    title: "Hafiz Riyaad Mohammed Rinquest, Imam of Minto Masjid endorsing Quran Classes",
    description: "During the visit of Ustaad Imran Sait to Australia (Nov, 2023), the Imam of Minto Masjid shares his valuable advice and guidance to the Muslim community, encouraging them to join the Quran Classes conducted by Ustaad.",
    speaker: "Hafiz Riyaad Mohammed Rinquest (Imam, Minto Masjid, Australia)",
    youTube: "https://www.youtube.com/watch?v=HRmRsUmm-gY"
  },
];

function extractYouTubeId(urlOrId?: string) {
  if (!urlOrId) return "";
  const s = urlOrId.trim();
  if (!s.includes("/") && s.length >= 6 && s.length <= 20) return s;
  const re = /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/|v\/|shorts\/)|youtu\.be\/)([A-Za-z0-9_-]{6,})/;
  const m = s.match(re);
  return m ? m[1] : "";
}
function ytThumb(id: string) {
  return id ? `https://img.youtube.com/vi/${id}/hqdefault.jpg` : "";
}

export default function ImageGallerySection(): React.ReactElement {
  const videos = useMemo(() => VIDEOS.map((v, i) => ({ ...v, index: i, ytId: extractYouTubeId(v.youTube) })), []);
  const total = videos.length;

  const [active, setActive] = useState(0);
  const [isPaused, setIsPaused] = useState(false);
  const [playerLoaded, setPlayerLoaded] = useState(true);
  const [modalOpen, setModalOpen] = useState(false);

  const thumbsRef = useRef<HTMLDivElement | null>(null);
  const containerRef = useRef<HTMLDivElement | null>(null);
  const progressRef = useRef<HTMLDivElement | null>(null);

  useEffect(() => {
    if (isPaused) return;
    const id = setInterval(() => setActive((s) => (s + 1) % total), AUTO_ADVANCE_MS);
    return () => clearInterval(id);
  }, [isPaused, total]);

  useEffect(() => {
    const onKey = (e: KeyboardEvent) => {
      if (e.key === "ArrowLeft") prev();
      if (e.key === "ArrowRight") next();
      if (e.key === "Escape" && modalOpen) setModalOpen(false);
    };
    window.addEventListener("keydown", onKey);
    return () => window.removeEventListener("keydown", onKey);
  }, [modalOpen]);

  useEffect(() => {
    const el = thumbsRef.current?.querySelector(`[data-thumb-index="${active}"]`) as HTMLElement | null;
    if (el && thumbsRef.current) {
      const parent = thumbsRef.current;
      const px = el.offsetLeft - parent.clientWidth / 2 + el.clientWidth / 2;
      parent.scrollTo({ left: px, behavior: "smooth" });
    }
    setPlayerLoaded(true);
    animateProgress();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [active]);

  const animateProgress = () => {
    const el = progressRef.current;
    if (!el) return;
    el.style.transition = "none";
    el.style.width = "0%";
    requestAnimationFrame(() => {
      requestAnimationFrame(() => {
        el.style.transition = `width ${AUTO_ADVANCE_MS}ms linear`;
        el.style.width = "100%";
      });
    });
  };

  useEffect(() => {
    let startX = 0,
      delta = 0;
    const el = containerRef.current;
    if (!el) return;
    const onStart = (e: TouchEvent) => {
      startX = e.touches[0].clientX;
      delta = 0;
    };
    const onMove = (e: TouchEvent) => {
      delta = e.touches[0].clientX - startX;
    };
    const onEnd = () => {
      if (Math.abs(delta) > 60) (delta > 0 ? prev() : next());
    };
    el.addEventListener("touchstart", onStart);
    el.addEventListener("touchmove", onMove);
    el.addEventListener("touchend", onEnd);
    return () => {
      el.removeEventListener("touchstart", onStart);
      el.removeEventListener("touchmove", onMove);
      el.removeEventListener("touchend", onEnd);
    };
  }, [active]);

  function prev() { setActive((s) => (s === 0 ? total - 1 : s - 1)); }
  function next() { setActive((s) => (s === total - 1 ? 0 : s + 1)); }
  function go(i: number) { setActive(i % total); }

  const onThumbClick = (i: number) => {
    setActive(i);
    setIsPaused(true);
    setTimeout(() => setIsPaused(false), 1200);
  };

  return (
    <section className="py-16 md:py-24 bg-[#fcfbfb]">
      <div className="container mx-auto px-4">
        <h2 className="text-3xl md:text-4xl font-serif text-[#2b2130] mb-6">Views of Eminent Scholars about our Classes</h2>

        {/* KEY FIXES:
            - items-stretch makes both columns match height
            - min-h-0 allows flex children to shrink correctly
            - right column uses flex-col + h-full so its internals are predictable
        */}
        <div
          ref={containerRef}
          onMouseEnter={() => setIsPaused(true)}
          onMouseLeave={() => setIsPaused(false)}
          onFocus={() => setIsPaused(true)}
          onBlur={() => setIsPaused(false)}
          className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-stretch min-h-0"
        >
          {/* LEFT - details */}
          <div className="lg:col-span-5 flex">
            <article className="bg-white rounded-2xl p-8 shadow-md border border-[#efeaf1] h-full flex flex-col justify-between min-h-0">
              <div>
                <h3 className="text-2xl font-semibold text-[#2b2130] leading-tight">{videos[active].title}</h3>
                <p className="mt-4 text-[#6b5158] leading-relaxed">{videos[active].description}</p>

                <div className="mt-6 flex items-center gap-4">
                  <div className="w-14 h-14 flex items-center justify-center rounded-full bg-[#efe6ee] text-[#453142] font-semibold text-sm">
                    {videos[active].speaker.split(" ").map(n => n[0]).slice(0, 2).join("")}
                  </div>
                  <div>
                    <div className="text-sm text-[#7a636b]">Speaker</div>
                    <div className="font-medium text-[#2b2130]">{videos[active].speaker}</div>
                  </div>
                </div>

                <div className="mt-6 text-sm text-[#7a636b] border-t pt-4">
                  <ul className="list-disc pl-5 space-y-2">
                    <li>Concise scholar remarks and testimonials.</li>
                    <li>Short, watchable clipsperfect for website visitors.</li>
                    <li>No fees  just commitment. Suitable for all learners.</li>
                  </ul>
                </div>
              </div>

              <div className="mt-6 flex gap-3 items-center">
                <button onClick={() => setPlayerLoaded(true)} className="inline-flex items-center gap-3 rounded-full bg-[#453142] text-white px-4 py-2 shadow hover:bg-[#7e5e77] transition">
                  <Play className="w-4 h-4" /> Watch Now
                </button>

                <button onClick={() => setModalOpen(true)} className="inline-flex items-center gap-2 rounded-full border px-3 py-2 text-sm text-[#453142] hover:bg-[#ebe6ef] transition">
                  <Maximize className="w-4 h-4" /> Fullscreen
                </button>

                <div className="ml-auto text-sm text-[#7a636b]">{active + 1} / {total}</div>
              </div>
            </article>
          </div>

          {/* RIGHT - Player + controls */}
          <div className="lg:col-span-7 flex flex-col h-full min-h-0">
            <div className="bg-white rounded-2xl overflow-hidden shadow-xl border border-[#efeaf1] flex flex-col h-full min-h-0">
              {/* Player stage */}
              <div className="relative bg-black flex-shrink-0">
                {/* Keep aspect ratio but contained inside flex-column */}
                <div className="aspect-video w-full min-h-0">
                  <AnimatePresence mode="wait">
                    <motion.div key={videos[active].id} initial={{ opacity: 0, x: 24 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -24 }} transition={{ duration: TRANSITION_DURATION }} className="w-full h-full">
                      {playerLoaded && videos[active].ytId ? (
                        <iframe
                          title={videos[active].title}
                          src={`https://www.youtube.com/embed/${videos[active].ytId}?rel=0&modestbranding=1`}
                          className="w-full h-full"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                          allowFullScreen
                          loading="lazy"
                        />
                      ) : (
                        <div className="w-full h-full relative flex items-center justify-center">
                          <Image src={ytThumb(videos[active].ytId)} alt={videos[active].title} fill className="object-cover opacity-80" sizes="(max-width: 1024px) 100vw, 900px" />
                          <button onClick={() => setPlayerLoaded(true)} aria-label="Play video" className="absolute z-20 inline-flex items-center gap-2 px-5 py-3 rounded-full bg-[#453142]/95 text-white hover:bg-[#7e5e77] transition">
                            <Play className="w-4 h-4" /> Play
                          </button>
                        </div>
                      )}
                    </motion.div>
                  </AnimatePresence>
                </div>
                {/* top progress */}
                <div className="absolute left-0 right-0 top-0 h-1 bg-[#f2ecf4]">
                  <div ref={progressRef} className="h-full bg-[#453142] w-0" />
                </div>

                {/* navigation arrows */}
                <button onClick={prev} aria-label="Previous video" className="hidden md:flex absolute left-4 top-1/2 -translate-y-1/2 z-30 items-center justify-center w-10 h-10 rounded-full bg-white/90 hover:bg-white text-[#453142] shadow">
                  <ChevronLeft className="w-5 h-5" />
                </button>
                <button onClick={next} aria-label="Next video" className="hidden md:flex absolute right-4 top-1/2 -translate-y-1/2 z-30 items-center justify-center w-10 h-10 rounded-full bg-white/90 hover:bg-white text-[#453142] shadow">
                  <ChevronRight className="w-5 h-5" />
                </button>

                {/* bottom overlay */}
                <div className="absolute left-0 right-0 bottom-0 p-4 bg-gradient-to-t from-black/60 to-transparent">
                  <div className="flex items-center gap-4">
                    <div className="flex items-center gap-3">
                      <div className="w-14 h-10 relative rounded overflow-hidden bg-[#efe6ee] flex-shrink-0">
                        <Image src={ytThumb(videos[active].ytId)} alt={videos[active].title} fill className="object-cover" sizes="56px" />
                      </div>
                      <div>
                        <div className="text-sm font-semibold text-white line-clamp-1">{videos[active].title}</div>
                        <div className="text-xs text-[#ddd] opacity-90">{videos[active].speaker}</div>
                      </div>
                    </div>

                    <div className="ml-auto flex items-center gap-2">
                      <button type="button" aria-label="Toggle player load" onClick={() => setPlayerLoaded((p) => !p)} className="hidden sm:inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 text-white">
                        {playerLoaded ? "Unload" : "Load"}
                      </button>

                      <button type="button" aria-label="Open fullscreen" onClick={() => setModalOpen(true)} className="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/20 text-white">
                        <Maximize className="w-4 h-4" />
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              {/* thumbnails + dots (bottom area) */}
              <div className="px-4 py-4 bg-white mt-auto">
                <div ref={thumbsRef} className="flex gap-3 overflow-x-auto scrollbar-hide py-1">
                  {videos.map((v, i) => (
                    <button key={v.id} data-thumb-index={i} onClick={() => onThumbClick(i)} className={`relative min-w-[140px] h-20 rounded-lg overflow-hidden flex-shrink-0 transition transform hover:scale-105 focus:outline-none ${i === active ? "ring-2 ring-[#cdabff]/60" : ""}`} aria-label={`Select ${v.title}`}>
                      <Image src={ytThumb(v.ytId)} alt={v.title} fill className="object-cover" sizes="140px" />
                      <div className="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 hover:opacity-60 transition-opacity" />
                      <div className="absolute left-3 bottom-3 right-3 text-xs text-white font-medium line-clamp-1">{v.speaker}</div>
                      <div className={`absolute -top-2 -left-2 w-3 h-3 rounded-full border ${i === active ? "bg-[#453142] border-white" : "bg-white/70 border-white/40"} shadow-sm`} />
                    </button>
                  ))}
                </div>

                <div className="mt-3 flex items-center justify-center gap-2">
                  {videos.map((_, i) => (
                    <button key={`dot-${i}`} onClick={() => go(i)} aria-label={`Go to slide ${i + 1}`} className={`w-3 h-3 rounded-full transition ${i === active ? "bg-[#453142]" : "bg-[#efeaf1]"}`} />
                  ))}
                </div>
              </div>
            </div>
          </div>
        </div>

        <div className="mt-6 text-xs text-[#7a636b]"><strong>Note:</strong> These clips are short excerpts from scholar remarks about our Word-for-Word Quran Translation Classes.</div>
      </div>

      {/* fullscreen modal */}
      <AnimatePresence>
        {modalOpen && (
          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="fixed inset-0 z-[2000] flex items-center justify-center p-4" role="dialog" aria-modal="true">
            <div className="absolute inset-0 bg-black/80" onClick={() => setModalOpen(false)} />
            <motion.div initial={{ scale: 0.96, opacity: 0 }} animate={{ scale: 1, opacity: 1 }} exit={{ scale: 0.96, opacity: 0 }} transition={{ duration: 0.18 }} className="relative max-w-6xl w-full bg-black rounded-xl overflow-hidden">
              <button aria-label="Close fullscreen" onClick={() => setModalOpen(false)} className="absolute top-3 right-3 z-40 inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/10 text-white hover:bg-white/20">
                <X className="w-5 h-5" />
              </button>
              <div className="aspect-video">
                <iframe title={videos[active].title} src={`https://www.youtube.com/embed/${videos[active].ytId}?rel=0&modestbranding=1&autoplay=1`} className="w-full h-full" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen />
              </div>
              <div className="p-5 bg-white">
                <div className="text-lg font-semibold text-[#2b2130]">{videos[active].title}</div>
                <div className="text-sm text-[#6b5158] mt-2">{videos[active].description}</div>
                <div className="text-sm text-[#7a636b] mt-3"><strong>Speaker:</strong> {videos[active].speaker}</div>
              </div>
            </motion.div>
          </motion.div>
        )}
      </AnimatePresence>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\NoticesSection.tsx
============================================================
"use client";

import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { motion } from "framer-motion";
import { Calendar, MapPin } from "lucide-react";

const events = [
  {
    id: 1,
    date: "03/05/2024",
    title: "USA Tour May-2024 | Jumma Khutbah",
    location: "Islamic Association of Allen",
    type: "past",
  },
  {
    id: 2,
    date: "25/04/2024",
    title: "Word For Word Concept of Learning Quran",
    location: "Islamic Community Center of Des Plaines",
    type: "past",
  },
  {
    id: 3,
    date: "16/07/2023",
    title: "Guest Lecture - Understanding Quran",
    location: "Masjid Jafar, Atlanta USA",
    type: "past",
  },
];

export default function NoticesSection() {
  return (
    <section className="py-16 md:py-24 bg-gradient-to-b from-[#faf9f7] to-white">
      <div className="container mx-auto px-4">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          className="text-center mb-12"
        >
          <h2 className="text-3xl md:text-5xl font-bold mb-4 text-[#453142]">
            Recent / Upcoming Events
          </h2>
          <p className="text-[#453142]/80 text-lg">
            Join our sessions and lectures worldwide
          </p>
        </motion.div>

        <div className="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
          {events.map((event, index) => (
            <motion.div
              key={event.id}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: index * 0.1 }}
            >
              <Card className="h-full rounded-2xl bg-[#faf9f7] hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 border-0 shadow-md">
                <CardContent className="p-6">
                  <div className="flex items-center justify-between mb-4">
                    <Badge className="bg-[#453142] text-[#faf9f7] px-3 py-1 font-semibold">{event.type === "past" ? "Past Event" : "Upcoming"}</Badge>
                    <div className="flex items-center gap-1 text-sm text-[#453142] font-semibold">
                      <Calendar className="h-4 w-4" />
                      <span>{event.date}</span>
                    </div>
                  </div>
                  <h3 className="text-xl font-extrabold mb-3 min-h-[56px] text-[#453142]">
                    {event.title}
                  </h3>
                  <div className="flex items-start gap-2 text-sm text-[#453142]/80">
                    <MapPin className="h-4 w-4 mt-0.5 flex-shrink-0" />
                    <span>{event.location}</span>
                  </div>
                </CardContent>
              </Card>
            </motion.div>
          ))}
        </div>
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\PricingSection.tsx
============================================================
"use client";

import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { motion } from "framer-motion";
import { Check } from "lucide-react";

const pricingPlans = [
  {
    name: "FREE",
    price: "$0",
    period: "month",
    features: [
      "Access to beginner courses",
      "Community support",
      "Basic learning resources",
      "Mobile app access",
      "Monthly live Q&A",
    ],
    gradient: "from-gray-50 to-gray-100",
    buttonColor: "bg-gradient-to-r from-gray-700 to-gray-800",
    popular: false,
  },
  {
    name: "BASIC",
    price: "$29",
    period: "month",
    features: [
      "Everything in Free",
      "Advanced courses",
      "Priority support",
      "Downloadable resources",
      "Weekly live sessions",
      "Certificate of completion",
    ],
    gradient: "from-blue-50 to-cyan-50",
    buttonColor: "bg-gradient-to-r from-blue-600 to-cyan-600",
    popular: true,
  },
  {
    name: "PRO",
    price: "$59",
    period: "month",
    features: [
      "Everything in Basic",
      "1-on-1 mentorship",
      "Custom learning path",
      "Unlimited resources",
      "Daily live classes",
      "Lifetime access",
      "Premium certificate",
    ],
    gradient: "from-purple-50 to-pink-50",
    buttonColor: "bg-gradient-to-r from-purple-600 to-pink-600",
    popular: false,
  },
];

export default function PricingSection() {
  return (
    <section className="py-16 md:py-24 bg-gradient-to-b from-white to-slate-50 relative overflow-hidden">
      {/* Curved Wave Pattern */}
      <div className="absolute inset-0 opacity-[0.03] pointer-events-none">
        <svg className="absolute inset-0 w-full h-full" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <pattern id="wave" x="0" y="0" width="100" height="100" patternUnits="userSpaceOnUse">
              <path d="M0 50 Q 25 25, 50 50 T 100 50" stroke="#6366f1" fill="none" strokeWidth="1"/>
            </pattern>
          </defs>
          <rect width="100%" height="100%" fill="url(#wave)" />
        </svg>
      </div>

      {/* Gradient Blobs */}
      <motion.div
        animate={{ 
          y: [0, 30, 0],
          scale: [1, 1.1, 1]
        }}
        transition={{ duration: 10, repeat: Infinity }}
        className="absolute top-20 left-10 w-72 h-72 bg-gradient-to-br from-purple-300/20 to-pink-300/20 rounded-full blur-3xl pointer-events-none"
      />
      <motion.div
        animate={{ 
          y: [0, -30, 0],
          scale: [1.1, 1, 1.1]
        }}
        transition={{ duration: 12, repeat: Infinity }}
        className="absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-br from-blue-300/20 to-cyan-300/20 rounded-full blur-3xl pointer-events-none"
      />

      <div className="container mx-auto px-4 relative z-10">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          className="text-center mb-12"
        >
          <Badge className="mb-4 bg-purple-100 text-purple-700">Pricing Plans</Badge>
          <h2 className="text-3xl md:text-5xl font-bold mb-4">
            Choose The Best Package<br />
            For your Learning
          </h2>
        </motion.div>

        <div className="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
          {pricingPlans.map((plan, index) => (
            <motion.div
              key={index}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: index * 0.1 }}
              whileHover={{ y: -8 }}
              className="relative"
            >
              {plan.popular && (
                <Badge className="absolute -top-3 left-1/2 -translate-x-1/2 z-10 bg-gradient-to-r from-orange-500 to-red-500 text-white">
                  Most Popular
                </Badge>
              )}
              
              <Card className={`relative overflow-hidden border-0 shadow-xl h-full bg-gradient-to-br ${plan.gradient} backdrop-blur-sm ${plan.popular ? 'ring-2 ring-blue-500' : ''}`}>
                <CardContent className="p-8">
                  <div className="text-center mb-6">
                    <h3 className="text-2xl font-bold mb-2">{plan.name}</h3>
                    <div className="flex items-end justify-center gap-1">
                      <span className="text-5xl font-bold">{plan.price}</span>
                      <span className="text-slate-600 mb-2">/{plan.period}</span>
                    </div>
                  </div>

                  <ul className="space-y-3 mb-8">
                    {plan.features.map((feature, idx) => (
                      <li key={idx} className="flex items-start gap-3">
                        <Check className="w-5 h-5 text-green-600 flex-shrink-0 mt-0.5" />
                        <span className="text-slate-700">{feature}</span>
                      </li>
                    ))}
                  </ul>

                  <Button 
                    className={`w-full ${plan.buttonColor} hover:opacity-90 text-white shadow-lg`}
                    size="lg"
                  >
                    Choose {plan.name}
                  </Button>
                </CardContent>
              </Card>
            </motion.div>
          ))}
        </div>
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\QuranVerseSection.tsx
============================================================
"use client";

import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { motion } from "framer-motion";
import Image from "next/image";
import { ArrowRight, BookOpen, Users, GraduationCap, Award } from "lucide-react";

const features = [
  {
    title: "AI Automation",
    description: "Construction is a general term the art and science to form",
    icon: "", // Using emoji for cute icons like in screenshot
    iconBg: "bg-blue-50",
    link: "View Subject ",
  },
  {
    title: "Virtual Reality",
    description: "Construction is a general term the art and science to form",
    icon: "",
    iconBg: "bg-purple-50",
    link: "View Subject ",
  },
  {
    title: "Machine Learning",
    description: "Construction is a general term the art and science to form",
    icon: "",
    iconBg: "bg-green-50",
    link: "View Subject ",
  },
  {
    title: "AI Cloud Services",
    description: "Construction is a general term the art and science to form",
    icon: "",
    iconBg: "bg-cyan-50",
    link: "View Subject ",
  },
];

export default function QuranVerseSection() {
  return (
    <section className="py-16 md:py-24 bg-gradient-to-b from-slate-50 via-purple-50/30 to-white relative overflow-hidden">
      {/* Decorative background elements */}
      <div className="absolute top-20 right-0 w-96 h-96 bg-purple-200/20 rounded-full blur-3xl" />
      <div className="absolute bottom-0 left-0 w-96 h-96 bg-blue-200/20 rounded-full blur-3xl" />
      
      {/* Decorative stars/sparkles pattern */}
      <div className="absolute top-1/3 right-1/4 opacity-20">
        <svg width="100" height="100" viewBox="0 0 100 100">
          <text x="10" y="30" fontSize="24"></text>
          <text x="40" y="60" fontSize="18"></text>
          <text x="70" y="40" fontSize="20"></text>
        </svg>
      </div>

      <div className="container mx-auto px-4 relative z-10">
        {/* Main Content Grid */}
        <div className="grid lg:grid-cols-2 gap-8 items-start mb-16">
          {/* Left Side - Text Content */}
          <motion.div
            initial={{ opacity: 0, x: -30 }}
            whileInView={{ opacity: 1, x: 0 }}
            viewport={{ once: true }}
            transition={{ duration: 0.5 }}
            className="space-y-6"
          >
            {/* Badge */}
            <Badge className="bg-purple-100 text-purple-700 hover:bg-purple-200 px-4 py-1.5 rounded-full">
              Popular Subject
            </Badge>

            {/* Main Heading with Blue Background Highlight */}
            <div className="space-y-1">
              <h2 className="text-4xl md:text-5xl font-bold text-slate-900 leading-tight">
                <span className="inline-block bg-blue-600 text-white px-4 py-2 mb-2">
                  Provide It & Technology
                </span>
                <br />
                <span className="inline-block bg-blue-600 text-white px-4 py-2">
                  Subject For You
                </span>
              </h2>
            </div>

            {/* Description */}
            <p className="text-slate-600 text-lg leading-relaxed">
              Construction is a general term meaning the art and science to form systems organizations, and comes from Latin Construction is
            </p>

            {/* Pink Quote Box with Left Border */}
            <motion.div
              initial={{ opacity: 0, x: -20 }}
              whileInView={{ opacity: 1, x: 0 }}
              viewport={{ once: true }}
              transition={{ delay: 0.2 }}
              className="bg-gradient-to-r from-pink-50 to-purple-50 border-l-4 border-pink-500 p-6 rounded-r-lg"
            >
              <p className="text-slate-700 leading-relaxed italic">
                Construction is a general term meaning the art and science to form systems organizations, and comes from Latin Construction is a organizations, and comes from Latin construction and Old
              </p>
            </motion.div>

            {/* Explore More Button */}
            <motion.div
              initial={{ opacity: 0, y: 10 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: 0.3 }}
            >
              <Button 
                className="group bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white px-8 py-6 text-lg shadow-lg hover:shadow-xl transition-all"
                size="lg"
              >
                Explore More
                <ArrowRight className="ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform" />
              </Button>
            </motion.div>
          </motion.div>

          {/* Right Side - 2x2 Feature Cards Grid */}
          <motion.div
            initial={{ opacity: 0, x: 30 }}
            whileInView={{ opacity: 1, x: 0 }}
            viewport={{ once: true }}
            transition={{ duration: 0.5 }}
            className="grid grid-cols-2 gap-6"
          >
            {features.map((feature, index) => (
              <motion.div
                key={index}
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1 }}
                whileHover={{ y: -8, transition: { duration: 0.2 } }}
              >
                <Card className="group relative overflow-hidden border-0 shadow-md hover:shadow-2xl transition-all duration-300 h-full bg-white rounded-2xl">
                  <CardContent className="p-6 space-y-4">
                    {/* Cute Icon */}
                    <div className={`w-16 h-16 ${feature.iconBg} rounded-2xl flex items-center justify-center text-4xl group-hover:scale-110 transition-transform duration-300`}>
                      {feature.icon}
                    </div>

                    {/* Title */}
                    <h3 className="text-xl font-bold text-slate-900">
                      {feature.title}
                    </h3>

                    {/* Description */}
                    <p className="text-slate-600 text-sm leading-relaxed">
                      {feature.description}
                    </p>

                    {/* Link */}
                    <button className="text-purple-600 font-semibold text-sm hover:text-purple-700 transition-colors flex items-center gap-1 group/link">
                      {feature.link}
                      <ArrowRight className="h-3 w-3 group-hover/link:translate-x-1 transition-transform" />
                    </button>
                  </CardContent>

                  {/* Hover gradient effect */}
                  <div className="absolute inset-0 bg-gradient-to-br from-purple-500/0 to-pink-500/0 group-hover:from-purple-500/5 group-hover:to-pink-500/5 transition-all duration-300" />
                </Card>
              </motion.div>
            ))}
          </motion.div>
        </div>

        
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\ScholarSection.tsx
============================================================
"use client";

import { Card } from "@/components/ui/card";
import { motion } from "framer-motion";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";

const galleryImages = [
  { id: 1, gradient: "from-blue-500 to-purple-600" },
  { id: 2, gradient: "from-purple-500 to-pink-600" },
  { id: 3, gradient: "from-orange-500 to-red-600" },
  { id: 4, gradient: "from-cyan-500 to-blue-600" },
  { id: 5, gradient: "from-teal-500 to-green-600" },
  { id: 6, gradient: "from-indigo-500 to-purple-600" },
  { id: 7, gradient: "from-pink-500 to-rose-600" },
  { id: 8, gradient: "from-amber-500 to-orange-600" },
];

const blogPosts = [
  {
    id: 1,
    title: "Facebook design is dedicated and Inspired by future tech",
    date: "10 Dec",
    category: "Design",
    gradient: "from-blue-600 to-cyan-600",
  },
  {
    id: 2,
    title: "Facebook design is dedicated and Inspired by future tech",
    date: "10 Dec",
    category: "Development",
    gradient: "from-orange-500 to-red-600",
  },
  {
    id: 3,
    title: "Facebook design is dedicated and Inspired by future tech",
    date: "10 Dec",
    category: "Technology",
    gradient: "from-purple-600 to-pink-600",
  },
];

export default function ScholarSection() {
  return (
    <>
      {/* Image Gallery Section */}
      <section className="py-16 md:py-24 bg-white">
        <div className="container mx-auto px-4">
          <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
            {galleryImages.map((image, index) => (
              <motion.div
                key={image.id}
                initial={{ opacity: 0, scale: 0.8 }}
                whileInView={{ opacity: 1, scale: 1 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.05 }}
              >
                <Card className="aspect-square overflow-hidden group cursor-pointer hover:shadow-2xl transition-all duration-300">
                  <div className={`w-full h-full bg-gradient-to-br ${image.gradient} group-hover:scale-110 transition-transform duration-500`}>
                    <div className="w-full h-full flex items-center justify-center bg-black/20 group-hover:bg-black/0 transition-colors">
                      {/* Placeholder for actual images */}
                    </div>
                  </div>
                </Card>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* Latest News & Blogs Section */}
      <section className="py-16 md:py-24 bg-gradient-to-b from-slate-50 to-white">
        <div className="container mx-auto px-4">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center mb-12"
          >
            <h2 className="text-3xl md:text-5xl font-bold mb-4">
              Latest News & Blogs
            </h2>
            <p className="text-slate-600 text-lg">
              Stay updated with our latest articles and insights
            </p>
          </motion.div>

          <div className="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto mb-8">
            {blogPosts.map((post, index) => (
              <motion.div
                key={post.id}
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.1 }}
              >
                <Card className="overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1 group cursor-pointer">
                  <div className={`h-48 bg-gradient-to-br ${post.gradient} group-hover:scale-105 transition-transform duration-500`}>
                    <div className="w-full h-full flex items-center justify-center bg-black/20">
                      {/* Placeholder for blog images */}
                    </div>
                  </div>
                  <div className="p-6">
                    <div className="flex items-center gap-3 mb-3">
                      <Badge variant="secondary">{post.category}</Badge>
                      <span className="text-sm text-slate-600">{post.date}</span>
                    </div>
                    <h3 className="text-xl font-bold group-hover:text-emerald-600 transition-colors">
                      {post.title}
                    </h3>
                  </div>
                </Card>
              </motion.div>
            ))}
          </div>

          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center"
          >
            <Button 
              className="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-8"
              size="lg"
            >
              View all
            </Button>
          </motion.div>
        </div>
      </section>
    </>
  );
}



============================================================
FILE: .\wqtc\components\sections\StatsSection.tsx
============================================================
"use client";

import { motion } from "framer-motion";
import { Users, Award, BookOpen, Globe } from "lucide-react";

const stats = [
  {
    value: "5K",
    label: "Student Enrolled",
    icon: Users,
    gradient: "from-pink-500 to-rose-500",
  },
  {
    value: "46K+",
    label: "Class Completed",
    icon: BookOpen,
    gradient: "from-blue-500 to-cyan-500",
  },
  {
    value: "3K",
    label: "Satisfaction Rate",
    icon: Award,
    gradient: "from-purple-500 to-pink-500",
  },
  {
    value: "68K+",
    label: "Students Community",
    icon: Globe,
    gradient: "from-orange-500 to-red-500",
  },
];

export default function StatsSection() {
  return (
    <section className="py-16 bg-white relative overflow-hidden">
      {/* Diagonal Stripe Pattern */}
      <div className="absolute inset-0 opacity-[0.02]">
        <div
          className="absolute inset-0"
          style={{
            backgroundImage: `repeating-linear-gradient(
              45deg,
              #6366f1 0px,
              #6366f1 1px,
              transparent 1px,
              transparent 20px
            )`,
          }}
        />
      </div>

      {/* Gradient Orbs */}
      <div className="absolute top-0 left-1/4 w-64 h-64 bg-gradient-to-br from-blue-200/30 to-purple-200/30 rounded-full blur-3xl" />
      <div className="absolute bottom-0 right-1/4 w-64 h-64 bg-gradient-to-br from-pink-200/30 to-orange-200/30 rounded-full blur-3xl" />

      <div className="container mx-auto px-4 relative z-10">
        <div className="grid grid-cols-2 md:grid-cols-4 gap-8 max-w-5xl mx-auto">
          {stats.map((stat, index) => (
            <motion.div
              key={index}
              initial={{ opacity: 0, scale: 0.5 }}
              whileInView={{ opacity: 1, scale: 1 }}
              viewport={{ once: true }}
              transition={{ delay: index * 0.1, type: "spring" }}
              className="text-center"
            >
              <motion.div
                whileHover={{ scale: 1.1, rotate: 5 }}
                className={`w-24 h-24 mx-auto mb-4 rounded-full bg-gradient-to-br ${stat.gradient} flex items-center justify-center shadow-xl relative`}
              >
                <stat.icon className="w-10 h-10 text-white" />
                {/* Pulse effect */}
                <motion.div
                  animate={{
                    scale: [1, 1.2, 1],
                    opacity: [0.5, 0, 0.5],
                  }}
                  transition={{
                    duration: 2,
                    repeat: Infinity,
                    ease: "easeInOut",
                  }}
                  className={`absolute inset-0 rounded-full bg-gradient-to-br ${stat.gradient}`}
                />
              </motion.div>

              <h3 className="text-3xl md:text-4xl font-bold text-slate-900 mb-2">
                {stat.value}
              </h3>
              <p className="text-slate-600 text-sm">{stat.label}</p>
            </motion.div>
          ))}
        </div>
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\TestimonialsSection.tsx
============================================================
"use client";

import { Card, CardContent } from "@/components/ui/card";
import { Avatar, AvatarFallback } from "@/components/ui/avatar";
import { Badge } from "@/components/ui/badge";
import { motion, AnimatePresence } from "framer-motion";
import { Quote, ChevronLeft, ChevronRight } from "lucide-react";
import { useState } from "react";

const testimonials = [
  {
    id: 1,
    name: "Tajuddin",
    content:
      "I have been attending morning Quran class after Fajr for the past few years. My life has completely changed after attending this class. By the grace of Allah, I never missed Fajr salah.",
    initials: "T",
    role: "Student",
  },
  {
    id: 2,
    name: "Asraruddin Elias",
    content:
      "This course has given me an opportunity to learn and comprehend Allah's message. The dedication demonstrated in teaching is most impressive. I consider myself privileged.",
    initials: "AE",
    role: "Student",
  },
  {
    id: 3,
    name: "Syed Abbas Ibrahim",
    content:
      "It is very much useful to understand the Quran with my native language. The explanations are very much useful to us. A golden opportunity not to miss.",
    initials: "SI",
    role: "Student",
  },
];

// You can update this image and alt to best suit your project context.
const TESTIMONIAL_IMAGE =
  "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80";

export default function TestimonialsSection() {
  const [selected, setSelected] = useState(0);
  const testimonial = testimonials[selected];

  const prevTestimonial = () =>
    setSelected((prev) => (prev === 0 ? testimonials.length - 1 : prev - 1));
  const nextTestimonial = () =>
    setSelected((prev) => (prev === testimonials.length - 1 ? 0 : prev + 1));

  return (
    <section className="py-16 md:py-24 bg-gradient-to-b from-[#faf9f7] to-white relative overflow-hidden">
      <div className="container mx-auto px-4 relative z-10 flex flex-col gap-y-16">
        {/* Top Section: Title and Description */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          className="text-center max-w-3xl mx-auto"
        >
          <Badge className="mb-4 bg-[#453142] text-[#faf9f7]">Testimonials</Badge>
          <h2 className="text-3xl md:text-5xl font-bold mb-4 text-[#453142]">
            What Our Students Say
          </h2>
          <p className="text-[#453142]/80 text-lg md:text-xl max-w-2xl mx-auto">
            Hear from our students about their transformational experiences learning Quran translation  their journeys, their growth, and the impact on their lives.
          </p>
        </motion.div>

        {/* Bottom Section: Responsive Flex Layout */}
        <div className="w-full flex flex-col md:flex-row items-center md:items-stretch justify-center gap-10 md:gap-16">
          {/* Left Bottom: Static Image */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            // Increased width and height for a larger image
            className="w-[380px] h-[480px] flex-shrink-0 relative rounded-3xl overflow-hidden shadow-xl bg-white border border-[#453142]/10"
            style={{
              background:
                "linear-gradient(135deg, #faf9f7 70%, #eee3ed 100%)",
            }}
          >
            <img
              src={TESTIMONIAL_IMAGE}
              alt="Student reflecting with Quran"
              className="absolute inset-0 w-full h-full object-cover object-top opacity-95"
              loading="lazy"
              style={{ zIndex: 1 }}
            />
            {/* Decorative overlay */}
            <div className="absolute inset-0 bg-gradient-to-t from-[#453142]/10 via-transparent to-transparent" />
            {/* Content overlay if needed */}
            <div className="absolute bottom-4 left-4 right-4 px-3 py-2 bg-[#faf9f7]/80 backdrop-blur rounded-xl shadow border border-[#BE9BAE]/20 text-center z-10">
              <span className="font-medium text-[#453142] text-base">
                Real Students, Real Impact
              </span>
            </div>
          </motion.div>

          {/* Right Bottom: Testimonial Card with Arrows */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="flex-1 flex flex-col justify-center items-center min-w-0"
          >
            <div className="flex items-center justify-center w-full gap-1">
              {/* Left Arrow */}
              <button
                onClick={prevTestimonial}
                className="p-2 rounded-full bg-[#faf9f7] border border-[#453142]/20 shadow-md hover:bg-[#453142]/20 transition-colors mx-1"
                aria-label="Previous testimonial"
              >
                <ChevronLeft className="h-7 w-7 text-[#453142]" />
              </button>
              <AnimatePresence mode="wait">
                <motion.div
                  key={testimonial.id}
                  initial={{ opacity: 0, x: 30 }}
                  animate={{ opacity: 1, x: 0 }}
                  exit={{ opacity: 0, x: -30 }}
                  transition={{ duration: 0.5 }}
                  className="w-full max-w-xl"
                >
                  <Card className="shadow-2xl rounded-3xl bg-[#faf9f7] border-0 relative px-2 py-2">
                    <CardContent className="pt-10 pb-8 px-10 flex flex-col items-center">
                      <Quote className="h-12 w-12 text-[#453142] opacity-50 mb-4" />
                      <p className="text-[#453142]/90 mb-8 text-lg leading-relaxed text-center">
                        {testimonial.content}
                      </p>
                      <div className="flex items-center gap-4 pt-4 border-t border-[#453142]/10 w-full justify-center">
                        <Avatar className="w-14 h-14 shadow-lg border-4 border-white -mt-12 bg-[#FAF0F6]">
                          <AvatarFallback className="bg-gradient-to-br from-[#453142] to-[#BE9BAE] text-[#faf9f7] font-semibold text-xl">
                            {testimonial.initials}
                          </AvatarFallback>
                        </Avatar>
                        <div>
                          <p className="font-bold text-[#453142] text-lg">{testimonial.name}</p>
                          <p className="text-sm text-[#453142]/80">{testimonial.role}</p>
                        </div>
                      </div>
                    </CardContent>
                  </Card>
                </motion.div>
              </AnimatePresence>
              {/* Right Arrow */}
              <button
                onClick={nextTestimonial}
                className="p-2 rounded-full bg-[#faf9f7] border border-[#453142]/20 shadow-md hover:bg-[#453142]/20 transition-colors mx-1"
                aria-label="Next testimonial"
              >
                <ChevronRight className="h-7 w-7 text-[#453142]" />
              </button>
            </div>
            {/* Dots for indicator */}
            <div className="flex justify-center items-center gap-2 mt-5">
              {testimonials.map((_, i) => (
                <span
                  key={i}
                  className={`transition-all duration-300 h-2 rounded-full ${
                    i === selected
                      ? "w-7 bg-[#453142]"
                      : "w-2 bg-[#BE9BAE]/30"
                  }`}
                  style={{ display: "inline-block" }}
                />
              ))}
            </div>
          </motion.div>
        </div>
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\VideoGallery.tsx
============================================================
"use client";

import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Play, Clock, User, X } from "lucide-react";
import { motion, AnimatePresence } from "framer-motion";
import { useState, useEffect, useCallback, useRef } from "react";
import Image from "next/image";

// Updated categories/classes
const categories = [
  {
    id: 1,
    title: "Daily English & Urdu Classes",
    subtitle: "For Men",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    gradient: "from-[#453142]/80 via-[#6e4d66]/80 to-[#faf9f7]/80",
  },
  {
    id: 2,
    title: "Daily English & Urdu Classes",
    subtitle: "For Women",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    gradient: "from-[#6e4d66]/80 via-[#453142]/80 to-[#faf9f7]/80",
  },
  {
    id: 3,
    title: "Daily Tamil Classes",
    subtitle: "For Men",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    gradient: "from-[#453142]/80 via-[#faf9f7]/80 to-[#6e4d66]/80",
  },
  {
    id: 4,
    title: "Daily Tamil Classes",
    subtitle: "For Women",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    gradient: "from-[#faf9f7]/80 via-[#6e4d66]/80 to-[#453142]/80",
  },
  {
    id: 5,
    title: "Weekend Classes in English & Urdu",
    subtitle: "For Men",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    gradient: "from-[#453142]/80 via-[#faf9f7]/80 to-[#6e4d66]/80",
  },
  {
    id: 6,
    title: "Weekend Classes in English & Urdu",
    subtitle: "For Women",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    gradient: "from-[#6e4d66]/80 via-[#453142]/80 to-[#faf9f7]/80",
  },
];

// Always "Free", no stars, trending or complete
const courses = [
  {
    id: 1,
    title: "Online | Free",
    classType: "Daily",
    category: "English & Urdu  Men",
    instructor: "Ustad Imran Sait",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    students: "45 min",
    time: "6:45 A.M.",
    description: "A daily class for men, covering Quran recitation and understanding in English and Urdu.",
  },
  {
    id: 2,
    title: "Online | Free",
    classType: "Daily",
    category: "English & Urdu  Women",
    instructor: "Ustad Imran Sait",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    students: "45 min",
    time: "6:45 A.M.",
    description: "A daily class for women, covering Quran recitation and understanding in English and Urdu.",
  },
  {
    id: 3,
    title: "Online | Free",
    classType: "Daily",
    category: "Tamil  Men",
    instructor: "Ustad Imran Sait",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    students: "45 min",
    time: "6:45 A.M.",
    description: "A daily class for men in Tamil language, focusing on Quranic teachings and recitation.",
  },
  {
    id: 4,
    title: "Online | Free",
    classType: "Daily",
    category: "Tamil  Women",
    instructor: "Ustad Imran Sait",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    students: "45 min",
    time: "6:45 A.M.",
    description: "A daily class for women in Tamil language, focusing on Quranic teachings and recitation.",
  },
  {
    id: 5,
    title: "Online | Free",
    classType: "Weekend",
    category: "English & Urdu  Men",
    instructor: "Ustad Imran Sait",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    students: "45 min",
    time: "6:45 A.M.",
    description: "Weekend classes for men for Quran learning, conducted in English and Urdu.",
  },
  {
    id: 6,
    title: "Online | Free",
    classType: "Weekend",
    category: "English & Urdu  Women",
    instructor: "Ustad Imran Sait",
    image: "https://media.istockphoto.com/id/482765777/photo/quran-in-the-mosque.jpg?b=1&s=612x612&w=0&k=20&c=56KQuVPCH2jLanrMPjMG7Sdx-7qnwt2RhOJA62YW7ro=",
    students: "1.2K",
    time: "2 hrs",
    description: "Weekend classes for women for Quran learning, conducted in English and Urdu.",
  },
];

// Modal Component
function CourseModal({ open, course, onClose }: { open: boolean; course: any; onClose: () => void }) {
  // Add escape key handler
  const modalRef = useRef<HTMLDivElement>(null);

  const handleKeyDown = useCallback((event: KeyboardEvent) => {
    if (event.key === "Escape" && open) {
      onClose();
    }
  }, [open, onClose]);

  useEffect(() => {
    if (open) {
      document.addEventListener("keydown", handleKeyDown);
      // Optionally trap focus for accessibility
      if (modalRef.current) {
        modalRef.current.focus();
      }
    } else {
      document.removeEventListener("keydown", handleKeyDown);
    }
    return () => {
      document.removeEventListener("keydown", handleKeyDown);
    };
  }, [open, handleKeyDown]);

  // Close on overlay click
  function handleOverlayClick(e: React.MouseEvent<HTMLDivElement, MouseEvent>) {
    if (e.target === e.currentTarget) {
      onClose();
    }
  }

  if (!open || !course) return null;
  return (
    <AnimatePresence>
      <motion.div
        className="fixed inset-0 z-50 bg-black/70 flex items-center justify-center"
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        exit={{ opacity: 0 }}
        tabIndex={-1}
        onClick={handleOverlayClick}
        ref={modalRef}
        aria-modal="true"
        role="dialog"
      >
        <motion.div
          className="bg-white rounded-2xl max-w-lg w-full p-6 relative shadow-2xl"
          initial={{ scale: 0.9, opacity: 0 }}
          animate={{ scale: 1, opacity: 1 }}
          exit={{ scale: 0.9, opacity: 0 }}
          transition={{ type: "spring", stiffness: 210, damping: 22 }}
        >
          <button
            className="absolute top-4 right-4 text-[#faf9f7] bg-[#453142] hover:bg-[#6e4d66] rounded-full p-2 transition-colors z-10 shadow-lg focus:outline-none focus:ring-2 focus:ring-[#453142]/70"
            aria-label="Close"
            onClick={onClose}
            autoFocus
          >
            <X className="h-5 w-5" />
          </button>
          <div className="mb-5">
            <div className="relative h-48 w-full mb-4 rounded-xl overflow-hidden">
              <Image
                src={course.image}
                alt={course.category}
                fill
                className="object-cover"
              />
            </div>
            <Badge className="bg-[#453142] text-[#faf9f7] rounded-full px-4 py-1 capitalize text-xs mb-2">
              {course.classType}
            </Badge>
            <h2 className="text-2xl font-bold text-[#453142] mb-2">{course.title}</h2>
            <p className="font-semibold text-[#453142]/90 mb-2">{course.category}</p>
          </div>
          <div className="mb-3 flex items-center gap-2 text-sm text-[#453142]/80">
            <User className="h-5 w-5 text-[#453142]" />
            <span>{course.instructor}</span>
          </div>
          <div className="mb-2 flex items-center gap-4 text-sm text-[#453142]/70">
            <div className="flex items-center gap-1">
              <Clock className="h-4 w-4 text-[#453142]" />
              <span>{course.time}</span>
            </div>
            <div className="font-semibold">{course.students}</div>
          </div>
          <div className="mt-4 text-[#453142]/90 text-base">
            {course.description || "No further details available for this class at the moment."}
          </div>
        </motion.div>
      </motion.div>
    </AnimatePresence>
  );
}

export default function VideoGallery() {
  const [hoveredCourse, setHoveredCourse] = useState<number | null>(null);
  const [openCourse, setOpenCourse] = useState<any>(null);

  return (
    <section id="videos" className="py-16 md:py-24 bg-[#faf9f7] relative overflow-hidden">
      <div className="container mx-auto px-4 relative z-10">
        
        {/* 
        // -------------------------------------------
        // The following section is commented as per instruction.
        // It displays the "Latest Classes" & categories cards grid.
        // Includes:
        //   - Section Header:
        //        Latest Classes
        //        Live Quran Classes  Organized by Language & Group
        //   - Categories Cards Grid:
        //        Daily English & Urdu Classes (Men/Women)
        //        Daily Tamil Classes (Men/Women)
        //        Weekend Classes in English & Urdu (Men/Women)
        // -------------------------------------------

        <motion.div
          initial={{ opacity: 0, y: 20 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          className="text-center mb-16"
        >
          <motion.div
            initial={{ scale: 0 }}
            whileInView={{ scale: 1 }}
            viewport={{ once: true }}
            transition={{ type: "spring", stiffness: 200, damping: 15 }}
            className="inline-block mb-4"
          >
            <Badge className="bg-[#453142] text-[#faf9f7] px-6 py-2 text-sm font-semibold shadow-md">
              Latest Classes
            </Badge>
          </motion.div>
          <h2 className="text-3xl md:text-5xl font-bold mb-4 text-[#453142]">
            Live Quran Classes  Organized by Language & Group
          </h2>
        </motion.div>

        <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-20">
          {categories.map((category, index) => (
            <motion.div
              key={category.id}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: index * 0.1 }}
              whileHover={{ y: -8, transition: { duration: 0.3 } }}
            >
              <Card className="group relative overflow-hidden cursor-pointer border-0 shadow-xl h-full rounded-3xl">
                <div className="relative h-56">
                  <Image
                    src={category.image}
                    alt={category.title}
                    fill
                    className="object-cover transition-transform duration-500 group-hover:scale-110"
                  />
                  <div className={`absolute inset-0 bg-gradient-to-br ${category.gradient}`} />
                  <div className="absolute inset-0 bg-[#453142]/20 group-hover:bg-[#faf9f7]/10 transition-colors" />
                  <div className="absolute inset-0 flex flex-col justify-end items-start p-6">
                    <div className="relative z-10">
                      <h3 className="text-xl font-extrabold mb-1 text-[#faf9f7] group-hover:text-[#453142] transition-colors">
                        {category.title}
                      </h3>
                      <p className="text-sm opacity-90 text-[#faf9f7] group-hover:text-[#faf9f7]/80">{category.subtitle}</p>
                    </div>
                  </div>
                </div>
              </Card>
            </motion.div>
          ))}
        </div>
        */}

        {/* Courses Section */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          className="mb-12"
        >
          <h2 className="text-3xl md:text-5xl font-bold mb-8 text-[#453142]">Online Free Quran Class Schedules</h2>
        </motion.div>

        <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
          {courses.map((course, index) => (
            <motion.div
              key={course.id}
              initial={{ opacity: 0, y: 20 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: index * 0.1 }}
              onMouseEnter={() => setHoveredCourse(course.id)}
              onMouseLeave={() => setHoveredCourse(null)}
              onClick={() => setOpenCourse(course)}
              tabIndex={0}
              role="button"
              aria-label={`Open details about ${course.category}`}
              style={{ cursor: "pointer" }}
            >
              <Card className="group hover:shadow-2xl transition-all duration-300 overflow-hidden border-0 shadow-lg rounded-3xl">
                <div className="relative h-44 overflow-hidden">
                  {/* Course Image */}
                  <Image
                    src={course.image}
                    alt={course.category}
                    fill
                    className="object-cover transition-transform duration-500 group-hover:scale-105"
                  />
                  {/* Play Button Overlay */}
                  <motion.div
                    className="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-[#453142]/70 to-[#faf9f7]/70 backdrop-blur-sm"
                    initial={{ opacity: 0 }}
                    animate={{ opacity: hoveredCourse === course.id ? 1 : 0 }}
                    transition={{ duration: 0.3 }}
                  >
                    <motion.div
                      className="w-16 h-16 rounded-full bg-white/95 flex items-center justify-center shadow-2xl cursor-pointer"
                      whileHover={{ scale: 1.1 }}
                      whileTap={{ scale: 0.95 }}
                    >
                      <Play className="h-8 w-8 text-[#453142] ml-1" />
                    </motion.div>
                  </motion.div>
                </div>
                <CardContent className="p-5">
                  <div className="flex items-center justify-between mb-2">
                    <span className="text-lg font-bold text-[#453142]">{course.title}</span>
                    <Badge className="bg-[#453142] text-[#faf9f7] rounded-full px-3 py-1 capitalize text-xs">
                      {course.classType}
                    </Badge>
                  </div>
                  <h3 className="font-bold text-base mb-2 text-[#453142] leading-snug">
                    {course.category}
                  </h3>
                  <div className="flex items-center gap-2 text-sm text-[#453142]/80 mb-2">
                    <User className="h-4 w-4 text-[#453142]" />
                    <span>{course.instructor}</span>
                  </div>
                  <div className="flex items-center justify-between text-sm text-[#453142]/70 pt-2 border-t border-[#453142]/10">
                    <div className="flex items-center gap-1">
                      <Clock className="h-4 w-4 text-[#453142]" />
                      <span>{course.time}</span>
                    </div>
                    <span className="font-semibold">{course.students}</span>
                  </div>
                </CardContent>
              </Card>
            </motion.div>
          ))}
        </div>
        {/* Modal for showing more details */}
        <CourseModal open={!!openCourse} course={openCourse} onClose={() => setOpenCourse(null)} />
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\sections\WelcomeSection.tsx
============================================================
"use client";

import { Button } from "@/components/ui/button";
import { motion } from "framer-motion";
import { Play } from "lucide-react";
import Image from "next/image";

export default function WelcomeSection() {
  return (
    <section className="py-16 md:py-24 bg-gradient-to-b from-[#faf9f7] via-[#f5f3f0] to-white relative overflow-hidden">
      <div className="container mx-auto px-4 relative z-10">
        <div className="grid lg:grid-cols-2 gap-12 items-center">
          {/* Left: Teacher Image (plain, no card/bg) */}
          <motion.div
            initial={{ opacity: 0, x: -50 }}
            whileInView={{ opacity: 1, x: 0 }}
            viewport={{ once: true }}
            transition={{ duration: 0.6 }}
            className="flex items-center justify-center"
          >
            <div className="relative w-full max-w-2xl mx-auto">
              <Image
                src="https://wordforwordquran.com/assets/q/mainbanner.png"
                alt="Ustaad Imran Sait - Quran Teacher"
                width={1200}
                height={1200}
                className="object-contain drop-shadow-2xl"
                priority
              />
            </div>
          </motion.div>

          {/* Right: Content */}
          <motion.div
            initial={{ opacity: 0, x: 50 }}
            whileInView={{ opacity: 1, x: 0 }}
            viewport={{ once: true }}
            transition={{ duration: 0.6 }}
            className="space-y-6"
          >
            <h2 className="text-4xl md:text-5xl font-bold leading-tight text-[#453142]">
              Our Best Instructor to guide About Future
            </h2>

            <p className="text-[#453142]/80 text-lg leading-relaxed">
              Learn the Qur'an translation through our innovative Word for Word method. 
              Our experienced instructors, led by Ustaad Imran Sait, make understanding 
              the Quran accessible to everyone through structured, interactive online classes.
            </p>

            <div className="flex flex-wrap items-center gap-4 pt-4">
              <Button 
                size="lg"
                className="bg-[#453142] hover:bg-[#5a3f54] text-[#faf9f7] px-8 shadow-lg transition-all"
              >
                <Play className="w-5 h-5 mr-2" />
                Watch Classes
              </Button>
              
              <Button 
                size="lg"
                variant="outline"
                className="border-2 border-[#453142] text-[#453142] hover:bg-[#453142] hover:text-[#faf9f7] px-8 transition-all"
              >
                Learn More
              </Button>
            </div>
          </motion.div>
        </div>
      </div>
    </section>
  );
}



============================================================
FILE: .\wqtc\components\ui\avatar.tsx
============================================================
"use client"

import * as React from "react"
import * as AvatarPrimitive from "@radix-ui/react-avatar"

import { cn } from "@/lib/utils"

function Avatar({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Root>) {
  return (
    <AvatarPrimitive.Root
      data-slot="avatar"
      className={cn(
        "relative flex size-8 shrink-0 overflow-hidden rounded-full",
        className
      )}
      {...props}
    />
  )
}

function AvatarImage({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Image>) {
  return (
    <AvatarPrimitive.Image
      data-slot="avatar-image"
      className={cn("aspect-square size-full", className)}
      {...props}
    />
  )
}

function AvatarFallback({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {
  return (
    <AvatarPrimitive.Fallback
      data-slot="avatar-fallback"
      className={cn(
        "bg-muted flex size-full items-center justify-center rounded-full",
        className
      )}
      {...props}
    />
  )
}

export { Avatar, AvatarImage, AvatarFallback }



============================================================
FILE: .\wqtc\components\ui\badge.tsx
============================================================
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",
        destructive:
          "border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

function Badge({
  className,
  variant,
  asChild = false,
  ...props
}: React.ComponentProps<"span"> &
  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : "span"

  return (
    <Comp
      data-slot="badge"
      className={cn(badgeVariants({ variant }), className)}
      {...props}
    />
  )
}

export { Badge, badgeVariants }



============================================================
FILE: .\wqtc\components\ui\button.tsx
============================================================
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost:
          "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2 has-[>svg]:px-3",
        sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",
        lg: "h-10 rounded-md px-6 has-[>svg]:px-4",
        icon: "size-9",
        "icon-sm": "size-8",
        "icon-lg": "size-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Button({
  className,
  variant,
  size,
  asChild = false,
  ...props
}: React.ComponentProps<"button"> &
  VariantProps<typeof buttonVariants> & {
    asChild?: boolean
  }) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="button"
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Button, buttonVariants }



============================================================
FILE: .\wqtc\components\ui\card.tsx
============================================================
import * as React from "react"

import { cn } from "@/lib/utils"

function Card({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card"
      className={cn(
        "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",
        className
      )}
      {...props}
    />
  )
}

function CardHeader({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-header"
      className={cn(
        "@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",
        className
      )}
      {...props}
    />
  )
}

function CardTitle({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-title"
      className={cn("leading-none font-semibold", className)}
      {...props}
    />
  )
}

function CardDescription({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props}
    />
  )
}

function CardAction({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-action"
      className={cn(
        "col-start-2 row-span-2 row-start-1 self-start justify-self-end",
        className
      )}
      {...props}
    />
  )
}

function CardContent({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-content"
      className={cn("px-6", className)}
      {...props}
    />
  )
}

function CardFooter({ className, ...props }: React.ComponentProps<"div">) {
  return (
    <div
      data-slot="card-footer"
      className={cn("flex items-center px-6 [.border-t]:pt-6", className)}
      {...props}
    />
  )
}

export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardAction,
  CardDescription,
  CardContent,
}



============================================================
FILE: .\wqtc\components\ui\dropdown-menu.tsx
============================================================
"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { CheckIcon, ChevronRightIcon, CircleIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function DropdownMenu({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {
  return <DropdownMenuPrimitive.Root data-slot="dropdown-menu" {...props} />
}

function DropdownMenuPortal({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {
  return (
    <DropdownMenuPrimitive.Portal data-slot="dropdown-menu-portal" {...props} />
  )
}

function DropdownMenuTrigger({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {
  return (
    <DropdownMenuPrimitive.Trigger
      data-slot="dropdown-menu-trigger"
      {...props}
    />
  )
}

function DropdownMenuContent({
  className,
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {
  return (
    <DropdownMenuPrimitive.Portal>
      <DropdownMenuPrimitive.Content
        data-slot="dropdown-menu-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",
          className
        )}
        {...props}
      />
    </DropdownMenuPrimitive.Portal>
  )
}

function DropdownMenuGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {
  return (
    <DropdownMenuPrimitive.Group data-slot="dropdown-menu-group" {...props} />
  )
}

function DropdownMenuItem({
  className,
  inset,
  variant = "default",
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {
  inset?: boolean
  variant?: "default" | "destructive"
}) {
  return (
    <DropdownMenuPrimitive.Item
      data-slot="dropdown-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {
  return (
    <DropdownMenuPrimitive.CheckboxItem
      data-slot="dropdown-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.CheckboxItem>
  )
}

function DropdownMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {
  return (
    <DropdownMenuPrimitive.RadioGroup
      data-slot="dropdown-menu-radio-group"
      {...props}
    />
  )
}

function DropdownMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {
  return (
    <DropdownMenuPrimitive.RadioItem
      data-slot="dropdown-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.RadioItem>
  )
}

function DropdownMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.Label
      data-slot="dropdown-menu-label"
      data-inset={inset}
      className={cn(
        "px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {
  return (
    <DropdownMenuPrimitive.Separator
      data-slot="dropdown-menu-separator"
      className={cn("bg-border -mx-1 my-1 h-px", className)}
      {...props}
    />
  )
}

function DropdownMenuShortcut({
  className,
  ...props
}: React.ComponentProps<"span">) {
  return (
    <span
      data-slot="dropdown-menu-shortcut"
      className={cn(
        "text-muted-foreground ml-auto text-xs tracking-widest",
        className
      )}
      {...props}
    />
  )
}

function DropdownMenuSub({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {
  return <DropdownMenuPrimitive.Sub data-slot="dropdown-menu-sub" {...props} />
}

function DropdownMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.SubTrigger
      data-slot="dropdown-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto size-4" />
    </DropdownMenuPrimitive.SubTrigger>
  )
}

function DropdownMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {
  return (
    <DropdownMenuPrimitive.SubContent
      data-slot="dropdown-menu-sub-content"
      className={cn(
        "bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",
        className
      )}
      {...props}
    />
  )
}

export {
  DropdownMenu,
  DropdownMenuPortal,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuLabel,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubTrigger,
  DropdownMenuSubContent,
}



============================================================
FILE: .\wqtc\components\ui\input.tsx
============================================================
import * as React from "react"

import { cn } from "@/lib/utils"

function Input({ className, type, ...props }: React.ComponentProps<"input">) {
  return (
    <input
      type={type}
      data-slot="input"
      className={cn(
        "file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",
        "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
        className
      )}
      {...props}
    />
  )
}

export { Input }



============================================================
FILE: .\wqtc\components\ui\scroll-area.tsx
============================================================
"use client"

import * as React from "react"
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area"

import { cn } from "@/lib/utils"

function ScrollArea({
  className,
  children,
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {
  return (
    <ScrollAreaPrimitive.Root
      data-slot="scroll-area"
      className={cn("relative", className)}
      {...props}
    >
      <ScrollAreaPrimitive.Viewport
        data-slot="scroll-area-viewport"
        className="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1"
      >
        {children}
      </ScrollAreaPrimitive.Viewport>
      <ScrollBar />
      <ScrollAreaPrimitive.Corner />
    </ScrollAreaPrimitive.Root>
  )
}

function ScrollBar({
  className,
  orientation = "vertical",
  ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {
  return (
    <ScrollAreaPrimitive.ScrollAreaScrollbar
      data-slot="scroll-area-scrollbar"
      orientation={orientation}
      className={cn(
        "flex touch-none p-px transition-colors select-none",
        orientation === "vertical" &&
          "h-full w-2.5 border-l border-l-transparent",
        orientation === "horizontal" &&
          "h-2.5 flex-col border-t border-t-transparent",
        className
      )}
      {...props}
    >
      <ScrollAreaPrimitive.ScrollAreaThumb
        data-slot="scroll-area-thumb"
        className="bg-border relative flex-1 rounded-full"
      />
    </ScrollAreaPrimitive.ScrollAreaScrollbar>
  )
}

export { ScrollArea, ScrollBar }



============================================================
FILE: .\wqtc\components\ui\separator.tsx
============================================================
"use client"

import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

function Separator({
  className,
  orientation = "horizontal",
  decorative = true,
  ...props
}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {
  return (
    <SeparatorPrimitive.Root
      data-slot="separator"
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",
        className
      )}
      {...props}
    />
  )
}

export { Separator }



============================================================
FILE: .\wqtc\components\ui\SlideOver.tsx
============================================================
// components/ui/SlideOver.tsx

"use client";

import * as Dialog from "@radix-ui/react-dialog";
import { AnimatePresence, motion } from "framer-motion";
import { X } from "lucide-react";
import { useSlideOver } from "@/components/context/SlideOverContext";

export default function SlideOver() {
  const { open, content, closeSlideOver } = useSlideOver();

  return (
    <Dialog.Root open={open} onOpenChange={(val) => { if (!val) closeSlideOver(); }}>
      <AnimatePresence>
        {open && (
          <Dialog.Portal forceMount>
            {/* overlay */}
            <Dialog.Overlay asChild>
              <motion.div
                initial={{ opacity: 0 }}
                animate={{ opacity: 0.6 }}
                exit={{ opacity: 0 }}
                transition={{ duration: 0.18 }}
                className="fixed inset-0 bg-black z-40"
              />
            </Dialog.Overlay>

            {/* panel */}
            <Dialog.Content asChild>
              {/* motion.div must contain the required Dialog.Title */}
              <motion.div
                initial={{ x: "100%" }}
                animate={{ x: 0 }}
                exit={{ x: "100%" }}
                transition={{ type: "spring", stiffness: 300, damping: 30 }}
                className="fixed right-0 top-0 h-full w-full sm:w-[640px] max-w-full z-50 bg-white shadow-2xl overflow-auto"
                role="dialog"
                aria-modal="true"
              >
                {/* Accessible title for screen-readers. 
                    Use 'sr-only' to hide visually but keep for assistive tech.
                    If you'd like it visible, replace these classes with normal text classes. */}
                <Dialog.Title className="sr-only">Side panel</Dialog.Title>
                <Dialog.Description className="sr-only">
                  A panel containing additional information and controls.
                </Dialog.Description>

                <div className="relative min-h-full">
                  <button
                    onClick={closeSlideOver}
                    aria-label="Close panel"
                    className="absolute top-5 right-5 p-3 rounded-full shadow-lg focus:outline-none
                               bg-[#faf9f7] text-[#453142] hover:bg-[#b187fc] hover:text-white transition-all border border-[#b187fc]/30"
                  >
                    <X className="w-4 h-4" />
                  </button>

                  <div className="p-8 pt-16">
                    {content}
                  </div>
                </div>
              </motion.div>
            </Dialog.Content>
          </Dialog.Portal>
        )}
      </AnimatePresence>
    </Dialog.Root>
  );
}



============================================================
FILE: .\wqtc\lib\api.ts
============================================================
// lib/api.ts

// We use the relative path '/api' because next.config.ts rewrites it to FastAPI
const API_BASE = '/api'; 

interface ApiOptions extends RequestInit {
  token?: string;
}

async function fetchAPI(endpoint: string, options: ApiOptions = {}) {
  const headers = {
    // Do not set Content-Type for FormData (file uploads)
    ...(options.body instanceof FormData ? {} : { 'Content-Type': 'application/json' }),
    ...options.headers,
  } as HeadersInit;

  const config: RequestInit = {
    ...options,
    headers,
    // 'include' ensures cookies (HttpOnly token) are sent to the backend
    credentials: 'include', 
  };

  const response = await fetch(`${API_BASE}${endpoint}`, config);

  if (response.status === 204) return null;

  const data = await response.json();

  if (!response.ok) {
    throw new Error(data.msg || data.detail || 'API Request Failed');
  }

  return data;
}

export const api = {
  // Auth
  login: (credentials: any) => 
    fetchAPI('/auth/login', { method: 'POST', body: JSON.stringify(credentials) }),
  logout: () => 
    fetchAPI('/auth/logout', { method: 'POST' }),
  me: () => 
    fetchAPI('/auth/me'),

  // Library / Videos
  // FastAPI expects { surah, versus, search, sort, limit } in body for POST /library
  getVideos: (filters: any) =>
    fetchAPI('/library', { method: 'POST', body: JSON.stringify(filters) }),
  
  // Admin Video Operations
  createVideo: (data: any) =>
    fetchAPI('/library/create', { method: 'POST', body: JSON.stringify(data) }),
  updateVideo: (id: number, data: any) =>
    fetchAPI(`/library/${id}`, { method: 'PUT', body: JSON.stringify(data) }), // Note: Check if your FastAPI has PUT logic
  deleteVideo: (id: number) =>
    fetchAPI(`/library/${id}`, { method: 'DELETE' }),

  // Surah management
  getSurahs: () =>
    fetchAPI('/surah'),
  createSurah: (data: any) =>
    fetchAPI('/surah', { method: 'POST', body: JSON.stringify(data) }),
  deleteSurah: (id: number) =>
    fetchAPI(`/surah/${id}`, { method: 'DELETE' }),

  // Ebooks
  getEbooks: (params: any = {}) => {
    // FastAPI uses GET /ebooks/?sort=DESC&limit=10
    const queryString = new URLSearchParams(params).toString();
    return fetchAPI(`/ebooks?${queryString}`, { method: 'GET' });
  },
  createEbook: (data: any) => 
    fetchAPI('/ebooks', { method: 'POST', body: JSON.stringify(data) }),
  updateEbook: (id: number, data: any) => 
    fetchAPI(`/ebooks/${id}`, { method: 'PUT', body: JSON.stringify(data) }),
  deleteEbook: (id: number) => 
    fetchAPI(`/ebooks/${id}`, { method: 'DELETE' }),
  
  // File Uploads (Admin)
  uploadPdf: (formData: FormData) =>
    fetchAPI('/ebooks/upload-pdf', { method: 'POST', body: formData }),
  uploadCover: (formData: FormData) =>
    fetchAPI('/ebooks/upload-cover', { method: 'POST', body: formData }),

  // Class Registrations
  createRegistration: (data: any) =>
    fetchAPI('/class-registration', { method: 'POST', body: JSON.stringify(data) }),
  getRegistrations: (params: any) => {
    const queryString = new URLSearchParams(params).toString();
    return fetchAPI(`/class-registration?${queryString}`);
  },
  updateRegistrationStatus: (id: number, status: string) =>
    fetchAPI(`/class-registration/${id}`, { method: 'PUT', body: JSON.stringify({ status }) }),
};



============================================================
FILE: .\wqtc\lib\utils.ts
============================================================
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}



============================================================
FILE: .\wqtc\lib\whatsapp.ts
============================================================
export function formatWhatsAppLink(phoneNumber: string, message: string) {
    const cleanNumber = phoneNumber.replace(/\D/g, '');
    const encodedMessage = encodeURIComponent(message);
    return `https://wa.me/${cleanNumber}?text=${encodedMessage}`;
  }
  
  export function getDefaultRegistrationMessage(registration: any) {
    return `
  Assalamu Alaikum,
  
  I would like to register for the WQTC Ladies Class:
  
  Language: ${registration.language}
  Timing: ${registration.timing}
  Days: ${registration.days}
  Class Type: ${registration.classType}
  
  My Details:
  Name: ${registration.name}
  Email: ${registration.email}
  Country: ${registration.country}
  
  ${registration.additionalNotes ? `Additional Notes: ${registration.additionalNotes}` : ''}
  
  Jazakallah Khair!
    `.trim();
  }
  


============================================================
FILE: .\wqtc\types\class.ts
============================================================
export interface ClassSchedule {
    id: string;
    language: string;
    classType: 'ongoing' | 'upcoming';
    timing: string;
    days: string;
    contactNumber: string;
    timezone: string;
    color: string;
    startDate?: string;
  }
  
  export interface ClassRegistration {
    id?: number;
    name: string;
    email: string;
    phone: string;
    whatsapp?: string;
    country: string;
    language: string;
    classType: string;
    timing: string;
    days: string;
    contactNumber: string;
    additionalNotes?: string;
    status?: string;
    createdAt?: Date;
  }
  


============================================================
FILE: .\wqtc\types\ebook.ts
============================================================
export interface EBook {
    id: number;
    title: string;
    filename: string;
    coverImage?: string | null;
    description?: string | null;
    pages?: number | null;
    createddate: Date;
    createdby: string;
  }


============================================================
FILE: .\wqtc\types\video.ts
============================================================
export interface Video {
    id: number;
    title: string;
    youTube_link: string;
    surah_no: number;
    surah_name: string | null;
    starting_ayah: number;
    ending_ayah: number | null;
    time_start_ayah: string | null;
    created_date: Date;
    created_by: string;
    keywords: string | null;
  }
  
  export interface Surah {
    id: number;
    name: string;
    verses: number;
  }
  
  export interface LibraryFilters {
    surah?: number;
    versus?: number;
    search?: string;
    sort?: 'ASC' | 'DESC';
    limit?: number;
  }
  

